(()=>{var e={506:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},154:e=>{function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t},354:e=>{e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},757:(e,t,n)=>{e.exports=n(666)},666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),i=new A(r||[]);return a._invoke=function(e,t,n){var r=p;return function(o,a){if(r===m)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw a;return O()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=x(i,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=m;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?h:d,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=h,n.method="throw",n.arg=l.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var p="suspendedStart",d="suspendedYield",m="executing",h="completed",f={};function v(){}function y(){}function E(){}var g={};g[a]=function(){return this};var _=Object.getPrototypeOf,C=_&&_(_(L([])));C&&C!==n&&r.call(C,a)&&(g=C);var b=E.prototype=v.prototype=Object.create(g);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,s){var l=u(e[o],e,a);if("throw"!==l.type){var c=l.arg,p=c.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(p).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,f;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function L(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:O}}function O(){return{value:t,done:!0}}return y.prototype=b.constructor=E,E.constructor=y,y.displayName=l(E,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,l(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},S(w.prototype),w.prototype[i]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new w(c(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(b),l(b,s,"Generator"),b[a]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=L,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},469:(e,t,n)=>{e.exports=n(342)(83)},43:(e,t,n)=>{e.exports=n(342)(890)},609:(e,t,n)=>{e.exports=n(342)(929)},342:e=>{"use strict";e.exports=lib_vendor}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n.n(undefined);var t=n.n(undefined),r=n(43),o=n(609),a="PLACE_REQUESTED",i="PLACE_REQUESTED_OK",s=function(e){return{type:a,payload:e}};const l={requested:s,requestedOk:function(e){return{type:i,forecast:e}}};var c="FORECAST_REQUESTED",u="FORECAST_REQUESTED_INCACHE",p="FORECAST_REQUESTED_OK",d=function(e){return{type:c,id:e}};const m={requested:d,requestedInCache:function(e){return{type:u,id:e}},requestedOk:function(e,t){return{type:p,forecast:e,id:t}}};var h="HOURLY_REQUESTED",f="HOURLY_REQUESTED_OK",v="HOURLY_REQUESTED_INCACHE",y=function(){return{type:h}};const E={requested:y,requestedOk:function(e,t){return{type:f,hourly:e,id:t}},requestedInCache:function(){return{type:v}}};var g="UV_REQUESTED",_="UV_REQUESTED_OK",C="UV_REQUESTED_INCACHE",b=function(){return{type:g}};const S={requested:b,requestedOk:function(e,t){return{type:_,json:e,id:t}},requestedInCache:function(){return{type:C}}};var w=n(154),x=n.n(w),T="MODAL_SHOW",k=function(e,t){return x()({type:T,id:e},t)};const A={showModal:k};var L="LOADING",O="SUCCESS",N="FAILED";const D=function(e,t){switch(void 0===e&&(e=""),t.type){case T:return"ERROR"===t.id?N:e;case a:case c:case h:case g:return L;case i:case p:case u:case f:case v:case _:case C:return O;default:return e}};var R="TOGGLE_LAYOUT",I="SET_THEME_NAME",M=function(e){return{type:R,key:e}},P=function(e){return{type:I,themeName:e}};var B={themeName:"GREY",isPopupForecast:!0,isSettings:!1,isPushMenu:!1};const G=function(e,t){switch(void 0===e&&(e=B),t.type){case T:return"SETTINGS"===t.id?x()({},e,{isSettings:!0}):e;case R:var n=t.key;return e[n]=!e[n],x()({},e);case I:return e.themeName=t.themeName,x()({},e);default:return e}};var U={id:void 0};const K=function(e,t){switch(void 0===e&&(e=U),t.type){case T:var n=t.id,r=t.errMsg;return e.id=n,e.errMsg=r,x()({},e);default:return e}};var W="SETTINGS_SET",H="SETTINGS_SET_APIKEY",F=function(e){return{type:W,apiKey:e}};const Y={setSettings:F,setApiKey:function(){return{type:H}}};var V={isApiKey:!1};const q=function(e,t){switch(void 0===e&&(e=V),t.type){case H:return e.isApiKey=!0,x()({},e);default:return e}};const j=function(e,t){switch(void 0===e&&(e={}),t.type){case i:var n=t.forecast,r=void 0===n?{}:n,o=r.id,a=void 0===o?"id":o;return e.recent=a,e[a]=r,x()({},e);default:return e}};const z=function(e,t){switch(void 0===e&&(e={}),void 0===t&&(t={}),t.type){case p:return e.recent=t.id,e[t.id]=t.forecast,x()({},e);case u:return e.recent=t.id,x()({},e);default:return e}};const X=function(e,t){switch(void 0===e&&(e={}),t.type){case f:return e.recent=t.id,e[t.id]=t.hourly,x()({},e);default:return e}};const Q=function(e,t){switch(void 0===e&&(e={}),t.type){case _:return e.recent=t.id,e[t.id]=t.json,x()({},e);default:return e}};const Z=(0,r.combineReducers)({fetching:D,layout:G,modal:K,settings:q,place:j,forecast:z,hourly:X,uv:Q});var J=n(757),$=n.n(J),ee=function(e){return"@@redux-saga/"+e},te=ee("CANCEL_PROMISE"),ne=ee("IO"),re=ee("MULTICAST"),oe=function(e){return"function"==typeof e},ae=function(e){return"string"==typeof e},ie=Array.isArray,se=function e(t){return t&&(ae(t)||ce(t)||oe(t)||ie(t)&&t.every(e))},le=function(e){return e&&oe(e.take)&&oe(e.close)},ce=function(e){return Boolean(e)&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};const ue=function(e,t){var n;void 0===t&&(t=!0);var r=new Promise((function(r){n=setTimeout(r,e,t)}));return r[te]=function(){clearTimeout(n)},r};var pe=function(e){return e};"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var de=function(e){throw e},me=function(e){return{value:e,done:!0}};function he(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,o=0,a=0,i=function(t){n[o]=t,o=(o+1)%e,r++},s=function(){if(0!=r){var t=n[a];return n[a]=null,r--,a=(a+1)%e,t}},l=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var c;if(r<e)i(s);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[o]=s,a=o=(o+1)%e;break;case 4:c=2*e,n=l(),r=n.length,o=n.length,a=0,n.length=c,e=c,i(s)}},take:s,flush:l}}var fe=function(e){return he(e,3)},ve="TAKE",ye="CALL",Ee="FORK",ge="SELECT",_e="ACTION_CHANNEL",Ce=function(e,t){var n;return(n={})[ne]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function be(e,t){return void 0===e&&(e="*"),se(e)?Ce(ve,{pattern:e}):le(n=e)&&n[re]&&null!=t&&se(t)?Ce(ve,{channel:e,pattern:t}):le(e)?Ce(ve,{channel:e}):void 0;var n}function Se(e,t){return null==t&&(t=e,e=void 0),Ce("PUT",{channel:e,action:t})}function we(e,t){var n,r=null;return oe(e)?n=e:(ie(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&ae(n)&&oe(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function xe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ce(ye,we(e,n))}function Te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ce(Ee,we(e,n))}function ke(e){void 0===e&&(e=pe);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ce(ge,{selector:e,args:n})}function Ae(e,t){return Ce(_e,{pattern:e,buffer:t})}var Le=xe.bind(null,ue),Oe=function(e){return{done:!0,value:e}},Ne={};function De(e){return le(e)?"channel":oe(t=e)&&t.hasOwnProperty("toString")?String(e):oe(e)?e.name:String(e);var t}function Re(e,t,n){var r,o,a,i=t;function s(t,n){if(i===Ne)return Oe(t);if(n&&!o)throw i=Ne,n;r&&r(t);var s=n?e[o](n):e[i]();return i=s.nextState,a=s.effect,r=s.stateUpdater,o=s.errorState,i===Ne?Oe(t):a}return function(e,t,n){void 0===t&&(t=de),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:me,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}(s,(function(e){return s(null,e)}),n)}function Ie(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a,i={done:!1,value:be(e)},s=function(e){return{done:!1,value:Te.apply(void 0,[t].concat(r,[e]))}},l=function(e){return a=e};return Re({q1:function(){return{nextState:"q2",effect:i,stateUpdater:l}},q2:function(){return{nextState:"q1",effect:s(a)}}},"q1","takeEvery("+De(e)+", "+t.name+")")}function Me(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];var i,s,l={done:!1,value:Ae(t,fe(1))},c=function(){return{done:!1,value:be(s)}},u=function(e){return{done:!1,value:Te.apply(void 0,[n].concat(o,[e]))}},p={done:!1,value:Le(e)},d=function(e){return i=e},m=function(e){return s=e};return Re({q1:function(){return{nextState:"q2",effect:l,stateUpdater:m}},q2:function(){return{nextState:"q3",effect:c(),stateUpdater:d}},q3:function(){return{nextState:"q4",effect:u(i)}},q4:function(){return{nextState:"q2",effect:p}}},"q1","throttle("+De(t)+", "+n.name+")")}function Pe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return Te.apply(void 0,[Ie,e,t].concat(r))}function Be(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];return Te.apply(void 0,[Me,e,t,n].concat(o))}var Ge,Ue=function(e){return function(e){return e.recent}(e.place)},Ke=function(e,t){return function(e,t){return e[t]}(e.place,t)},We=function(e,t){return function(e,t){return e[t]}(e.forecast,t)},He=function(e){return function(e){return e.recent}(e.forecast)},Fe=function(e,t){return function(e,t){return e[t].list}(e.forecast,t)},Ye=function(e,t){return function(e,t){return e[t].city.coord}(e.forecast,t)},Ve=function(e){return function(e){return e.recent}(e.hourly)},qe=function(e,t){return function(e,t){return e[t]}(e.hourly,t)},je=function(e){return function(e){return e.recent}(e.uv)},ze=function(e,t){return function(e,t){return e[t]}(e.uv,t)},Xe=function(e){return function(e){return e.isApiKey}(e.settings)},Qe=function(e){return function(e){return e.errMsg}(e.modal)},Ze=$().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(Xe);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),Je="&units=metric",$e="&lang=en",et="https://api.openweathermap.org/data/2.5/",tt=51.48,nt=-.13,rt=function(e,t){return void 0===t&&(t=2),"number"==typeof e&&e-e==0?parseFloat(e.toFixed(t)):e};const ot={setApiKey:function(e){return Ge=e,Promise.resolve(!0)},crForecast:function(e,t){return void 0===e&&(e=tt),void 0===t&&(t=nt),et+"weather?appid="+Ge+Je+$e+"&lat="+e+"&lon="+t},crForecastById:function(e){return et+"forecast/daily?appid="+Ge+"&cnt=7"+Je+"&id="+e+$e},crHourlyById:function(e){return""+et+"forecast?appid="+Ge+Je+"&id="+e+$e},crUV:function(e,t){return void 0===e&&(e=tt),void 0===t&&(t=nt),et+"uvi/"+"forecast?lat="+rt(e)+"&lon="+rt(t)+"&appid="+Ge}};var at="HTTP Status",it="Loading error. Please, check your network connection.";const st=function(e){return fetch(e).then((function(e){var t=e.status;return Promise.all([e.json(),Promise.resolve(t)])})).then((function(e){var t=e[0],n=e[1];if(n>=200&&n<300)return t;if(n>=400&&n<500){var r=t.message;throw new Error(at+": "+n+". "+r)}throw new Error(at+": "+n)})).catch((function(e){var t=e.message,n=void 0===t?"":t;if(-1!==n.indexOf(at))throw new Error(n);throw new Error(it+" "+n)}))};var lt=$().mark((function e(t){var n,r,o,a,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(Ze(),"t0",2);case 2:if(!e.t0){e.next=13;break}return n=t.payload,o=(r=void 0===n?{}:n).lat,a=r.lot,e.next=8,xe(st,ot.crForecast(o,a));case 8:return i=e.sent,e.next=11,Se(l.requestedOk(i));case 11:e.next=15;break;case 13:return e.next=15,Se(A.showModal("SETTINGS"));case 15:e.next=21;break;case 17:return e.prev=17,e.t1=e.catch(0),e.next=21,Se(A.showModal("ERROR",{errMsg:e.t1.message}));case 21:case"end":return e.stop()}}),e,null,[[0,17]])}));const ct=$().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(a,lt);case 2:case"end":return e.stop()}}),e)}));var ut=$().mark((function e(t){var n,r,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke();case 3:if(n=e.sent,r=t.id,We(n,r)){e.next=13;break}return e.next=8,xe(st,ot.crForecastById(r));case 8:return o=e.sent,e.next=11,Se(m.requestedOk(o,r));case 11:e.next=15;break;case 13:return e.next=15,Se(m.requestedInCache(r));case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),e.next=21,Se(A.showModal("ERROR",{errMsg:e.t0.message}));case 21:case"end":return e.stop()}}),e,null,[[0,17]])}));const pt=$().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(c,ut);case 2:case"end":return e.stop()}}),e)}));var dt=$().mark((function e(t){var n,r,o,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke();case 3:if(n=e.sent,r=He(n),o=Ve(n),!r||o===r){e.next=14;break}return e.next=9,xe(st,ot.crHourlyById(r));case 9:return a=e.sent,e.next=12,Se(E.requestedOk(a,r));case 12:e.next=16;break;case 14:return e.next=16,Se(E.requestedInCache(r));case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(0),e.next=22,Se(A.showModal("ERROR",{errMsg:e.t0.message}));case 22:case"end":return e.stop()}}),e,null,[[0,18]])}));const mt=$().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(h,dt);case 2:case"end":return e.stop()}}),e)}));var ht=$().mark((function e(t){var n,r,o,a,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke();case 3:if(n=e.sent,r=He(n),o=je(n),!r||o===r){e.next=15;break}return a=Ye(n,r),e.next=10,xe(st,ot.crUV(a.lat,a.lon));case 10:return i=e.sent,e.next=13,Se(S.requestedOk(i,r));case 13:e.next=17;break;case 15:return e.next=17,Se(S.requestedInCache());case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(0),e.next=23,Se(A.showModal("ERROR",{errMsg:e.t0.message}));case 23:case"end":return e.stop()}}),e,null,[[0,19]])}));const ft=$().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(g,ht);case 2:case"end":return e.stop()}}),e)}));var vt=$().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(ot.setApiKey,t.apiKey);case 2:return e.next=4,Se(Y.setApiKey());case 4:case"end":return e.stop()}}),e)}));const yt=$().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(500,W,vt);case 2:case"end":return e.stop()}}),e)}));const Et=$().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t=[ct(),pt(),mt(),ft(),yt()],n=void 0,(n=Ce("ALL",t)).combinator=!0,n;case 2:case"end":return e.stop()}var t,n}),e)}));var gt=(0,o.default)(Et);const _t=function(){var e=[gt],t=r.compose,n=(0,r.createStore)(Z,t(r.applyMiddleware.apply(void 0,e)));return gt.run(Et),n};var Ct=n(354),bt=n.n(Ct);const St=e()||window.React;const wt=St.createContext();var xt,Tt={},kt={BG:"grey",BG_MARK:"#646464",BG_DIALOG:"#4d4d4d"},At={BG:"#e8e0cb",BG_MARK:"grey",BG_DIALOG:"#e8e0cb"},Lt={BG:"white",BG_MARK:"grey",BG_DIALOG:"white"},Ot="GREY",Nt="SAND",Dt="WHITE",Rt={BG:{},BG_MARK:{},DIALOG:{},LABEL:{color:"#795548"},DAY:{color:"#8bc34a"},TEMP_DAY:{color:"#ff9800"},TEMP_NIGHT:{color:"#434348"}},It=[function(e){e.BG.backgroundColor=Tt.BG},function(e){e.BG_MARK.backgroundColor=Tt.BG_MARK},function(e){e.DIALOG.backgroundColor=Tt.BG_DIALOG}],Mt=function(e){It.forEach((function(t){return t(e)}))},Pt=function(){[].concat(document.querySelectorAll(".leaflet-popup-content-wrapper")).forEach((function(e){e&&e.style&&(e.style.backgroundColor=Tt.BG)}))},Bt=((xt={})["GREY"]=function(){Object.assign(Tt,kt),Mt(Rt),Pt()},xt[Nt]=function(){Object.assign(Tt,At),Mt(Rt),Pt()},xt[Dt]=function(){Object.assign(Tt,Lt),Mt(Rt),Pt()},xt),Gt={themeName:Ot,_init:function(){this.setThemeName(Ot)},getThemeName:function(){return this.themeName},setThemeName:function(e){this.themeName=e,Bt[e]()},createStyle:function(e){return this.themeName!==e._themeName&&(e._style=e._createStyle(Rt,this.themeName),e._themeName=this.themeName),e._style}};Gt._init();const Ut=Gt;var Kt={backgroundColor:"#787878",border:"1px solid #999",borderRadius:"12px",boxShadow:"rgba(0, 0, 0, 0.2) 0px 0px 0px 12px"},Wt=St.Component;const Ht=function(e){return function(t){function n(){return t.apply(this,arguments)||this}return bt()(n,t),n.prototype.render=function(){var t=this;return St.createElement(wt.Consumer,null,(function(n){return St.createElement(e,x()({},t.props,{theme:n}))}))},n}(Wt)};const Ft={_themeName:void 0,_style:void 0,_createStyle:function(e){return{R_DIALOG:x()({},e.DIALOG)}}};var Yt={SVG:{padding:3}};const Vt=function(e){var t=e.style,n=e.onClose;return St.createElement("div",{className:"svg-close",style:t,onClick:n},St.createElement("svg",{viewBox:"0 0 12 12",width:"100%",height:"100%",style:Yt.SVG,preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"},St.createElement("path",{d:"M 0,0 L 12,12",strokeWidth:"2",stroke:"#ED5813",strokeLinecap:"round"}),St.createElement("path",{d:"M 12,0 L 0,12",strokeWidth:"2",stroke:"#ED5813",strokeLinecap:"round"})))};var qt="bt-raised",jt="bt-raised__div",zt="bt-raised__span",Xt={PRIMARY_SPAN:{color:"greenyellow"}};const Qt=function(e){var t=e.rootStyle,n=e.clDiv,r=void 0===n?jt:n,o=e.caption,a=e.isPrimary,i=e.onClick,s=a?Xt.PRIMARY_SPAN:void 0;return St.createElement("button",{tabIndex:0,className:qt,style:t,onClick:i},St.createElement("div",{className:r},St.createElement("span",{className:zt,style:s},o)))};var Zt=St.Component,Jt="show-popup",$t="hide-popup",en={SHOW:{display:"block"},HIDE:{display:"none"},HIDE_POPUP:{opacity:0,transform:"scaleY(0)"},ROOT_DIV:{position:"absolute",top:"15%",left:"40%",display:"block",backgroundColor:"#4D4D4D",border:"solid 2px #3f5178",borderRadius:"5px",boxShadow:"rgba(0, 0, 0, 0.2) 0px 0px 0px 6px",zIndex:10},CAPTON_DIV:{padding:"5px",color:"#9e9e9e",backgroundColor:"#3f5178",textAlign:"center",fontSize:"18px"},COMMAND_DIV:{cursor:"default",float:"right",marginTop:"8px",marginBottom:"10px",marginRight:"4px"}},tn=function(e){function t(t){var n;return(n=e.call(this)||this)._renderCommandButton=function(){var e=n.props,t=e.commandButtons,r=e.commandStyle,o=e.withoutClose,a=e.onClose;return St.createElement("div",{style:x()({},en.COMMAND_DIV,r)},t,!o&&St.createElement(Qt,{isPrimary:!0,caption:"Close",onClick:a}))},n.wasClosing=!1,n}bt()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return e===this.props||!e.isNotUpdate},n.componentDidUpdate=function(e,t){var n=this;this.wasClosing&&setTimeout((function(){n.setState({})}),this.props.timeout)},n._handleClickDialog=function(e){e.stopPropagation()},n.render=function(){var e,t,n=this.props,r=n.isShow,o=n.isWithButton,a=n.style,i=n.caption,s=n.styleCaption,l=n.children,c=n.childrenStyle,u=n.onClose;return this.wasClosing?(t=en.HIDE,this.wasClosing=!1):(e=r?Jt:$t,t=r?en.SHOW:en.HIDE_POPUP,r||(this.wasClosing=!0)),St.createElement("div",{className:e,style:x()({},en.ROOT_DIV,a,t),onClick:this._handleClickDialog},St.createElement("div",{style:en.CAPTON_DIV},St.createElement("span",{style:s},i),St.createElement(Vt,{onClose:u})),St.createElement("div",{style:c},l),o&&this._renderCommandButton())},t}(Zt);tn.defaultProps={isWithButton:!0,isNotUpdate:!1,timeout:450};const nn=tn;var rn=n(506),on=n.n(rn),an=St.Component,sn={UL:{listStyle:"outside none none",marginTop:5,marginLeft:10,marginRight:5,marginBottom:5,textAlign:"center"},TABS:{width:"100%",height:"100%"},TAB_SELECTED:{display:"block",width:"100%",height:"100%"},NONE:{display:"none"}};const ln=function(e){function t(t){var n;(n=e.call(this,t)||this)._handlerClickTab=function(e,t){n.setState({selectedTabIndex:e}),"function"==typeof t.props.onClick&&t.props.onClick()},n._renderTabs=function(e){var t=n.state.selectedTabIndex;return e.map((function(e,r){var o=r===t;return St.cloneElement(e,{key:r,id:r,onClick:n._handlerClickTab.bind(on()(n),r,e),isSelected:o})}))},n._renderComponents=function(){var e=n.state,t=e.selectedTabIndex;return e.components.map((function(e,n){var r=n===t?sn.TAB_SELECTED:sn.NONE;return St.createElement("div",{style:r,key:"a"+n,role:"tabpanel",id:"tabpanel-"+n,"aria-labelledby":"tab-"+n},e)}))};var r=t.children.map((function(e,t){return St.cloneElement(e.props.children,{key:"comp"+t})}));return n.state={selectedTabIndex:0,components:r},n}bt()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.width,n=e.height,r=e.tabsStyle,o=e.children;return St.createElement("div",{style:{width:t,height:n}},St.createElement("ul",{style:x()({},sn.UL,r)},this._renderTabs(o)),St.createElement("div",{style:sn.TABS},this._renderComponents()))},n.getSelectedTabIndex=function(){return this.state.selectedTabIndex},t}(an);var cn={BT:{color:"#2f7ed8",borderBottom:"3px solid #2f7ed8"},TITLE:{color:"#2f7ed8"}};const un=function(e){var t=e.id,n=e.title,r=e.isSelected,o=e.onClick,a=r?cn.BT:null,i=r?cn.TITLE:null;return St.createElement("button",{className:"tab",style:a,id:"tab-"+t,role:"tab","aria-selected":r,"aria-controls":"tabpanel-"+t,tabIndex:"0",onClick:o},St.createElement("span",{style:i},n))};var pn=St.Component,dn="m-select",mn="m-select__label",hn="m-textfield-input__div",fn="m-textfield-input",vn="m-input__line",yn="m-input__msg-err",En={LABEL_TO_INPUT:{transform:"scale(1) translate(0px, -6px)"},LABEL_ON_ERROR:{color:"#F44336"},LINE_ERROR:{borderBottom:"2px solid #F44336"}},gn=function(e){function t(t){var n;return(n=e.call(this,t)||this)._handleFocusInput=function(){n.isFocus=!0,n.forceUpdate()},n._handleBlurInput=function(){n.isFocus=!1,n.forceUpdate()},n._clearAttrValue=function(){n._clearId=setTimeout((function(){var e=n._input;e&&e.hasAttribute("value")&&e.removeAttribute("value")}))},n._hInputChange=function(e){n.setState({value:e.target.value.trim(),isPassTest:n.props.onTest(e.target.value.trim())})},n._hKeyDown=function(e){46===e.keyCode?n.setState({value:""}):13===e.keyCode&&(e.preventDefault(),n.props.onEnter(e.target.value),n._wasEnter=!0,n.forceUpdate(n._clearWasEnter))},n._hMaskInputChange=function(e){var t=e.target.value;n._value=function(e,t){var n;if(e){var r=e.length,o=t.length;n=o>r?e+t.substr(r):e.substr(0,o)}else n=t;return n.trim()}(n._value,t);var r=function(e){void 0===e&&(e=0);for(var t=0,n="";t<e;t++)n+="X";return n}(n._value.length);n.setState({value:r,isPassTest:n.props.onTest(n._value)})},n._hMaskKeyDown=function(e){46===e.keyCode||27===e.keyCode?(n._value="",n.setState({value:""})):13===e.keyCode&&n.props.onEnter(e.target.value)},n._isValue=function(e){return e?!!n._input&&!!n._input.value:!!n.state.value},n._refInput=function(e){return n._input=e},n.isFocus=!1,n._id=function(e){return e.name+"_sf"}(t),n.state={value:"",isPassTest:!0},n}bt()(t,e);var n=t.prototype;return n.componentWillUnmound=function(){clearTimeout(this._clearId)},n.render=function(){var e=this.props,t=e.rootStyle,n=e.caption,r=e.isAllowRemember,o=e.name,a=e.maxLength,i=e.errorMsg,s=void 0===i?"":i,l=this.state,c=l.value,u=l.isPassTest,p=this._isValue(r)||this.isFocus?void 0:En.LABEL_TO_INPUT,d=u?void 0:En.LABEL_ON_ERROR,m=u?void 0:En.LINE_ERROR,h=r?{autoComplete:"current-password",value:c,onChange:this._hInputChange,onKeyDown:this._hKeyDown}:{autoComplete:"off",value:c,onChange:this._hMaskInputChange,onKeyDown:this._hMaskKeyDown};return St.createElement("form",{className:dn,style:t},St.createElement("label",{className:mn,style:x()({},p,d),htmlFor:this._id},n),St.createElement("div",{className:hn},St.createElement("input",{hidden:!0,autoComplete:"username",value:o,readOnly:!0}),St.createElement("input",x()({ref:this._refInput,id:this._id,type:"password",className:fn,maxLength:a,onFocus:this._handleFocusInput,onBlur:this._handleBlurInput},h)),St.createElement("div",{className:vn,style:m}),m&&St.createElement("div",{className:yn},s)))},n.componentDidUpdate=function(e){this.props!==e&&this.props.isAllowRemember!==e.isAllowRemember&&(this._input.value="",this.props.isAllowRemember&&(this._value="",this.setState({value:""}))),this._clearAttrValue()},n.getValue=function(){return this.props.isAllowRemember&&this._input?this._input.value:String(this._value).trim()},t}(pn);gn.defaultProps={name:"pwd",maxLength:"32",onTest:function(){return!0},onEnter:function(){}};const _n=gn;const Cn={YELLOW:"#f1d600",BROWN:"#795548",GREY:"#777777",BLANK:"rgba(0, 0, 0, 0)"};var bn=St.Component,Sn={DIV:{display:"inline-block",width:16,height:16,cursor:"pointer"},SVG:{display:"inline-block"}},wn=St.createElement("path",{d:"M 2,3 L 8,14 14,3",strokeWidth:"2",stroke:Cn.YELLOW,fill:Cn.BLANK}),xn=function(e){return"function"==typeof e};const Tn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._hClick=function(){var e=t.props,n=e.value,r=e.onCheck,o=e.onUnCheck;!n&&xn(r)?r(on()(t)):xn(o)&&o(on()(t))},t}return bt()(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.value?wn:null;return St.createElement("div",{style:x()({},Sn.DIV,t),onClick:this._hClick},St.createElement("svg",{viewBox:"0 0 16 16",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:Sn.SVG},St.createElement("rect",{x:"1",y:"1",height:"14",width:"14",strokeWidth:"2",rx:"3",stroke:Cn.GREY,fill:Cn.BLANK}),n))},t}(bn);var kn=St.Component,An={ROOT:{paddingTop:"6px",paddingLeft:"16px"},CAPTION:{display:"inline-block",color:"grey",paddingLeft:"12px",fontSize:"16px",fontWeight:"bold",userSelect:"none",cursor:"pointer"},CHECKED:{color:"black"}};const Ln=function(e){function t(t){var n;return(n=e.call(this)||this)._handleCheck=function(){var e=n.props.onCheck;"function"==typeof e&&e(),n.setState({isChecked:!0})},n._handleUnCheck=function(){var e=n.props.onUnCheck;"function"==typeof e&&e(),n.setState({isChecked:!1})},n._handleToggle=function(){n.state.isChecked?n._handleUnCheck():n._handleCheck()},n.state={isChecked:!!t.initValue},n}return bt()(t,e),t.prototype.render=function(){var e=this.props,t=e.rootStyle,n=e.caption,r=e.captionStyle,o=this.state.isChecked,a=o?An.CHECKED:null;return St.createElement("div",{style:x()({},An.ROOT,t)},St.createElement(Tn,{value:o,onCheck:this._handleCheck,onUnCheck:this._handleUnCheck}),n&&St.createElement("span",{style:x()({},An.CAPTION,r,a),onClick:this._handleToggle},n))},t}(kn);var On=St.Component,Nn={ROOT:{position:"relative",height:"200px"},SECRET:{width:"280px"},CHECK_BOX:{paddingLeft:"24px",paddingTop:"16px",paddingRight:"24px"},CHECK_CAPTION:{display:"inline"},BUTTONS:{position:"absolute",right:"4px",bottom:0,cursor:"default"}};const Dn=function(e){function t(t){var n;return(n=e.call(this,t)||this)._checkAllow=function(){n.setState({isAllow:!0})},n._uncheckAllow=function(){n.setState({isAllow:!1})},n._refInput=function(e){return n._input=e},n.state={isAllow:!1},n}bt()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.style,n=e.buttonsStyle,r=e.onClose,o=e.onSet,a=this.state.isAllow;return St.createElement("div",{style:t},St.createElement(_n,{ref:this._refInput,rootStyle:Nn.SECRET,caption:"OpenWeatherMap API Key",isAllowRemember:a,name:"openweathermap"}),St.createElement(Ln,{rootStyle:Nn.CHECK_BOX,initValue:!1,caption:"Allow Remember Enter of API Key by Browser Password Manager",captionStyle:Nn.CHECK_CAPTION,onCheck:this._checkAllow,onUnCheck:this._uncheckAllow}),St.createElement("div",{style:n},St.createElement(Qt,{caption:"Set & Close",onClick:o}),St.createElement(Qt,{isPrimary:!0,caption:"Close",onClick:r})))},n.getValue=function(){return this._input.getValue()},t}(On);var Rn={SVG:{display:"inline-block",color:"black",fill:"black",height:"24px",width:"24px",userSelect:"none",transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms"}};const In=function(){return St.createElement("svg",{viewBox:"0 0 24 24",style:Rn.ROOT},St.createElement("path",{d:"M7 10l5 5 5-5z"}))};var Mn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._handleClickOutside=function(e){var n=t.props.onClose;t.rootNode&&!t.rootNode.contains(e.target)&&n(e)},t._refRootNode=function(e){return t.rootNode=e},t}bt()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){this.props!==e&&(this.props.isShow?document.addEventListener("click",this._handleClickOutside,!0):document.removeEventListener("click",this._handleClickOutside,!0))},n.render=function(){var e=this.props,t=e.style,n=e.children;return St.createElement("div",{style:t,ref:this._refRootNode},n)},t}(St.Component);Mn.defaultProps={onClose:function(){}};const Pn=Mn;var Bn={SHOW:{display:"block"},HIDE:{display:"none"}};const Gn=function(e){var t=e.isShow,n=e.className,r=e.style,o=e.children,a=t?Bn.SHOW:Bn.HIDE,i=t?"show-popup":"",s=n?n+" "+i:i||void 0;return St.createElement("div",{className:s,style:x()({},r,a)},o)};var Un={PANE:{position:"absolute",top:12,zIndex:"20",width:"100%",paddingTop:12,paddingBottom:12,backgroundColor:"rgb(77, 77, 77)",borderRadius:2,boxShadow:"rgba(0, 0, 0, 0.3) 0px 2px 2px 0px, rgba(0, 0, 0, 0.1) 0px 0px 0px 1px"},ITEM:{color:"greenyellow"}};const Kn=function(e){var t=e.isShow,n=e.options,r=e.item,o=e.rootStyle,a=e.clItem,i=e.onSelect,s=e.onClose;return St.createElement(Pn,{style:o,isShow:t,onClose:s},St.createElement(Gn,{isShow:t,style:x()({},Un.PANE,o)},function(e,t,n,r,o){return e.map((function(e,o){var a=e.value===t.value?Un.ITEM:void 0;return St.createElement("div",{key:o,style:a,className:n,onClick:r.bind(null,e)},e.caption)}))}(n,r,a,i)))};var Wn=St.Component,Hn="m-select",Fn="m-select__label",Yn="m-select__div",Vn="m-select__div__value",qn="m-select__div__bt",jn="m-select__line",zn="m-select__item",Xn=function(e){function t(t){var n;return(n=e.call(this)||this)._handleOpen=function(){n.setState({isShow:!0})},n._handleClose=function(){n.setState({isShow:!1})},n._handleSelect=function(e,t){t.stopPropagation(),n.props.onSelect(e),n.setState({isShow:!1,item:e})},n.state={isShow:!1,item:t.initItem},n}return bt()(t,e),t.prototype.render=function(){var e=this.props,t=e.caption,n=e.options,r=e.styleConfig,o=void 0===r?{}:r,a=e.selectedItem,i=this.state,s=i.isShow,l=i.item,c=a||l;return St.createElement("div",{className:Hn,style:o.ROOT,onClick:this._handleOpen},St.createElement(Kn,{rootStyle:o.MODAL_PANE,isShow:s,item:c,options:n,clItem:o.CL_ITEM||zn,onSelect:this._handleSelect,onClose:this._handleClose}),St.createElement("label",{className:Fn},t),St.createElement("div",{className:Yn},St.createElement("div",{className:Vn},c.caption),St.createElement("button",{className:qn,tabIndex:"0"},St.createElement("div",null,St.createElement(In,null))),St.createElement("div",{className:jn})))},t}(Wn);Xn.defaultProps={initItem:{caption:"",value:""}};const Qn=Xn;var Zn=St.Component,Jn={SELECT:{ROOT:{width:"280px"}}},$n={caption:"Grey",value:"GREY"},er=[{caption:"Grey",value:"GREY"},{caption:"Sand",value:"SAND"},{caption:"White",value:"WHITE"}];const tr=function(e){function t(){return e.apply(this,arguments)||this}return bt()(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.buttonsStyle,r=e.onSetTheme,o=e.onClose;return St.createElement("div",{style:t},St.createElement(Qn,{styleConfig:Jn.SELECT,caption:"Theme (Default: Grey)",initItem:$n,options:er,onSelect:r}),St.createElement("div",{style:n},St.createElement(Qt,{isPrimary:!0,caption:"Close",onClick:o})))},t}(Zn);var nr=St.Component,rr={MODAL:{position:"static",width:"342px",height:"285px",margin:"70px auto 0px"},TABS:{textAlign:"left",marginLeft:"24px"},TAB_SELECTED:{color:"black"},CARD_ROOT:{position:"relative",height:"200px"},CARD_BUTTONS:{position:"absolute",right:"4px",bottom:0,cursor:"default"}};const or=Ht(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._isNextPropIsShowSame=function(e){return e!==t.props&&e.isShow===t.props.isShow},t._handleSet=function(){var e=t.props,n=e.data,r=e.onClose;(0,n.onSet)(t.inputApiKey.getValue()),r()},t._handleSetTheme=function(e){var n=t.props,r=n.theme,o=n.data.onSetTheme,a=r.themeName;o(r,e.value),a!==e.value&&t.forceUpdate()},t._refInput=function(e){return t.inputApiKey=e},t}bt()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return!this._isNextPropIsShowSame(e)},n.render=function(){var e=this.props,t=e.theme,n=e.isShow,r=e.onClose,o=t.createStyle(Ft);return St.createElement(nn,{style:x()({},rr.MODAL,o.R_DIALOG),caption:"User Settings",isShow:n,isWithButton:!1,onClose:r},St.createElement(ln,{width:"100%",tabsStyle:rr.TABS},St.createElement(un,{title:"API Key",selectedStyle:rr.TAB_SELECTED},St.createElement(Dn,{ref:this._refInput,style:rr.CARD_ROOT,buttonsStyle:rr.CARD_BUTTONS,onSet:this._handleSet,onClose:r})),St.createElement(un,{title:"UI Theme",selectedStyle:rr.TAB_SELECTED},St.createElement(tr,{style:rr.CARD_ROOT,buttonsStyle:rr.CARD_BUTTONS,onSetTheme:this._handleSetTheme,onClose:r}))))},t}(nr));var ar=St.Component,ir={MODAL:{position:"static",width:"335px",height:"285px",margin:"70px auto 0px"},MSG:{height:"200px",lineHeight:1.2,padding:"16px",fontWeight:600}};const sr={SETTINGS:or,ERROR:Ht(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._isNextPropIsShowSame=function(e){return e!==t.props&&e.isShow===t.props.isShow},t}bt()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return!this._isNextPropIsShowSame(e)},n.render=function(){var e=this.props,t=e.theme,n=e.isShow,r=e.store,o=e.onClose,a=t.createStyle(Ft),i=Qe(r.getState());return St.createElement(nn,{style:x()({},ir.MODAL,a.R_DIALOG),caption:"Error Description",isShow:n,onClose:o},St.createElement("div",{style:ir.MSG},i))},t}(ar))};const lr={getData:function(e,t){switch(t){case"SETTINGS":return{onSet:function(t){e.dispatch(F(t))},onSetTheme:function(t,n){t.setThemeName(n),e.dispatch(P(n))},onBeforeClose:function(){e.dispatch(M("isSettings"))}};default:return}}};var cr=St.Component,ur="modal-root",pr="modal-root show-modal",dr="modal-root hide-modal",mr={SHOW:{display:"block"},HIDE:{display:"none"},HIDE_BACKGROUND:{backgroundColor:"rgba(0,0,0, 0)"}},hr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).wasClosing=!0,t}bt()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){var n=this;this.wasClosing&&setTimeout((function(){n.setState({})}),this.props.timeout)},n.render=function(){var e,t,n=this.props,r=n.isShow,o=n.children,a=n.onClose;return this.wasClosing?(e=ur,t=mr.HIDE,this.wasClosing=!1):(e=r?pr:dr,t=r?mr.SHOW:mr.HIDE_BACKGROUND,r||(this.wasClosing=!0)),St.createElement("div",{className:e,style:t,onClick:a},o)},t}(cr);hr.defaultProps={timeout:450};const fr=hr;const vr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isShow:!1,inits:{},shows:{},data:{},dialogs:[],currentDialog:null},t._onStore=function(){var e=t.props.store,n=e.getState().modal,r=n.id;if(r&&t.modal!==n){t.modal=n;var o=t.state,a=o.inits,i=o.shows,s=o.data,l=o.dialogs;a[r]?(i[r]=!0,t.setState({isShow:!0,currentDialog:r,shows:i,data:s})):(l.push({type:r,comp:sr[r]}),s[r]=lr.getData(e,r),a[r]=!0,i[r]=!0,t.setState({isShow:!0,currentDialog:r,shows:i,data:s,dialogs:l}))}},t._handleClose=function(e){var n=(t.state.data[e]||{}).onBeforeClose;"function"==typeof n&&n(),t.setState((function(t){return t.shows[e]=!1,{isShow:!1,currentDialog:null,shows:t.shows}}))},t._renderDialogs=function(){var e=t.props.store,n=t.state,r=n.shows,o=n.data;return n.dialogs.map((function(n){var a=n.type,i=n.comp;return St.createElement(i,{key:a,isShow:r[a],data:o[a],store:e,onClose:t._handleClose.bind(null,a)})}))},t}bt()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unsubscribe=this.props.store.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.state,t=e.isShow,n=e.currentDialog;return St.createElement(fr,{isShow:t,onClose:this._handleClose.bind(null,n)},this._renderDialogs())},t}(St.Component);var yr=St.Component,Er="width 500ms ease-out",gr="opacity 400ms linear",_r=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).wasCompleted=!1,t.idCompleted=null,t.wasOpacied=!1,t.idOpacied=null,t}bt()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.idCompleted&&clearTimeout(this.idCompleted),this.idOpacied&&clearTimeout(this.idOpacied)},n.componentDidUpdate=function(){var e=this;this.wasCompleted?this.idCompleted=setTimeout((function(){e.idCompleted=null,e.forceUpdate()}),800):this.wasOpacied&&(this.idOpacied=setTimeout((function(){e.idOpacied=null,e.forceUpdate()}),800))},n.render=function(){var e,t=this.props,n=t.color,r=t.height;if(this.wasOpacied)e={backgroundColor:n,width:0,opacity:1,height:r},this.wasOpacied=!1;else if(this.wasCompleted)e={backgroundColor:n,width:"100%",opacity:0,transition:gr,height:r},this.wasCompleted=!1,this.wasOpacied=!0;else{var o=this.props.completed;o<0?o=0:o>=100&&(o=100,this.wasCompleted=!0),e={backgroundColor:n,opacity:1,width:o+"%",transition:Er,height:r}}return St.createElement("div",{className:"progress-line",style:e})},t}(yr);_r.defaultProps={color:"#2F7ED8",height:3};const Cr=_r;var br="#2F7ED8",Sr="rgb(237, 88, 19)";const wr=function(e){function t(t){var n;return(n=e.call(this)||this)._onStore=function(){var e=n.props.store.getState().fetching;if(n.fetching!==e)switch(n.fetching=e,e){case L:n.setState({completed:35,color:br});break;case O:n.setState({completed:100,color:br});break;case N:n.setState({completed:100,color:Sr})}},n.fetching=t.store.getState().fetching,n.state={completed:0,color:br},n}bt()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unsubscribe=this.props.store.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.state,t=e.completed,n=e.color;return St.createElement(Cr,{height:3,color:n,completed:t})},t}(St.Component);var xr=St.Component,Tr={HAMBURGER:{width:"2.2rem",height:"2.2rem",verticalAlign:"middle",marginBottom:"0.5rem",marginLeft:"0.8rem",borderRadius:"0.4rem"}};const kr=function(e){function t(t){var n;(n=e.call(this,t)||this)._onStore=function(){var e=n.props,t=e.store,r=e.storeKey;t.getState().layout[r]!==n.state.isOpen&&n.setState((function(e){return{isOpen:!e.isOpen}}))},n.handleClick=function(){var e=n.props,t=e.onClick,r=e.store,o=e.storeKey;r.dispatch(t(o))};var r=t.store.getState();return n.state={isOpen:r.layout[t.storeKey]},n}bt()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unsubscribe=this.props.store.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.state.isOpen?"bt-hamburger opened":"bt-hamburger";return St.createElement("button",{className:e,style:Tr.HAMBURGER,onClick:this.handleClick},St.createElement("span",null))},t}(xr);var Ar=St.Component,Lr={display:"inline-block",color:"#80c040",width:22,height:22,border:"2px solid #80c040",borderRadius:"50%",textAlign:"center",fontWeight:"bold",cursor:"pointer"},Or={color:"#5b5b5b"},Nr=function(e){var t=e.store,n=e.storeKey;return t.getState().layout[n]};const Dr=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onStore=function(){var e=Nr(n.props);e!==n.state.isActive&&n.setState({isActive:e})},n._hClick=function(){var e=n.props,t=e.storeKey;(0,e.onClick)(t)},n.state={isActive:Nr(t)},n}bt()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unsubscribe=this.props.store.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.props,t=e.caption,n=e.title,r=e.style,o=this.state.isActive?x()({},Lr,r):x()({},Lr,r,Or);return St.createElement("span",{className:"not-selected",style:o,title:n,onClick:this._hClick},t)},t}(Ar);var Rr={LINK:{color:"#ff9800"}};const Ir=function(e){var t=e.className,n=e.style,r=e.prefixCL,o=e.prefix,a=void 0===o?"Powered By ":o;return St.createElement("div",{className:t,style:n},St.createElement("span",{className:r},a),St.createElement("a",{className:"data-provider-link",style:Rr.LINK,href:"https://openweathermap.org/"},"OpenWeatherMap"))};const Mr=function(e){var t=e.className,n=e.title,r=e.href;return St.createElement("a",{className:t,title:n,href:r,tabIndex:"-1"},St.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"1.414"},St.createElement("title",null,"GitHub Logo"),St.createElement("path",{d:"M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.437 1.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8"})))};const Pr={_themeName:void 0,_style:void 0,_createStyle:function(e){return{HEADER:x()({},e.BG)}}};var Br=St.Component,Gr="header__title",Ur="header__link-pref",Kr="header__link-provider",Wr="header__github-link",Hr={BT_CIRCLE:{width:"1.8rem",height:"1.8rem",lineHeight:"1rem",marginLeft:"1rem",paddingTop:"0.3rem"}};const Fr=Ht(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._hForecast=function(e){(0,t.props.store.dispatch)(M(e))},t._hSettings=function(e){var n=t.props.store.dispatch;n(M(e)),n(k("SETTINGS"))},t}return bt()(t,e),t.prototype.render=function(){var e=this.props,t=e.rootStyle,n=e.store,r=e.theme.createStyle(Pr);return St.createElement("header",{role:"banner",style:x()({},t,r.HEADER)},St.createElement(wr,{store:n}),St.createElement(kr,{store:n,storeKey:"isPushMenu",onClick:M}),St.createElement("span",{className:Gr},"Weather v0.2.0"),St.createElement(Dr,{style:Hr.BT_CIRCLE,caption:"F",title:"Toggle Forecast Popup",store:n,storeKey:"isPopupForecast",onClick:this._hForecast}),St.createElement(Dr,{style:Hr.BT_CIRCLE,caption:"S",title:"Open Settings Dialog",store:n,storeKey:"isSettings",onClick:this._hSettings}),St.createElement(Ir,{className:Kr,prefixCL:Ur}),St.createElement(Mr,{className:Wr,title:"GitHub Repository",href:"https://github.com/zhnzhn/weather-forecast"}))},t}(Br));var Yr=St.Component,Vr="show-popup",qr="not-selected",jr={OPEN_COLOR:Cn.YELLOW,CLOSE_COLOR:Cn.BLANK},zr={ROOT_DIV:{lineHeight:2},ROOT_SVG:{display:"inline-block",width:"16px",height:"16px",marginLeft:"8px"},CAPTION:{color:Cn.SIREN,paddingLeft:"4px",verticalAlign:"top",fontFamily:"Roboto, Arial Unicode MS, Arial, sans-serif",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},CURSOR:{cursor:"pointer"},INLINE_BLOCK:{display:"inline-block"},BLOCK:{display:"block"},NONE:{display:"none"}},Xr=function(e){function t(t){var n;(n=e.call(this,t)||this)._handleClick=function(){n.setState((function(e){return{isOpen:!e.isOpen}}))};var r=t.isClose;return n.state={isOpen:!r},n}return bt()(t,e),t.prototype.render=function(){var e,t,n,r,o=this.props,a=o.rootStyle,i=o.caption,s=o.openColor,l=o.closeColor,c=o.CompAfter,u=o.isClickableCompAfter,p=o.childStyle,d=o.children;return this.state.isOpen?(e="M 2,14 L 14,14 14,2 2,14",t=s,n=zr.BLOCK,r=Vr):(e="M 2,2 L 14,8 2,14 2,2",t=l,n=zr.NONE,r=null),St.createElement("div",{style:x()({},zr.ROOT_DIV,a)},St.createElement("div",{className:qr},St.createElement("div",{style:x()({},zr.INLINE_BLOCK,zr.CURSOR),onClick:this._handleClick},St.createElement("div",{style:zr.ROOT_SVG},St.createElement("svg",{viewBox:"0 0 16 16",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:zr.INLINE_BLOCK},St.createElement("path",{d:e,fill:t,strokeWidth:"1",stroke:s}))),St.createElement("span",{style:zr.CAPTION},i),c&&u&&c),!u&&c),St.createElement("div",{className:r,style:x()({},p,n)},d))},t}(Yr);Xr.defaultProps={openColor:jr.OPEN_COLOR,closeColor:jr.CLOSE_COLOR};const Qr=Xr;var Zr={display:"inline",width:"100%",color:"#795548",paddingLeft:"8px",fontSize:"24px",fontWeight:"bold",borderBottom:"3px solid #795548",marginBottom:"8px"};const Jr=function(e){var t=e.forecast,n=void 0===t?{}:t,r=e.style,o=n.city,a=void 0===o?{}:o,i=a.name,s=void 0===i?"Forecast":i,l=a.country,c=void 0===l?"":l;return St.createElement("div",{style:Object.assign({},Zr,r)},St.createElement("span",null,s),St.createElement("span",null,":"),St.createElement("span",null,c))};var $r=["SU","MO","TU","WE","TH","FR","SA"],eo=["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"],to=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],no={toMonthDay:function(e){var t=new Date(1e3*e);return("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)},toTime:function(e){var t=new Date(1e3*e),n=t.getHours(),r=n,o="AM";return n>12?(r=n-12,o="PM"):12===n?(r=12,o="PM"):0===n&&(r=12),r+":"+("0"+t.getMinutes()).slice(-2)+" "+o},toMonthDayTime:function(e){return no.toMonthDay(e)+" "+no.toTime(e)},toShortDayOfWeek:function(e){var t=new Date(1e3*e);return("0"+t.getDate()).slice(-2)+" "+$r[t.getDay()]},toDayOfWeek:function(e){var t=new Date(1e3*e);return("0"+t.getDate()).slice(-2)+" "+eo[t.getDay()]},toDayHour:function(e){var t=new Date(1e3*e);return("0"+t.getDate()).slice(-2)+" "+("0"+t.getHours()).slice(-2)},toDirection:function(e){void 0===e&&(e=0);var t=Math.floor(e/22.5+.5);return to[t%16]}};const ro=no;var oo=function(e){if("number"==typeof e)return{transform:"rotate("+e+"deg)"}};const ao=function(e){var t=e.deg;return St.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 18",width:"100%",height:"100%",preserveAspectRatio:"none","aria-labelledby":"title",className:"icon__popup__vane",style:oo(t)},St.createElement("title",{id:"title"},"Icon Wind Vane"),St.createElement("path",{d:"M 10,0 L 8,0 8,11 4,11 9,18 14,11 10,11 10,0"}))};var io={ROOT_DIV:{display:"inline-block",paddingLeft:"12px",paddingRight:"12px",borderRadius:"10px",transition:"background-color 0.3s"},DAY:{color:"#8bc34a",fontSize:"24px",fontWeight:"bold",textAlign:"center",borderBottom:"2px solid #8bc34a",marginBottom:"4px"},PRESSURE:{display:"block",color:"#0D2339",textAlign:"center",fontSize:"20px",fontWeight:"bold",marginBottom:"-15px"},ICON:{display:"block",width:"60px",height:"60px",margin:"0 auto"},CELL_WIND:{marginTop:"-10px"},WIND_SPEED:{color:"#3f51b5",fontSize:"20px",fontWeight:"bold"},CELL_TEMP:{paddingTop:"4px",paddingBottom:"4px",textAlign:"center"},TEMP_DAY:{color:"#ff9800",paddingLeft:"4px",fontSize:"20px",fontWeight:"bold"},TEMP_NIGHT:{color:"#434348",paddingLeft:"8px",fontSize:"20px",fontWeight:"bold"}},so=function(e,t){return void 0===e&&(e={}),Math.round(e[t])},lo=function(e){var t=e.style,n=e.item,r=void 0===n?{}:n,o=e.onClick,a=r.weather,i=r.deg,s=r.speed,l=r.temp,c=r.dt,u="number"==typeof s?s.toFixed(2):"",p=ro.toShortDayOfWeek(c),d=so(r,"pressure"),m=a[0].icon,h=so(l,"day"),f=so(l,"night");return St.createElement("div",{style:x()({},io.ROOT_DIV,t),onClick:o.bind(null,r)},St.createElement("div",{style:io.DAY},p),St.createElement("span",{style:io.PRESSURE},d),St.createElement("img",{src:"./img/"+m+".png",style:io.ICON}),St.createElement("div",{style:io.CELL_WIND},St.createElement(ao,{deg:i}),St.createElement("span",{style:io.WIND_SPEED},u)),St.createElement("div",{style:io.CELL_TEMP},St.createElement("span",{style:io.TEMP_DAY},h),St.createElement("span",{style:io.TEMP_NIGHT},f)))};lo.defaultProps={onClick:function(){}};const co=lo;var uo={ROOT:{cursor:"auto"},OPEN_CLOSE:{lineHeight:1.5}};const po=function(e){var t=e.dayStyle,n=e.forecast,r=void 0===n?{}:n,o=e.captionStyle,a=e.onClickItem;return St.createElement("div",{style:uo.ROOT},St.createElement(Qr,{rootStyle:uo.OPEN_CLOSE,openColor:Cn.BROWN,isClickableCompAfter:!0,CompAfter:St.createElement(Jr,{style:o,forecast:r})},St.createElement("div",null,function(e,t,n){var r=t.list;return(void 0===r?[]:r).map((function(t,r){return St.createElement(co,{key:r,style:e,item:t,onClick:n})}))}(t,r,a))))};var mo=St.Component,ho={DAY:{cursor:"pointer"}},fo={forecast:{cod:200,list:[]}};const vo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state=fo,t._onStore=function(){var e=t.props,n=e.store,r=e.onUpdate,o=n.getState(),a=He(o);a&&t.recent!==a&&(t.recent=a,t.setState({forecast:We(o,a)},r))},t}bt()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.store;this.unsubscribe=e.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.props.onClickItem,t=this.state.forecast;return St.createElement(po,{dayStyle:ho.DAY,forecast:t,onClickItem:e})},t}(mo);var yo=St.Component,Eo="marker__caption__date",go="marker__description",_o="marker__label",Co="marker__v-water",bo="marker__v-pressure",So="marker__v-day",wo="marker__v-night",xo={ROOT_DIV:{position:"absolute",top:"190px",left:"200px",padding:"8px 8px",lineHeight:1.5,borderRadius:"4px",boxShadow:"rgba(0, 0, 0, 0.2) 0px 0px 0px 6px",zIndex:1,transition:"left 0.5s ease-in 0s"},BLOCK:{display:"block"},NONE:{display:"none"},BT_CLOSE:{position:"absolute",top:"7px",right:"4px"},DAY:{borderBottom:"2px solid #8bc34a"}};const To=function(e){function t(t){var n;(n=e.call(this,t)||this).setItem=function(e){n.setState({item:e,isOpen:!0})},n.close=function(){n.setState({isOpen:!1})};var r=t.isOpen,o=t.style,a=t.item;return n.state={isOpen:r,style:o,item:a},n}return bt()(t,e),t.prototype.render=function(){var e=this.props.onClose,t=this.state,n=t.isOpen,r=t.style,o=t.item,a=void 0===o?{}:o,i=a.dt,s=a.rain,l=void 0===s?0:s,c=a.snow,u=void 0===c?0:c,p=a.clouds,d=void 0===p?0:p,m=a.humidity,h=void 0===m?"":m,f=a.pressure,v=void 0===f?"":f,y=a.temp,E=void 0===y?{}:y,g=a.weather,_=void 0===g?[]:g,C=E.morn,b=void 0===C?"":C,S=E.day,w=void 0===S?"":S,T=E.max,k=void 0===T?"":T,A=E.eve,L=void 0===A?"":A,O=E.night,N=void 0===O?"":O,D=E.min,R=void 0===D?"":D,I=ro.toDayOfWeek(i)+" "+ro.toTime(i),M=_[0]&&_[0].description?_[0].description:"Without description",P=n?xo.BLOCK:xo.NONE;return St.createElement("div",{style:x()({},Kt,xo.ROOT_DIV,r,P)},St.createElement(Vt,{style:xo.BT_CLOSE,onClose:e}),St.createElement("div",{className:Eo},St.createElement("span",{style:xo.DAY},I)),St.createElement("div",null,St.createElement("span",{className:go},M)),St.createElement("div",null,St.createElement("span",{className:_o},"Rain: "),St.createElement("span",{className:Co},l,"mm "),u>.02&&St.createElement("span",null,St.createElement("span",{className:_o},"Snow: "),St.createElement("span",{className:Co},u,"mm ")),St.createElement("span",{className:_o},"Clouds: "),St.createElement("span",{className:Co},d,"% ")),St.createElement("div",null,St.createElement("span",{className:_o},"Humidity: "),St.createElement("span",{className:Co},h,"% "),St.createElement("span",{className:_o},"Pressure: "),St.createElement("span",{className:bo},v,"hPa ")),St.createElement("div",null,St.createElement("span",{className:_o},"Morn: "),St.createElement("span",{className:So},b," "),St.createElement("span",{className:_o},"Day: "),St.createElement("span",{className:So},w," "),St.createElement("span",{className:_o},"Max: "),St.createElement("span",{className:So},k," ")),St.createElement("div",null,St.createElement("span",{className:_o},"Eve: "),St.createElement("span",{className:wo},L," "),St.createElement("span",{className:_o},"Night: "),St.createElement("span",{className:wo},N," "),St.createElement("span",{className:_o},"Min: "),St.createElement("span",{className:wo},R," ")))},t}(yo);var ko=window.Recharts||{};const Ao={CartesianGrid:ko.CartesianGrid,Bar:ko.Bar,Line:ko.Line,YAxis:ko.YAxis,XAxis:ko.XAxis,ResponsiveContainer:ko.ResponsiveContainer,Tooltip:ko.Tooltip,Legend:ko.Legend,ComposedChart:ko.ComposedChart,LineChart:ko.LineChart};var Lo=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift({}),Object.assign.apply(Object,t)},Oo=function(e,t){return e?Lo(t,Io.POINTER):Lo(t,Io.POINTER,Io.FILTERED)},No={},Do=function(e,t){return void 0===e&&(e="green"),{stroke:e,fill:t=t||e}},Ro=function(e){return void 0===e&&(e="green"),{color:e,fontWeight:"bold"}},Io={ROOT_DIV:x()({},Kt,{padding:"8px 8px"}),LABEL:{display:"inline-block",color:Rt.LABEL.color,fontWeight:"bold",width:"50px"},DAY:Ro(Rt.DAY.color),CIRCLE_SPEED:Do("#3F51B5","none"),SPEED:Ro("#3f51b5"),CIRCLE_RAIN:Do("#0922A5"),RECT_RAIN:{stroke:"#0922a5"},RAIN:Ro("#0922a5"),CIRCLE_TEMP_MAX:Do("#F44336","none"),TEMP_MAX:Ro("#F44336"),CIRCLE_TEMP_MIN:Do("#03A9F4","none"),TEMP_MIN:Ro("#03a9f4"),CIRCLE_TEMP_MORN:Do(Rt.TEMP_DAY.color,"none"),CIRCLE_TEMP_DAY:Do(Rt.TEMP_DAY.color),TEMP_DAY:Ro(Rt.TEMP_DAY.color),CIRCLE_TEMP_EVE:Do(Rt.TEMP_NIGHT.color,"none"),CIRCLE_TEMP_NIGHT:Do(Rt.TEMP_NIGHT.color),TEMP_NIGHT:Ro(Rt.TEMP_NIGHT.color),CIRCLE_PRESSURE:Do("#0D2339"),POINTER:{cursor:"pointer",lineHeight:2},FILTERED:{color:"#9e9e9e"},fnLegendLabel:function(e){return undefined!==e?(No.tempMorn=Oo(e.tempMorn,Io.TEMP_DAY),No.tempDay=Oo(e.tempDay,Io.TEMP_DAY),No.tempEve=Oo(e.tempEve,Io.TEMP_NIGHT),No.tempNight=Oo(e.tempNight,Io.TEMP_NIGHT),No.tempMax=Oo(e.tempMax,Io.TEMP_MAX),No.tempMin=Oo(e.tempMin,Io.TEMP_MIN),No.rain=Oo(e.rain,Io.RAIN),No.speed=Oo(e.speed,Io.SPEED),Lo(No)):No}};const Mo=Io;const Po=function(e){if(!e.active)return null;var t=e.label,n=e.payload[0].payload;return St.createElement("div",{style:Mo.ROOT_DIV},St.createElement("div",null,St.createElement("span",{style:Mo.DAY},t)),St.createElement("div",{style:{paddingTop:"8px"}},St.createElement("span",{style:Mo.LABEL},"Morn:"),St.createElement("span",{style:Mo.TEMP_DAY},n.tempMorn," "),St.createElement("span",{style:Mo.LABEL},"Day:"),St.createElement("span",{style:Mo.TEMP_DAY},n.tempDay," ")),St.createElement("div",{style:{paddingTop:"8px"}},St.createElement("span",{style:Mo.LABEL},"Eve:"),St.createElement("span",{style:Mo.TEMP_NIGHT},n.tempEve," "),St.createElement("span",{style:Mo.LABEL},"Night:"),St.createElement("span",{style:Mo.TEMP_NIGHT},n.tempNight," ")),St.createElement("div",{style:{paddingTop:"8px"}},St.createElement("span",{style:Mo.LABEL},"Min:"),St.createElement("span",{style:Mo.TEMP_MIN},n.tempMin," "),St.createElement("span",{style:Mo.LABEL},"Max:"),St.createElement("span",{style:Mo.TEMP_MAX},n.tempMax," ")),St.createElement("div",{style:{paddingTop:"8px"}},St.createElement("span",{style:Mo.LABEL},"Rain:"),St.createElement("span",{style:Mo.TEMP_MIN},n.rain," "),St.createElement("span",{style:Mo.LABEL},"Speed:"),St.createElement("span",{style:Mo.TEMP_MIN},n.speed," ")))};var Bo={SVG:{position:"relative",top:"4px",display:"inline-block",width:"18px",height:"18px"}};const Go=function(e){var t=e.stroke,n=e.fill;return St.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"100%",height:"100%",preserveAspectRatio:"none","aria-labelledby":"title",style:Bo.SVG},St.createElement("title",{id:"title"},"Circle Marker"),St.createElement("circle",{r:"6",stroke:t,strokeWidth:"2",fill:n,cx:"9",cy:"9"}))};var Uo={SVG:{position:"relative",top:"2px",display:"inline-block",width:"18px",height:"18px"}};const Ko=function(e){var t=e.stroke,n=void 0===t?"green":t,r=e.fill;return r||(r=n),St.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"100%",height:"100%",preserveAspectRatio:"none","aria-labelledby":"title",style:Uo.SVG},St.createElement("title",{id:"title"},"Rest Marker"),St.createElement("rect",{x:"3",y:"0",width:"11",height:"18",stroke:n,fill:r}))};var Wo={paddingLeft:"4px",paddingRight:"4px"};const Ho=function(e){var t=e.style,n=e.onClick,r=e.children,o=e.titleStyle,a=e.title,i=void 0===a?"":a;return St.createElement("div",{className:"legend-cell",style:x()({},Wo,t),onClick:n},r,St.createElement("span",{style:o},i))};var Fo=St.Component,Yo="tempDay",Vo="tempNight",qo="tempMorn",jo="tempEve",zo="tempMax",Xo="tempMin",Qo="rain",Zo="speed",Jo={ROOT_DIV:{marginLeft:"3rem",marginTop:"1rem"},COL_1:{display:"inline-block",marginRight:"1rem"},COL_2:{display:"inline-block"},COL_3:{display:"inline-block",marginLeft:"1rem"}};const $o=function(e){function t(){return e.apply(this,arguments)||this}bt()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return this.props===e||this.props.styles!==e.styles},n.render=function(){var e=this.props,t=e.styles,n=e.onFilter;return St.createElement("div",{style:Jo.ROOT_DIV},St.createElement("div",{style:Jo.COL_1},St.createElement(Ho,{onClick:n.bind(null,qo),titleStyle:t.tempMorn,title:"T Morn"},St.createElement(Go,Mo.CIRCLE_TEMP_MORN)),St.createElement(Ho,{onClick:n.bind(null,Yo),titleStyle:t.tempDay,title:"T Day"},St.createElement(Go,Mo.CIRCLE_TEMP_DAY))),St.createElement("div",{style:Jo.COL_2},St.createElement(Ho,{onClick:n.bind(null,jo),titleStyle:t.tempEve,title:"T Eve"},St.createElement(Go,Mo.CIRCLE_TEMP_EVE)),St.createElement(Ho,{onClick:n.bind(null,Vo),titleStyle:t.tempNight,title:"T Night"},St.createElement(Go,Mo.CIRCLE_TEMP_NIGHT))),St.createElement("div",{style:Jo.COL_3},St.createElement(Ho,{onClick:n.bind(null,zo),titleStyle:t.tempMax,title:"T Max"},St.createElement(Go,Mo.CIRCLE_TEMP_MAX)),St.createElement(Ho,{onClick:n.bind(null,Xo),titleStyle:t.tempMin,title:"T Min"},St.createElement(Go,Mo.CIRCLE_TEMP_MIN))),St.createElement("div",{style:Jo.COL_3},St.createElement(Ho,{onClick:n.bind(null,Qo),titleStyle:t.rain,title:"Rain"},St.createElement(Ko,Mo.RECT_RAIN)),St.createElement(Ho,{onClick:n.bind(null,Zo),titleStyle:t.speed,title:"Speed"},St.createElement(Go,Mo.CIRCLE_SPEED))))},t}(Fo);var ea=function(e){var t=e.stroke,n=e.fill,r=e.dash;return n||(n=t),{type:"monotone",stroke:t,strokeWidth:2,strokeDasharray:void 0===r?null:r,dot:{r:6,strokeWidth:2,strokeDasharray:null,stroke:t,fill:n},activeDot:{r:10,strokeWidth:2,strokeDasharray:null,stroke:t,fill:n}}},ta=function(e){return{axisLine:{stroke:e},tickLine:{stroke:e},tick:{stroke:e,fill:e}}};const na={ComposedChart:{margin:{top:20,right:-10,bottom:30,left:-20}},HourlyChart:{margin:{top:20,right:10,bottom:30,left:20}},XAxis:{tickSize:16,tick:{stroke:Rt.DAY.color,fill:Rt.DAY.color}},YAxisSpeed:ta("#3F51B5"),YAxisRain:ta("#0922A5"),YAxisPressure:ta("#0D2339"),CartesianGrid:{stroke:"#555",vertical:!1},LinePressure:ea({stroke:"#0D2339",fill:"#0D2339",dash:"5 5"}),LineRain:ea({stroke:"#0922a5",fill:"#0922a5",dash:"5 5"}),LineSpeed:ea({stroke:"#3f51b5",fill:"#808080",dash:"5 5"}),LineTempMax:ea({stroke:"#F44336",fill:"#808080",dash:"5 5"}),LineTempMin:ea({stroke:"#03a9f4",fill:"#808080",dash:"5 5"}),LineTempMorn:ea({stroke:Rt.TEMP_DAY.color,fill:"#808080",dash:"5 5"}),LineTempDay:ea({stroke:Rt.TEMP_DAY.color}),LineTempEve:ea({stroke:Rt.TEMP_NIGHT.color,fill:"#808080",dash:"5 5"}),LineTempNight:ea({stroke:Rt.TEMP_NIGHT.color})};var ra=St.Component,oa=Ao.CartesianGrid,aa=Ao.Bar,ia=Ao.Line,sa=Ao.YAxis,la=Ao.XAxis,ca=Ao.ResponsiveContainer,ua=Ao.Tooltip,pa=Ao.Legend,da=Ao.ComposedChart,ma=[{day:"Page A",tempDay:40,tempNight:30},{day:"Page B",tempDay:30,tempNight:30},{day:"Page C",tempDay:20,tempNight:30},{day:"Page D",tempDay:27,tempNight:30},{day:"Page E",tempDay:18,tempNight:30},{day:"Page F",tempDay:23,tempNight:30},{day:"Page G",tempDay:34,tempNight:30}],ha=function(e){return void 0===e&&(e=[]),e.map((function(e,t){var n=e.dt,r=e.rain,o=void 0===r?0:r,a=e.speed,i=e.temp,s=void 0===i?{}:i,l=s.day,c=void 0===l?null:l,u=s.night,p=void 0===u?null:u,d=s.morn,m=void 0===d?null:d,h=s.eve,f=void 0===h?null:h,v=s.max,y=void 0===v?null:v,E=s.min,g=void 0===E?null:E;return{day:ro.toShortDayOfWeek(n),tempDay:c,tempNight:p,tempMorn:m,tempEve:f,tempMax:y,tempMin:g,rain:o,speed:a}}))};const fa=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={data:ma,filters:{tempDay:!0,tempNight:!0,tempMorn:!1,tempEve:!1,tempMax:!1,tempMin:!1,rain:!0,speed:!0}},t._onStore=function(){var e=t.props.store.getState(),n=He(e);n&&t.recent!==n&&(t.recent=n,t.setState((function(t){return{data:ha(Fe(e,n))}})))},t.handleFilter=function(e){var n=t.state.filters,r=Object.assign({},n);n[e]?r[e]=!1:r[e]=!0,t.setState({filters:r})},t}bt()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.store;this.unsubsribe=e.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubsribe()},n.shouldComponentUpdate=function(e,t){return this.props===e},n.render=function(){var e=this.state,t=e.data,n=e.filters,r=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t={}),0===t.length)return e;var n=Object.keys(t);return e.map((function(e){var r=Object.assign({},e);return n.forEach((function(e){t[e]||(r[e]=null)})),r}))}(t,n);return St.createElement(ca,{width:"100%",height:300},St.createElement(da,x()({data:r},na.ComposedChart),St.createElement(la,x()({dataKey:"day"},na.XAxis)),St.createElement(sa,{label:{value:"°C"}}),St.createElement(sa,x()({yAxisId:1,dataKey:"rain",orientation:"right",label:"mm"},na.YAxisRain)),St.createElement(sa,x()({hide:!n.speed,yAxisId:2,dataKey:"speed",orientation:"right",label:"m/s"},na.YAxisSpeed)),St.createElement(oa,na.CartesianGrid),St.createElement(ua,{offset:24,content:St.createElement(Po,{data:t})}),St.createElement(pa,{content:St.createElement($o,{styles:Mo.fnLegendLabel(n),onFilter:this.handleFilter})}),St.createElement(aa,{dataKey:"rain",yAxisId:1,barSize:20,fill:"#0922a5"}),St.createElement(ia,x()({dataKey:"speed",yAxisId:2},na.LineSpeed)),St.createElement(ia,x()({dataKey:"tempMin"},na.LineTempMin)),St.createElement(ia,x()({dataKey:"tempMax"},na.LineTempMax)),St.createElement(ia,x()({dataKey:"tempEve"},na.LineTempEve)),St.createElement(ia,x()({dataKey:"tempMorn"},na.LineTempMorn)),St.createElement(ia,x()({dataKey:"tempNight"},na.LineTempNight)),St.createElement(ia,x()({dataKey:"tempDay"},na.LineTempDay))))},t}(ra);var va=St.Component,ya="legend-cell",Ea={ROOT:{marginTop:"1rem"},ITEM:{display:"inline-block",marginRight:"1rem",paddingLeft:"4px",paddingRight:"4px",paddingBottom:"4px"}},ga=function(e){return e?Ea.LABEL:x()({},Ea.LABEL,Mo.FILTERED)};const _a=function(e){function t(){return e.apply(this,arguments)||this}return bt()(t,e),t.prototype.render=function(){var e=this.props,t=e.filtered,n=e.onFilter,r=ga(!t.temp),o=ga(!t.pressure),a=ga(!t.rain),i=ga(!t.speed);return St.createElement("div",{style:Ea.ROOT},St.createElement("span",{className:ya,style:Ea.ITEM,onClick:n.bind(null,"temp")},St.createElement(Go,Mo.CIRCLE_TEMP_NIGHT),St.createElement("span",{style:r},"T")),St.createElement("span",{className:ya,style:Ea.ITEM,onClick:n.bind(null,"pressure")},St.createElement(Go,Mo.CIRCLE_PRESSURE),St.createElement("span",{style:o},"Pressure")),St.createElement("span",{className:ya,style:Ea.ITEM,onClick:n.bind(null,"rain")},St.createElement(Go,Mo.CIRCLE_RAIN),St.createElement("span",{style:a},"Rain")),St.createElement("span",{className:ya,style:Ea.ITEM,onClick:n.bind(null,"speed")},St.createElement(Go,Mo.CIRCLE_SPEED),St.createElement("span",{style:i},"Speed")))},t}(va);var Ca=St.Component,ba=Ao.CartesianGrid,Sa=Ao.Line,wa=Ao.YAxis,xa=Ao.XAxis,Ta=Ao.ResponsiveContainer,ka=Ao.Legend,Aa=Ao.LineChart,La=[{day:"Page A",temp:40},{day:"Page B",temp:30},{day:"Page C",temp:20},{day:"Page D",temp:27},{day:"Page E",temp:18},{day:"Page F",temp:23},{day:"Page G",temp:34}],Oa=function(e){return e.list.map((function(e){var t=e.dt,n=e.dt_txt,r=void 0===n?"":n,o=e.main,a=void 0===o?{}:o,i=e.wind,s=void 0===i?{}:i,l=e.rain,c=void 0===l?{}:l,u=a.temp,p=a.pressure,d=a.humidity,m=s.speed,h=void 0===m?null:m,f=c["3h"]||null;return{day:ro.toDayHour(t),dt_text:r,temp:u,pressure:p,humidity:d,speed:h,rain:f}}))};const Na=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={data:La,filtered:{temp:!1,pressure:!0,rain:!0,speed:!0}},t._onStore=function(){var e=t.props.store.getState(),n=Ve(e);if(n!==t.recent){t.recent=n;var r=Oa(qe(e,n));t.setState({data:r})}},t.handleFilter=function(e){t.setState((function(t){var n=t.filtered;return n[e]=!n[e],{filtered:n}}))},t}bt()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unsubsribe=this.props.store.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubsribe()},n.shouldComponentUpdate=function(e){return this.props===e},n.render=function(){var e=this.state,t=e.data,n=e.filtered;return St.createElement(Ta,{width:"100%",height:300},St.createElement(Aa,x()({data:t},na.HourlyChart),St.createElement(xa,x()({dataKey:"day"},na.XAxis)),St.createElement(wa,{yAxisId:1,orientation:"right",width:45,label:"°C",dataKey:"temp",hide:n.temp}),St.createElement(wa,x()({yAxisId:2,orientation:"right",width:80,dataKey:"pressure",type:"number",domain:["dataMin","dataMax"],label:"hPa",hide:n.pressure},na.YAxisPressure)),St.createElement(wa,x()({yAxisId:3,orientation:"right",width:54,label:"mm",dataKey:"rain",hide:n.rain},na.YAxisRain)),St.createElement(wa,x()({yAxisId:4,orientation:"right",width:45,label:"m/s",dataKey:"speed",hide:n.speed},na.YAxisSpeed)),St.createElement(ba,na.CartesianGrid),St.createElement(ka,{content:St.createElement(_a,{filtered:n,onFilter:this.handleFilter})}),St.createElement(Sa,x()({},na.LineTempNight,{connectNulls:!0,yAxisId:1,dataKey:n.temp?"empty":"temp"})),St.createElement(Sa,x()({},na.LinePressure,{connectNulls:!0,strokeDasharray:"5 5",yAxisId:2,dataKey:n.pressure?"empty":"pressure"})),St.createElement(Sa,x()({},na.LineRain,{connectNulls:!0,strokeDasharray:"5 5",yAxisId:3,dataKey:n.rain?"empty":"rain"})),St.createElement(Sa,x()({connectNulls:!0},na.LineSpeed,{strokeDasharray:"5 5",yAxisId:4,dataKey:n.speed?"empty":"speed"}))))},t}(Ca);var Da=St.Component,Ra={TIME:{paddingTop:"1rem",paddingLeft:"2.5rem",color:"#8bc34a",fontSize:"1rem",fontWeight:"bold"},VALUE:{paddingTop:"1rem",paddingLeft:"2.5rem",fontSize:"3rem",fontWeight:"bold"}};const Ia=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={data:[]},t._onStore=function(){var e=t.props.store.getState(),n=je(e);n!==t.state.recent&&t.setState((function(t){return{data:ze(e,n)}}))},t}bt()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unsubscribe=this.props.store.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.state.data,t=(void 0===e?[]:e)[0]||{},n=t.date_iso,r=void 0===n?"":n,o=t.value,a=void 0===o?"":o,i=r.replace("Z","").replace("T"," ");return St.createElement("div",null,St.createElement("div",{style:Ra.TIME},i),St.createElement("div",{style:Ra.VALUE},a))},t}(Da);const Ma={_themeName:void 0,_style:{},_createStyle:function(e){return{ROOT_DIV:x()({position:"fixed",top:"3rem",left:"0",bottom:"0",borderRight:"1px solid #999",transform:"translateX(-100%)",transition:"transform .3s",fill:e.BG_MARK.backgroundColor},e.BG,{overflowY:"auto",overflowX:"hidden",maxWidth:"100%"}),C_BG_MARK:e.BG_MARK.backgroundColor,C_BG_UNMARK:e.BG.backgroundColor}}};var Pa=St.Component,Ba={TABS:{textAlign:"left"}};const Ga=Ht(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={},t._markDay=function(e){var n=t.props.theme.createStyle(Ma);t.detailEl=e,t.detailEl.style.backgroundColor=n.C_BG_MARK},t._unmarkDay=function(){if(t.detailEl){var e=t.props.theme.createStyle(Ma);t.detailEl.style.backgroundColor=e.C_BG_UNMARK}},t.handleClickItem=function(e,n){n.persist(),t._unmarkDay(),t._markDay(n.currentTarget),t.detailComp.setItem(e)},t.handleRequestHourly=function(){t.props.store.dispatch(y())},t.handleRequestUV=function(){t.props.store.dispatch(b())},t.handleCloseDetail=function(){t._unmarkDay(),t.detailComp.close()},t._refDetail=function(e){return t.detailComp=e},t}return bt()(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.store,r=e.theme.createStyle(Ma);return St.createElement("div",{id:t,style:r.ROOT_DIV},St.createElement(vo,{store:n,onUpdate:this.handleCloseDetail,onClickItem:this.handleClickItem}),St.createElement(To,{ref:this._refDetail,onClose:this.handleCloseDetail}),St.createElement(ln,{key:"1",width:"100%",tabsStyle:Ba.TABS},St.createElement(un,{title:"7 Days"},St.createElement(fa,{store:n})),St.createElement(un,{title:"5 Days/3 Hours",onClick:this.handleRequestHourly},St.createElement(Na,{store:n})),St.createElement(un,{title:"UV",onClick:this.handleRequestUV},St.createElement(Ia,{store:n}))))},t}(Pa));const Ua=function(e){return null!==e&&"object"==typeof e?e:{}},Ka=function(e,t,n,r){return void 0===e&&(e=[]),void 0===n&&(n=0),void 0===r&&(r="no data"),null!==e&&e[n]&&e[n][t]?e[n][t]:r};var Wa=function(e){return'<svg xmlns="http://www.w3.org/2000/svg"\n       viewBox="0 0 17 18" width="100%" height="100%"\n       preserveAspectRatio="none" aria-labelledby="title"\n       class="icon__popup__vane"\n       style="transform:rotate('+e+'deg);position:relative;top:4px;"\n  >\n     <title id="title">Icon Wind Vane</title>\n     <path\n        d="M 10,0 L 8,0 8,11 4,11 9,18 14,11 10,11 10,0"\n     >\n  </svg>'};const Ha={fDivIcon:function(e){void 0===e&&(e={});var t=e,n=t.weather,r=void 0===n?[]:n,o=t.main,a=t.wind,i=Ua(o),s=i.temp,l=void 0===s?"":s,c=i.pressure,u=void 0===c?"":c,p=Ua(a),d=p.deg,m=void 0===d?0:d,h=p.speed,f=void 0===h?"":h;return'<div style="position:relative;top:-45px;left:-25px;font-size: 15px;font-weight:bold;">\n             <img src=./img/'+Ka(r,"icon",0,"no-data")+'.png style="width:60px;height:60px;"></img>\n             <div style="position:absolute; top:5px; left: 50px; width: 90px; line-height: 1.2;">\n               <div style="color:#ff9800;">'+l+'&nbsp;℃</div>\n               <div style="color:#3f51b5;">'+u+"&nbsp;hPa</div>\n               <div>\n                  "+Wa(m)+'\n                  <span style="color:#3f51b5;">'+f+"m/s<span>\n               </div>\n             </div>\n            </div>"},fPopup:function(e,t){void 0===e&&(e={});var n=e,r=n.id,o=n.name,a=void 0===o?"":o,i=n.sys,s=n.dt,l=n.wind,c=n.weather,u=n.main,p=n.visibility,d=void 0===p?"no data":p,m=Ua(i).country,h=void 0===m?"":m,f=Ka(c,"description"),v=Ua(u),y=v.temp,E=void 0===y?"":y,g=v.pressure,_=void 0===g?"":g,C=Ua(l),b=C.deg,S=void 0===b?0:b,w=C.speed,x=void 0===w?"no data":w,T=Ka(c,"icon",0,"no-data"),k="",A="",L="";return"number"==typeof r&&0!==r&&(k="marker__caption__not-empty",A="weather.fnFetchForecast("+r+")",L='<div class="marker__caption__city">'+a+":"+h+"</div>"),'<div class="marker__caption '+k+'" onclick="'+A+'">\n               '+L+'\n               <div class="marker__caption__date">\n                 '+ro.toMonthDayTime(s)+'\n               </div>\n            </div>\n            <p style="display:table;margin: 0 0;font-size: 15px; font-weight: bold;">\n              <img src=./img/'+T+'.png style="display:table-cell;width:50px;height:50px;"></img>\n              <span class="marker__description" style="display:table-cell;vertical-align:middle;">\n                '+f+'\n              </span>\n            </p>\n            <p style="margin: 0 0;margin-top: -8px;font-size: 15px; font-weight: bold;">\n              <span class="marker__label" title="Temperature">T:</span>\n              <span class="marker__value-odd" style="color:#ff9800;">\n                 '+E+'&nbsp;C\n               </span>\n               <span class="marker__label left-5" title="Pressure">Pr:</span>\n               <span class="marker__value-odd" style="color:#3f51b5;">\n                 '+_+'&nbsp;hPa\n               </span>\n            </p>\n            <p style="margin: 0 0;font-size: 15px; font-weight: bold;">\n              <span class="marker__label" title="Wind">W:</span>\n              '+Wa(S)+'\n              <span class="marker__value-odd" style="color:#3f51b5;">\n                '+ro.toDirection(S)+'\n              </span>\n              <span class="marker__value-odd" style="color:#3f51b5;">\n                '+x+'m/s\n              </span>\n            </p>\n            <p style="margin: 0 0;margin-top: 4px;font-size: 15px; font-weight: bold;">\n               <span class="marker__label" title="Clouds">Cl:</span>\n               <span class="marker__value-even" style="color:#3f51b5;">'+e.clouds.all+'%</span>\n               <span class="marker__label left-5" title="Humidity">H:</span>\n               <span class="marker__value-even" style="color:#3f51b5;">'+e.main.humidity+'%</span>\n               <span class="marker__label left-5">V:</span>\n               <span class="marker__value-even" style="color:#3f51b5;">\n                 '+d+"\n                </span>\n            </p>"}};var Fa=n.n(undefined)()||window.L,Ya={DF:"",WHITE:"popup--white",SAND:"popup--sand"},Va=50,qa=0,ja=2;const za={createMap:function(e,t){var n=Fa.map(e,{zoomControl:!0}).on("load",t).setView([Va,qa],ja);return n.zoomControl.setPosition("bottomright"),Fa.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{id:"addis",attribution:'&copy; <a  href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',maxZoom:18}).addTo(n),n},addMarker:function(e,t,n){void 0===e&&(e={});var r=Fa.divIcon({html:Ha.fDivIcon(e)}),o=e.coord,a=void 0===o?{}:o,i=a.lat,s=a.lon;i&&s&&Fa.marker([i,s],{icon:r,title:e.name,alt:e.name}).bindPopup(Ha.fPopup(e),function(e){return{className:Ya[e]||Ya.DF}}(t)).addTo(n)}};var Xa=Date.now||function(){return(new Date).getTime()};const Qa=function(e,t,n){var r,o,a,i;void 0===n&&(n={});var s=0,l=function(){s=!1===n.leading?0:Xa(),r=null,i=e.apply(o,a),r||(o=a=null)},c=function(){var c=Xa();s||!1!==n.leading||(s=c);var u=t-(c-s);o=this;for(var p=arguments.length,d=new Array(p),m=0;m<p;m++)d[m]=arguments[m];return a=d,u<=0||u>t?(r&&(clearTimeout(r),r=null),s=c,i=e.apply(o,a),r||(o=a=null)):r||!1===n.trailing||(r=setTimeout(l,u)),i};return c.cancel=function(){clearTimeout(r),s=0,r=o=a=null},c};var Za=St.Component,Ja={width:"100%",height:"650px",transition:"transform .3s, width .6s"};const $a=Ht(function(e){function t(t){var n;return(n=e.call(this,t)||this)._handleClickMap=function(e){var t=n.props.store,r=e.latlng,o=r.lat,a=r.lng;t.dispatch(s({lat:o,lot:a}))},n._onStore=function(){var e=n.props,t=e.store,r=e.theme,o=t.getState(),a=Ue(o);(a||0===a)&&za.addMarker(Ke(o,a),r.themeName,n.map)},n._setLoaded=n._setLoaded.bind(on()(n)),n.state={isLoaded:!1},n}bt()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.id,n=e.store;this.unsubsribe=n.subscribe(this._onStore),this.map=za.createMap(t,this._setLoaded),this.map.on("dblclick",Qa(this._handleClickMap,5e3,{trailing:!1}))},n.componentWillUnmount=function(){this.unsubsribe()},n._setLoaded=function(){this.setState({isLoaded:!0})},n.render=function(){var e=this.props,t=e.id,n=e.rootStyle,r=this.state.isLoaded;return St.createElement("div",{style:x()({},Ja,n),id:t},!r&&St.createElement("span",null,"LeafletMap Loading..."))},t}(Za));var ei=n(469),ti=n.n(ei);const ni={makeDragable:function(e){ti()(e).draggable({inertia:!0,onmove:this._dragMoveListener,onend:this._dragEndListener}).preventDefault(!1)},_dragMoveListener:function(e){var t=e.target,n=(parseFloat(t.getAttribute("data-x"))||0)+e.dx,r=(parseFloat(t.getAttribute("data-y"))||0)+e.dy;t.style.webkitTransform=t.style.transform="translate("+n+"px, "+r+"px)",t.setAttribute("data-x",n),t.setAttribute("data-y",r)},_dragEndListener:function(e){var t=e.target,n=parseFloat(t.getAttribute("data-x"))||0,r=parseFloat(t.getAttribute("data-y"))||0,o=Number(t.style.left.replace("px","")),a=Number(t.style.top.replace("px",""));t.style.left=o+n+"px",t.style.top=a+r+"px",t.style.webkitTransform=t.style.transform="",t.setAttribute("data-x",0),t.setAttribute("data-y",0)}};var ri=St.Component,oi={BLOCK:{display:"block"},NONE:{display:"none"},SVG_CLOSE:{position:"absolute",top:"16px",right:"6px"}};const ai=function(e){function t(t){var n;(n=e.call(this,t)||this)._onStore=function(){var e=n.props,t=e.store,r=e.storeKey,o=t.getState().layout,a=n.state.isShow;o[r]!==a&&n.setState({isShow:o[r]})},n.handleClose=function(){var e=n.props,t=e.store,r=e.storeKey;t.dispatch(M(r))},n._refRootDiv=function(e){return n.domRootDiv=e};var r=t.store,o=t.storeKey,a=r.getState();return n.state={isShow:a.layout[o]},n}bt()(t,e);var n=t.prototype;return n.componentDidMount=function(){ni.makeDragable(this.domRootDiv);var e=this.props.store;this.unsubsribe=e.subscribe(this._onStore)},n.componetWillUnmount=function(){this.unsubsribe()},n.render=function(){var e=this.props,t=e.children,n=e.rootStyle,r=this.state.isShow,o=r?oi.BLOCK:oi.NONE,a=r?"show-popup":void 0;return St.createElement("div",{ref:this._refRootDiv,className:a,style:x()({},n,o)},St.createElement(Vt,{style:oi.SVG_CLOSE,onClose:this.handleClose}),t)},t}(ri);const ii={_themeName:void 0,_style:{},_createStyle:function(e){return{ROOT_DIV:x()({},e.BG)}}};var si=St.Component,li={CAPTION:{marginRight:"40px"}},ci="Forecast for place not found",ui={forecast:{cod:200,list:[]}};const pi=Ht(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state=ui,t._onStore=function(){var e=t.props.store.getState(),n=He(e);n&&t.recent!==n&&t.setState({forecast:We(e,n)})},t._renderMsg=function(){return St.createElement("div",null,St.createElement("span",null,ci))},t}bt()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.store;this.unsubscribe=e.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.props,t=e.rootStyle,n=e.store,r=e.theme,o=this.state.forecast,a=o.cod,i=r.createStyle(ii);return St.createElement(ai,{rootStyle:x()({},t,i.ROOT_DIV),store:n,storeKey:"isPopupForecast",isShow:!0},St.createElement(po,{forecast:o,captionStyle:li.CAPTION}),""+a!="200"&&this._renderMsg())},t}(si));var di=St.Component,mi="map_id",hi="left_push_menu",fi={HEADER:{width:"100%",height:"3rem",lineHeight:"3rem",borderBottom:"1px solid #999",cursor:"auto"},MAP:{width:"100%",height:"calc(100vh - 3rem)"},FLY_ROOT_DIV:{position:"absolute",top:"30px",left:"50px",padding:"10px 5px 5px 4px",backgroundColor:"#808080",border:"1px solid #999",borderRadius:"5px",boxShadow:"rgba(0, 0, 0, 0.2) 0px 0px 0px 12px",zIndex:500}};const vi=function(e){function t(t){var n;(n=e.call(this,t)||this)._onStore=function(){var e=n.props.store.getState().layout;if(e!==n.layout){if(e.isPushMenu!==n.isPushMenu){if(n.isPushMenu)n.mapEl.style.transform="translateX(0px)",n.mapEl.style.width="100vw",n.menuEl.style.transform="translateX(-100%)";else{var t=n.menuEl.getBoundingClientRect().width;n.mapEl.style.transform="translateX("+t+"px)",n.mapEl.style.width="calc(100vw - "+t+"px)",n.menuEl.style.transform="translateX(0px)"}n.isPushMenu=e.isPushMenu}else e.themeName!==n.themeName&&(n.forceUpdate(),n.themeName=e.themeName);n.layout=e}},n._refMap=function(e){return n._mapComp=e};var r=t.store.getState().layout;return n.layout=r,n.isPushMenu=r.isPushMenu,n.themeName=r.themeName,n}bt()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unsubsribe=this.props.store.subscribe(this._onStore),this.mapEl=document.getElementById(mi),this.menuEl=document.getElementById(hi)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.props.store;return St.createElement(wt.Provider,{value:Ut},St.createElement("div",null,St.createElement(vr,{store:e}),St.createElement(Fr,{rootStyle:fi.HEADER,store:e}),St.createElement("div",null,St.createElement(Ga,{id:hi,store:e}),St.createElement($a,{id:mi,rootStyle:fi.MAP,store:e}),St.createElement(pi,{rootStyle:fi.FLY_ROOT_DIV,isShow:!0,store:e}))))},t}(di);var yi=e()||window.React,Ei=(t()||window.ReactDOM).render,gi=_t(),_i=Qa((function(e){return gi.dispatch(d(e))}),1e4,{trailing:!1});window.weather={fnFetchForecast:function(e){"number"==typeof e&&0!==e&&_i(e)}},Ei(yi.createElement(vi,{store:gi}),document.getElementById("app"))})()})();