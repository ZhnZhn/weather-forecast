"use strict";(self.webpackChunkweather_forecast=self.webpackChunkweather_forecast||[]).push([[151],{1546:(t,e,i)=>{i.r(e),i.d(e,{default:()=>Le});var n=i(731),r=i(7847),s=i(5749),l=i(662),o=i(5358),a=i(3872),d=i(3841),c=i(1391),u=i(7462),y=i(9999);const v=function(t){var e=(0,y.eJ)(t),i=e[0],n=e[1];return[i,(0,y.I4)((function(t){n((function(e){return e[t]=!e[t],(0,u.Z)({},e)}))}),[])]};var E=Array.isArray,p=[];const f=function(t,e){var i=(0,y.v9)(t);return(0,y.Ye)((function(){return E(i)?e(i):p}),[i])};var h=function(t){return"number"==typeof t&&t>0},x=function(t,e){return function(i){for(var n=0;n<i.length;n++)if(e(i[n][t]))return!0;return!1}},S=x("rain",h),I=x("snow",h),R=function(t){return function(e){return(0,y.Ye)((function(){return t(e)}),[e])}},m=R(S),T=R(I);const M=function(t){var e=m(t),i=T(t);return(0,y.Ye)((function(){return{rain:!e,snow:!i}}),[e,i])};var P=i(8687),g=i(1136),j=i(4965),_=i(3023),A=i(4195),C=i(9307),D=i(9205);const N={SPEED:"#3f51b5",RAIN:"#0922a5",SNOW:"#3f51b5",TEMP_MAX:"#f44336",TEMP_MIN:"#03a9f4",PRESSURE:"#0d2339",SERIA:"#434348",FILTERED:"#9e9e9e"};var w="#808080",k=function(t,e,i,n){return void 0===n&&(n=2),{r:t,fill:e,stroke:i,strokeWidth:n,strokeDasharray:null}},Z=function(t){var e=t.stroke,i=t.fill,n=void 0===i?e:i,r=t.dash;return{type:"monotone",stroke:e,strokeWidth:2,strokeDasharray:void 0===r?null:r,dot:k(6,n,e),activeDot:k(10,n,e)}},L=function(t,e){return Z({stroke:t,fill:e,dash:"5 5"})},b=function(t){return{barSize:20,fill:t}},O=function(t){return{axisLine:{stroke:t},tickLine:{stroke:t},tick:{stroke:t,fill:t}}},U={top:24,right:10,bottom:30},W={margin:(0,u.Z)({},U,{left:-20})},H={margin:(0,u.Z)({},U,{left:20})},Y={tickSize:16,tick:{stroke:D.r$.DAY.color,fill:D.r$.DAY.color}},F=O(N.SPEED),B=O(N.RAIN),$=O(N.SNOW),q=O(N.PRESSURE),K={stroke:"#555",vertical:!1},G=L(N.PRESSURE),X=(L(N.RAIN),L(N.SPEED,w)),V=Z({stroke:N.SPEED}),z=L(N.TEMP_MAX,w),Q=L(N.TEMP_MIN,w),J=L(D.r$.TEMP_DAY.color,w),tt=Z({stroke:D.r$.TEMP_DAY.color}),et=L(D.r$.TEMP_NIGHT.color,w),it=Z({stroke:D.r$.TEMP_NIGHT.color}),nt=b(N.RAIN),rt=b(N.SNOW),st=i(5893);const lt=function(t){var e=t.chartStyle,i=void 0===e?H:e,n=t.data,r=t.type,s=t.TooltipComp,l=t.children,o="line"===r?P.w:g.c;return(0,st.jsx)(j.h,{width:"100%",height:300,children:(0,st.jsxs)(o,(0,u.Z)({},i,{data:n,children:[(0,st.jsx)(_.K,(0,u.Z)({},Y,{dataKey:"day"})),(0,st.jsx)(A.q,(0,u.Z)({},K)),(0,st.jsx)(C.u,{offset:24,content:(0,st.jsx)(s,{data:n})}),l]}))})};var ot={position:"top",offset:10},at=function(t){return{stroke:t,fill:t}},dt=(0,u.Z)({},ot,{value:"°C"}),ct=(0,u.Z)({},ot,at(N.PRESSURE),{value:"hPa"}),ut=function(t){return void 0===t&&(t="m/s"),(0,u.Z)({},ot,at(N.SPEED),{value:t})},yt=(0,u.Z)({},ot,at(N.RAIN),{value:"mm"}),vt=(0,u.Z)({},yt,at(N.SNOW)),Et=function(t,e){return(0,st.jsx)(o.B,{label:dt,yAxisId:t,orientation:"right",width:45,hide:e.temp,dataKey:"temp"})},pt=function(t,e){return(0,st.jsx)(o.B,(0,u.Z)({},q,{label:ct,orientation:"right",width:80,type:"number",domain:["dataMin","dataMax"],yAxisId:t,hide:e.pressure,dataKey:"pressure"}))},ft=function(t,e,i,n){return void 0===i&&(i="speed"),(0,st.jsx)(o.B,(0,u.Z)({},F,{label:ut(n),orientation:"right",width:45,yAxisId:t,hide:e[i],dataKey:i}))},ht=function(t,e){return(0,st.jsx)(o.B,(0,u.Z)({},B,{label:yt,orientation:"right",width:54,yAxisId:t,hide:e.rain,dataKey:"rain"}))},xt=function(t,e){return(0,st.jsx)(o.B,(0,u.Z)({},$,{label:vt,orientation:"right",width:54,yAxisId:t,hide:e.snow,dataKey:"snow"}))},St=i(6350),It=i(6880),Rt=function(t,e){return t[e]?"empty":e},mt=Object.create(null);const Tt=function(t,e,i){return void 0===i&&(i=mt),t.map((function(t){var n=t.id,r=t.type,s=t.yId,l=void 0===s?1:s,o=t.style,a=void 0===o?it:o;if(i[n])return null;var d="bar"===r?St.$:It.x;return(0,st.jsx)(d,(0,u.Z)({},a,{connectNulls:!0,yAxisId:l,dataKey:Rt(e,n)}),n)}))};var Mt=Array.isArray;const Pt=function(t){var e=t.active,i=t.payload;if(e&&Mt(i))return(i[0]||{}).payload};var gt=function(t,e){return void 0===t&&(t="green"),{stroke:t,fill:e||t}},jt=function(t){return void 0===t&&(t="green"),{color:t,fontWeight:"bold"}},_t={display:"inline-block",color:D.r$.LABEL.color,fontWeight:"bold"};const At={ROOT_DIV:(0,u.Z)({},D.DV.CHART,{padding:8}),LABEL:(0,u.Z)({},_t,{width:50}),CAPTION:(0,u.Z)({},_t,{paddingRight:4}),ROW:{paddingTop:8},DAY:jt(D.r$.DAY.color),CIRCLE_SPEED:gt(N.SPEED,"none"),SPEED:jt(N.SPEED),CIRCLE_HUMIDITY:gt(N.SPEED),HUMIDITY:jt(N.SPEED),RECT_RAIN:{stroke:N.RAIN},RAIN:jt(N.RAIN),RECT_SNOW:{stroke:N.SNOW},SNOW:jt(N.SNOW),CIRCLE_TEMP_MAX:gt(N.TEMP_MAX,"none"),TEMP_MAX:jt(N.TEMP_MAX),CIRCLE_TEMP_MIN:gt(N.TEMP_MIN,"none"),TEMP_MIN:jt(N.TEMP_MIN),CIRCLE_TEMP_MORN:gt(D.r$.TEMP_DAY.color,"none"),CIRCLE_TEMP_DAY:gt(D.r$.TEMP_DAY.color),TEMP_DAY:jt(D.r$.TEMP_DAY.color),CIRCLE_TEMP_EVE:gt(D.r$.TEMP_NIGHT.color,"none"),CIRCLE_TEMP_NIGHT:gt(D.r$.TEMP_NIGHT.color),TEMP_NIGHT:jt(D.r$.TEMP_NIGHT.color),CIRCLE_PRESSURE:gt(N.PRESSURE),PRESSURE:jt(N.PRESSURE),SERIA:jt(N.SERIA),CIRCLE_SERIA:gt(N.SERIA),POINTER:{lineHeight:2,cursor:"pointer"},FILTERED:{color:N.FILTERED}};const Ct=function(t){var e=t.caption,i=t.children;return(0,st.jsxs)("div",{style:At.ROOT_DIV,children:[(0,st.jsx)("div",{children:(0,st.jsx)("span",{style:At.DAY,children:e})}),i]})};var Dt=function(t){return null==t?"":t},Nt=function(t){var e=t.t,i=t.v,n=t.style,r=void 0===n?At.SERIA:n;return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("span",{style:At.LABEL,children:e+":"}),(0,st.jsxs)("span",{style:r,children:[Dt(i)," "]})]})};const wt=function(t){var e=t.t1,i=t.v1,n=t.t2,r=t.v2,s=t.style1,l=t.style2;return null==i&&null==r?null:(0,st.jsxs)("div",{style:At.ROW,children:[(0,st.jsx)(Nt,{t:e,v:i,style:s}),(0,st.jsx)(Nt,{t:n,v:r,style:l||s})]})};const kt=function(t){var e=t.t,i=t.v,n=t.style,r=void 0===n?At.SERIA:n;return null==i?null:(0,st.jsxs)("div",{style:At.ROW,children:[(0,st.jsx)("span",{style:At.CAPTION,children:e+":"}),(0,st.jsx)("span",{style:r,children:i})]})};const Zt=function(t){var e=Pt(t);if(!e)return null;var i=t.label,n=e.tempMorn,r=e.tempDay,s=e.tempEve,l=e.tempNight,o=e.tempMin,a=e.tempMax,d=e.rain,c=e.speed,u=e.pressure,y=e.humidity;return(0,st.jsxs)(Ct,{caption:i,children:[(0,st.jsx)(wt,{style1:At.TEMP_DAY,t1:"Morn",v1:n,t2:"Day",v2:r}),(0,st.jsx)(wt,{style1:At.TEMP_NIGHT,t1:"Eve",v1:s,t2:"Night",v2:l}),(0,st.jsx)(wt,{t1:"Min",v1:o,style1:At.TEMP_MIN,t2:"Max",v2:a,style2:At.TEMP_MAX}),(0,st.jsx)(wt,{t1:"Rain",v1:d,style1:At.RAIN,t2:"Wind",v2:c,style2:At.SPEED}),(0,st.jsx)(kt,{t:"Pressure",v:u,style:At.PRESSURE}),(0,st.jsx)(kt,{t:"Humidity",v:y,style:At.SPEED})]})};var Lt=i(3366),bt={padding:"0 4px"};const Ot=function(t){var e=t.style,i=t.onClick,n=t.children,r=t.titleStyle,s=t.title,l=void 0===s?"":s;return(0,st.jsxs)("div",{className:"legend-cell",style:(0,u.Z)({},bt,e),onClick:i,children:[n,(0,st.jsx)("span",{style:r,children:l})]})};var Ut={position:"relative",top:4,display:"inline-block",width:18,height:18};const Wt=function(t){var e=t.stroke,i=t.fill;return(0,st.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"100%",height:"100%",preserveAspectRatio:"none","aria-labelledby":"title",style:Ut,children:[(0,st.jsx)("title",{id:"title",children:"Circle Marker"}),(0,st.jsx)("circle",{r:"6",stroke:e,strokeWidth:"2",fill:i,cx:"9",cy:"9"})]})};var Ht={position:"relative",top:2,display:"inline-block",width:18,height:18};const Yt=function(t){var e=t.stroke,i=void 0===e?"green":e,n=t.fill,r=void 0===n?i:n;return(0,st.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"100%",height:"100%",preserveAspectRatio:"none","aria-labelledby":"title",style:Ht,children:[(0,st.jsx)("title",{id:"title",children:"Rest Marker"}),(0,st.jsx)("rect",{x:"3",y:"0",width:"11",height:"18",stroke:i,fill:r})]})};var Ft=["svgStyle","svgType"],Bt={display:"inline-block",marginRight:"1rem",padding:"0 4px 4px 4px"};const $t=function(t){var e=t.svgStyle,i=void 0===e?At.CIRCLE_SERIA:e,n=t.svgType,r=(0,Lt.Z)(t,Ft),s="rect"===n?Yt:Wt;return(0,st.jsx)(Ot,(0,u.Z)({style:Bt},r,{children:(0,st.jsx)(s,(0,u.Z)({},i))}))};var qt=function(t,e){return void 0===e&&(e=At.SERIA),t?(0,u.Z)({},e,At.FILTERED):e},Kt=function(t){return t.length<4?t.toUpperCase():t[0].toUpperCase()+t.substring(1)},Gt=Object.create(null);const Xt=function(t){var e=t.style,i=t.configs,n=t.notIs,r=void 0===n?Gt:n,s=t.filtered,l=t.onFilter;return(0,st.jsx)("div",{style:e,children:i.map((function(t){var e=t.id,i=t.title,n=t.titleStyle,o=t.svgType,a=t.svgStyle;return r[e]?null:(0,st.jsx)($t,{title:i||Kt(e),titleStyle:qt(s[e],n),svgType:o,svgStyle:a,onClick:function(){return l(e)}},e)}))})};var Vt={margin:"1rem 0 0 2rem"},zt=[{id:"tempDay",title:"T Day",titleStyle:At.TEMP_DAY,svgStyle:At.CIRCLE_TEMP_DAY},{id:"tempMorn",title:"T Morn",titleStyle:At.TEMP_DAY,svgStyle:At.CIRCLE_TEMP_MORN},{id:"tempMax",title:"T Max",titleStyle:At.TEMP_MAX,svgStyle:At.CIRCLE_TEMP_MAX},{id:"pressure",titleStyle:At.PRESSURE,svgStyle:At.CIRCLE_PRESSURE},{id:"rain",titleStyle:At.RAIN,svgType:"rect",svgStyle:At.RECT_RAIN},{id:"snow",titleStyle:At.SNOW,svgType:"rect",svgStyle:At.RECT_SNOW}],Qt=[{id:"tempEve",title:"T Eve",titleStyle:At.TEMP_NIGHT,svgStyle:At.CIRCLE_TEMP_EVE},{id:"tempNight",title:"T Night",titleStyle:At.TEMP_NIGHT,svgStyle:At.CIRCLE_TEMP_NIGHT},{id:"tempMin",title:"T Min",titleStyle:At.TEMP_MIN,svgStyle:At.CIRCLE_TEMP_MIN},{id:"humidity",titleStyle:At.HUMIDITY,svgStyle:At.CIRCLE_HUMIDITY},{id:"speed",title:"Wind",titleStyle:At.SPEED,svgStyle:At.CIRCLE_SPEED}];const Jt=(0,y.X$)((function(t){var e=t.isNot,i=t.filtered,n=t.onFilter;return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Xt,{style:Vt,notIs:e,configs:zt,filtered:i,onFilter:n}),(0,st.jsx)(Xt,{style:Vt,notIs:e,configs:Qt,filtered:i,onFilter:n})]})}));var te={value:"°C"},ee={tempDay:!1,tempNight:!0,tempMorn:!0,tempEve:!0,tempMax:!0,tempMin:!0,rain:!0,speed:!0,pressure:!0,humidity:!0,snow:!0},ie=function(t){return(t||[]).map((function(t){var e=t.dt,i=t.rain,n=void 0===i?0:i,r=t.speed,s=t.temp,l=t.pressure,o=t.humidity,a=t.snow,c=void 0===a?0:a,u=s||{},y=u.day,v=void 0===y?null:y,E=u.night,p=void 0===E?null:E,f=u.morn,h=void 0===f?null:f,x=u.eve,S=void 0===x?null:x,I=u.max,R=void 0===I?null:I,m=u.min,T=void 0===m?null:m;return{day:d.Z.toShortDayOfWeek(e),tempDay:v,tempNight:p,tempMorn:h,tempEve:S,tempMax:R,tempMin:T,rain:n,speed:r,pressure:l,humidity:o,snow:c}}))},ne=[{id:"rain",type:"bar",yId:5,style:nt},{id:"speed",yId:2,style:X},{id:"pressure",yId:3,style:G},{id:"humidity",yId:4,style:V},{id:"snow",type:"bar",yId:6,style:rt},{id:"tempMin",style:Q},{id:"tempMax",style:z},{id:"tempEve",style:et},{id:"tempMorn",style:J},{id:"tempNight",style:it},{id:"tempDay",style:tt}],re=function(t){var e=c.OU.recent(t);return e?c.OU.listById(t,e):void 0};const se=(0,l.Z)((function(){var t=v(ee),e=t[0],i=t[1],n=f(re,ie),r=M(n);return(0,st.jsxs)(lt,{chartStyle:W,data:n,TooltipComp:Zt,children:[(0,st.jsx)(o.B,{yAxisId:1,label:te}),ft(2,e),pt(3,e),ft(4,e,"humidity","%"),!r.rain&&ht(5,e),!r.snow&&xt(6,e),(0,st.jsx)(a.D,{content:(0,st.jsx)(Jt,{isNot:r,filtered:e,onFilter:i})}),Tt(ne,e,r)]})}));var le={marginTop:"1rem"},oe=[{id:"temp",title:"T"},{id:"pressure",titleStyle:At.PRESSURE,svgStyle:At.CIRCLE_PRESSURE},{id:"rain",titleStyle:At.RAIN,svgType:"rect",svgStyle:At.RECT_RAIN},{id:"snow",titleStyle:At.SNOW,svgType:"rect",svgStyle:At.RECT_SNOW},{id:"speed",title:"Wind",titleStyle:At.SPEED,svgStyle:At.CIRCLE_SPEED}];const ae=function(t){var e=t.isNot,i=t.filtered,n=t.onFilter;return(0,st.jsx)(Xt,{style:le,notIs:e,configs:oe,filtered:i,onFilter:n})};const de=function(t){var e=Pt(t);if(!e)return null;var i=e.dt_text,n=e.temp,r=e.pressure,s=e.rain,l=e.snow,o=e.speed;return(0,st.jsxs)(Ct,{caption:i,children:[(0,st.jsx)(kt,{t:"Temp",v:n}),(0,st.jsx)(kt,{t:"Pressure",v:r,style:At.PRESSURE}),(0,st.jsx)(kt,{t:"Speed",v:o,style:At.SPEED}),(0,st.jsx)(kt,{t:"Rain",v:s,s:At.RAIN}),(0,st.jsx)(kt,{t:"Snow",v:l,s:At.RAIN})]})};var ce={temp:!1,pressure:!0,rain:!0,speed:!0},ue=function(t){return(t||{})["3h"]||null},ye=function(t){return t.map((function(t){var e=t.dt,i=t.main,n=t.wind,r=t.rain,s=t.snow,l=i||{},o=l.temp,a=l.pressure,c=l.humidity,u=(n||{}).speed,y=void 0===u?null:u,v=d.Z.toDayHour(e);return{day:v,dt_text:v+":00",temp:o,pressure:a,humidity:c,speed:y,rain:ue(r),snow:ue(s)}}))},ve=[{id:"temp",yId:1},{id:"pressure",yId:2,style:G},{id:"rain",type:"bar",yId:3,style:nt},{id:"snow",type:"bar",yId:4,style:rt},{id:"speed",yId:5,style:X}];const Ee=(0,l.Z)((function(){var t=v(ce),e=t[0],i=t[1],n=f(c.LL.forecast,ye),r=M(n);return(0,st.jsxs)(lt,{data:n,TooltipComp:de,children:[Et(1,e),pt(2,e),!r.rain&&ht(3,e),!r.snow&&xt(4,e),ft(5,e),(0,st.jsx)(a.D,{content:(0,st.jsx)(ae,{isNot:r,filtered:e,onFilter:i})}),Tt(ve,e,r)]})}));const pe=function(t){var e=Pt(t);if(!e)return null;var i=e.day,n=e.uvi;return(0,st.jsx)(Ct,{caption:i+":00",children:(0,st.jsx)(kt,{t:"UV index",v:n})})};var fe=function(t){return(t||[]).map((function(t){var e=t.date,i=t.value;return{day:d.Z.toDayHour(e),uvi:i}}))};const he=(0,l.Z)((function(){var t=f(c.yw.forecast,fe);return(0,st.jsxs)(lt,{type:"line",data:t,TooltipComp:pe,children:[(0,st.jsx)(o.B,{yAxisId:1,orientation:"right",width:45,dataKey:"uvi"}),(0,st.jsx)(It.x,(0,u.Z)({},it,{connectNulls:!0,yAxisId:1,dataKey:"uvi"}))]})}));const xe=function(t){var e=Pt(t);if(!e)return null;var i=e.dt_text,n=e.aqi,r=e.no2,s=e.pm10,l=e.o3,o=e.pm2_5,a=e.co;return(0,st.jsxs)(Ct,{caption:i,children:[(0,st.jsx)(wt,{t1:"AQI",v1:n,style1:At.SPEED,t2:"CO",v2:a,style2:At.PRESSURE}),(0,st.jsx)(wt,{t1:"NO2",v1:r,t2:"O3",v2:l}),(0,st.jsx)(wt,{t1:"PM10",v1:s,t2:"PM2.5",v2:o})]})};var Se={marginTop:"1rem"},Ie=[{id:"aqi",titleStyle:At.SPEED,svgStyle:At.CIRCLE_SPEED},{id:"no2"},{id:"o3"},{id:"pm10",title:"PM10"},{id:"pm2_5",title:"PM2.5"}],Re=[{id:"co",titleStyle:At.PRESSURE,svgStyle:At.CIRCLE_PRESSURE},{id:"no"},{id:"nh3"},{id:"so2"}];const me=function(t){var e=t.filtered,i=t.onFilter;return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Xt,{style:Se,configs:Ie,filtered:e,onFilter:i}),(0,st.jsx)(Xt,{style:Se,configs:Re,filtered:e,onFilter:i})]})};var Te=function(t){return{stroke:t,fill:t}},Me={position:"top",offset:10},Pe=(0,u.Z)({},Me,{value:"μg/m3"}),ge=(0,u.Z)({},Pe,Te(N.PRESSURE)),je=(0,u.Z)({},Me,Te(N.SPEED),{value:"AQI"}),_e={aqi:!1,co:!1,no2:!0,o3:!0,pm2_5:!0,pm10:!0,no:!0,nh3:!0,so2:!0},Ae=function(t){return(t||[]).map((function(t){var e=t.dt,i=t.components,n=t.main,r=d.Z.toDayHour(e),s=(n||{}).aqi;return(0,u.Z)({},i,{day:r,dt_text:r+":00",aqi:s})}))},Ce=[{id:"aqi",yId:2,style:X},{id:"no2"},{id:"o3"},{id:"pm2_5"},{id:"pm10"},{id:"co",yId:3,style:G},{id:"no"},{id:"nh3"},{id:"so2"}];const De=(0,l.Z)((function(){var t=v(_e),e=t[0],i=t[1],n=f(c.ui.forecast,Ae),r=e.no2&&e.o3&&e.pm10&&e.pm2_5&&e.no&&e.nh3&&e.so2;return(0,st.jsxs)(lt,{data:n,TooltipComp:xe,children:[(0,st.jsx)(o.B,{yAxisId:1,orientation:"right",width:45,label:Pe,hide:r}),(0,st.jsx)(o.B,(0,u.Z)({yAxisId:2,orientation:"right",width:45,label:je,dataKey:"aqi",hide:e.aqi},F)),(0,st.jsx)(o.B,(0,u.Z)({yAxisId:3,orientation:"right",width:45,label:ge,dataKey:"co",hide:e.co},q)),(0,st.jsx)(a.D,{content:(0,st.jsx)(me,{filtered:e,onFilter:i})}),Tt(Ce,e)]})}));var Ne=n.Z.requestHourly,we=n.Z.requestUvi,ke=n.Z.requestAirForecast,Ze={textAlign:"left"};const Le=function(){return(0,st.jsxs)(r.Z,{width:"100%",tabsStyle:Ze,children:[(0,st.jsx)(s.Z,{title:"7 Days",children:(0,st.jsx)(se,{})}),(0,st.jsx)(s.Z,{title:"5 Days/3 Hours",onClick:Ne,children:(0,st.jsx)(Ee,{})}),(0,st.jsx)(s.Z,{title:"UV index",onClick:we,children:(0,st.jsx)(he,{})}),(0,st.jsx)(s.Z,{title:"Air Forecast",onClick:ke,children:(0,st.jsx)(De,{})})]})}}}]);