(self.webpackChunkweather_forecast=self.webpackChunkweather_forecast||[]).push([[151],{1293:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>nt});var r=n(7280),i=n(731),a=n(7847),l=n(5749),o=n(7154),s=n.n(o),E=n(8129),c=n(4195),m=n(6350),d=n(6880),u=n(5358),y=n(3023),p=n(9009),Z=n(9307),v=n(3872),h=n(1136),I=n(8687);const M={CartesianGrid:c.Z,Bar:m.Z,Line:d.Z,YAxis:u.Z,XAxis:y.Z,ResponsiveContainer:p.Z,Tooltip:Z.Z,Legend:v.Z,ComposedChart:h.Z,LineChart:I.Z};var R=n(3841),T=n(1391),f=n(9205);const C={SPEED:"#3f51b5",RAIN:"#0922a5",TEMP_MAX:"#f44336",TEMP_MIN:"#03a9f4",PRESSURE:"#0d2339",SERIA:"#434348",FILTERED:"#9e9e9e"};var A=function(e,t){return void 0===e&&(e="green"),{stroke:e,fill:t||e}},S=function(e){return void 0===e&&(e="green"),{color:e,fontWeight:"bold"}},P={display:"inline-block",color:f.r$.LABEL.color,fontWeight:"bold"};const _={ROOT_DIV:s()({},f.DV.CHART,{padding:8}),LABEL:s()({},P,{width:50}),CAPTION:s()({},P,{paddingRight:4}),ROW:{paddingTop:8},DAY:S(f.r$.DAY.color),CIRCLE_SPEED:A(C.SPEED,"none"),SPEED:S(C.SPEED),CIRCLE_HUMIDITY:A(C.SPEED),HUMIDITY:S(C.SPEED),CIRCLE_RAIN:A(C.RAIN),RECT_RAIN:{stroke:C.RAIN},RAIN:S(C.RAIN),CIRCLE_TEMP_MAX:A(C.TEMP_MAX,"none"),TEMP_MAX:S(C.TEMP_MAX),CIRCLE_TEMP_MIN:A(C.TEMP_MIN,"none"),TEMP_MIN:S(C.TEMP_MIN),CIRCLE_TEMP_MORN:A(f.r$.TEMP_DAY.color,"none"),CIRCLE_TEMP_DAY:A(f.r$.TEMP_DAY.color),TEMP_DAY:S(f.r$.TEMP_DAY.color),CIRCLE_TEMP_EVE:A(f.r$.TEMP_NIGHT.color,"none"),CIRCLE_TEMP_NIGHT:A(f.r$.TEMP_NIGHT.color),TEMP_NIGHT:S(f.r$.TEMP_NIGHT.color),CIRCLE_PRESSURE:A(C.PRESSURE),PRESSURE:S(C.PRESSURE),SERIA:S(C.SERIA),CIRCLE_SERIA:A(C.SERIA),POINTER:{lineHeight:2,cursor:"pointer"},FILTERED:{color:C.FILTERED}};const L=function(e){var t=e.caption,n=e.children;return r.Z.createElement("div",{style:_.ROOT_DIV},r.Z.createElement("div",null,r.Z.createElement("span",{style:_.DAY},t)),n)};var D=function(e){var t=e.t,n=e.v,i=e.style;return r.Z.createElement(r.Z.Fragment,null,r.Z.createElement("span",{style:_.LABEL},t+":"),r.Z.createElement("span",{style:i},function(e){return null==e?"":e}(n)," "))};const g=function(e){var t=e.t1,n=e.v1,i=e.t2,a=e.v2,l=e.style1,o=e.style2;return null==n&&null==a?null:r.Z.createElement("div",{style:_.ROW},r.Z.createElement(D,{t,v:n,style:l}),r.Z.createElement(D,{t:i,v:a,style:o||l}))};const k=function(e){var t=e.t,n=e.v,i=e.style,a=void 0===i?_.SERIA:i;return null==n?null:r.Z.createElement("div",{style:_.ROW},r.Z.createElement("span",{style:_.CAPTION},t+":"),r.Z.createElement("span",{style:a},n))};const x=function(e){if(!e.active)return null;var t=e.label,n=(e.payload[0]||{}).payload||{},i=n.tempMorn,a=n.tempDay,l=n.tempEve,o=n.tempNight,s=n.tempMin,E=n.tempMax,c=n.rain,m=n.speed,d=n.pressure,u=n.humidity;return r.Z.createElement(L,{caption:t},r.Z.createElement(g,{style1:_.TEMP_DAY,t1:"Morn",v1:i,t2:"Day",v2:a}),r.Z.createElement(g,{style1:_.TEMP_NIGHT,t1:"Eve",v1:l,t2:"Night",v2:o}),r.Z.createElement(g,{t1:"Min",v1:s,style1:_.TEMP_MIN,t2:"Max",v2:E,style2:_.TEMP_MAX}),r.Z.createElement(g,{t1:"Rain",v1:c,style1:_.RAIN,t2:"Wind",v2:m,style2:_.SPEED}),r.Z.createElement(k,{t:"Pressure",v:d,style:_.PRESSURE}),r.Z.createElement(k,{t:"Humidity",v:u,style:_.SPEED}))};var N={SVG:{position:"relative",top:4,display:"inline-block",width:18,height:18}};const b=function(e){var t=e.stroke,n=e.fill;return r.Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"100%",height:"100%",preserveAspectRatio:"none","aria-labelledby":"title",style:N.SVG},r.Z.createElement("title",{id:"title"},"Circle Marker"),r.Z.createElement("circle",{r:"6",stroke:t,strokeWidth:"2",fill:n,cx:"9",cy:"9"}))};var O={SVG:{position:"relative",top:2,display:"inline-block",width:18,height:18}};const Y=function(e){var t=e.stroke,n=void 0===t?"green":t,i=e.fill,a=void 0===i?n:i;return r.Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"100%",height:"100%",preserveAspectRatio:"none","aria-labelledby":"title",style:O.SVG},r.Z.createElement("title",{id:"title"},"Rest Marker"),r.Z.createElement("rect",{x:"3",y:"0",width:"11",height:"18",stroke:n,fill:a}))};var w={paddingLeft:4,paddingRight:4};const H=function(e){var t=e.style,n=e.onClick,i=e.children,a=e.titleStyle,l=e.title,o=void 0===l?"":l;return r.Z.createElement("div",{className:"legend-cell",style:s()({},w,t),onClick:n},i,r.Z.createElement("span",{style:a},o))};var K=Object.assign,U=function(e,t){return e?K({},t,_.POINTER):K({},t,_.POINTER,_.FILTERED)};const G=function(e){var t={};return t.tempMorn=U(e.tempMorn,_.TEMP_DAY),t.tempDay=U(e.tempDay,_.TEMP_DAY),t.tempEve=U(e.tempEve,_.TEMP_NIGHT),t.tempNight=U(e.tempNight,_.TEMP_NIGHT),t.tempMax=U(e.tempMax,_.TEMP_MAX),t.tempMin=U(e.tempMin,_.TEMP_MIN),t.rain=U(e.rain,_.RAIN),t.speed=U(e.speed,_.SPEED),t.pressure=U(e.pressure,_.PRESSURE),t.humidity=U(e.humidity,_.HUMIDITY),t};var X=r.Z.memo,W="tempDay",$="tempNight",V="tempMorn",B="tempEve",F="tempMax",z="tempMin",j="rain",q="speed",J="pressure",Q="humidity",ee={ROOT_DIV:{marginLeft:"3rem",marginTop:"1rem"},COL_1:{display:"inline-block",marginRight:"1rem"},COL_2:{display:"inline-block"},COL_3:{display:"inline-block",marginLeft:"1rem"}};const te=X((function(e){var t=e.filters,n=e.onFilter,i=G(t);return r.Z.createElement("div",{style:ee.ROOT_DIV},r.Z.createElement("div",{style:ee.COL_1},r.Z.createElement(H,{titleStyle:i.tempMorn,title:"T Morn",onClick:function(){return n(V)}},r.Z.createElement(b,_.CIRCLE_TEMP_MORN)),r.Z.createElement(H,{titleStyle:i.tempDay,title:"T Day",onClick:function(){return n(W)}},r.Z.createElement(b,_.CIRCLE_TEMP_DAY))),r.Z.createElement("div",{style:ee.COL_2},r.Z.createElement(H,{titleStyle:i.tempEve,title:"T Eve",onClick:function(){return n(B)}},r.Z.createElement(b,_.CIRCLE_TEMP_EVE)),r.Z.createElement(H,{titleStyle:i.tempNight,title:"T Night",onClick:function(){return n($)}},r.Z.createElement(b,_.CIRCLE_TEMP_NIGHT))),r.Z.createElement("div",{style:ee.COL_3},r.Z.createElement(H,{titleStyle:i.tempMax,title:"T Max",onClick:function(){return n(F)}},r.Z.createElement(b,_.CIRCLE_TEMP_MAX)),r.Z.createElement(H,{titleStyle:i.tempMin,title:"T Min",onClick:function(){return n(z)}},r.Z.createElement(b,_.CIRCLE_TEMP_MIN))),r.Z.createElement("div",{style:ee.COL_3},r.Z.createElement(H,{titleStyle:i.rain,title:"Rain",onClick:function(){return n(j)}},r.Z.createElement(Y,_.RECT_RAIN)),r.Z.createElement(H,{titleStyle:i.speed,title:"Wind",onClick:function(){return n(q)}},r.Z.createElement(b,_.CIRCLE_SPEED))),r.Z.createElement("div",{style:ee.COL_3},r.Z.createElement(H,{titleStyle:i.pressure,title:"Pressure",onClick:function(){return n(J)}},r.Z.createElement(b,_.CIRCLE_PRESSURE)),r.Z.createElement(H,{titleStyle:i.humidity,title:"Humidity",onClick:function(){return n(Q)}},r.Z.createElement(b,_.CIRCLE_HUMIDITY))))}),(function(e,t){return e.filters===t.filters}));var ne=function(e){var t=e.stroke,n=e.fill,r=void 0===n?t:n,i=e.dash;return{type:"monotone",stroke:t,strokeWidth:2,strokeDasharray:void 0===i?null:i,dot:{r:6,strokeWidth:2,strokeDasharray:null,stroke:t,fill:r},activeDot:{r:10,strokeWidth:2,strokeDasharray:null,stroke:t,fill:r}}},re=function(e){return{axisLine:{stroke:e},tickLine:{stroke:e},tick:{stroke:e,fill:e}}};const ie={ComposedChart:{margin:{top:20,right:10,bottom:30,left:-20}},HourlyChart:{margin:{top:20,right:10,bottom:30,left:20}},XAxis:{tickSize:16,tick:{stroke:f.r$.DAY.color,fill:f.r$.DAY.color}},YAxisSpeed:re(C.SPEED),YAxisRain:re(C.RAIN),YAxisPressure:re(C.PRESSURE),CartesianGrid:{stroke:"#555",vertical:!1},LinePressure:ne({stroke:C.PRESSURE,dash:"5 5"}),LineRain:ne({stroke:C.RAIN,dash:"5 5"}),LineSpeed:ne({stroke:C.SPEED,fill:"#808080",dash:"5 5"}),LineHumidity:ne({stroke:C.SPEED}),LineTempMax:ne({stroke:C.TEMP_MAX,fill:"#808080",dash:"5 5"}),LineTempMin:ne({stroke:C.TEMP_MIN,fill:"#808080",dash:"5 5"}),LineTempMorn:ne({stroke:f.r$.TEMP_DAY.color,fill:"#808080",dash:"5 5"}),LineTempDay:ne({stroke:f.r$.TEMP_DAY.color}),LineTempEve:ne({stroke:f.r$.TEMP_NIGHT.color,fill:"#808080",dash:"5 5"}),LineTempNight:ne({stroke:f.r$.TEMP_NIGHT.color})};var ae=r.Z.useState,le=r.Z.useCallback,oe=r.Z.useMemo,se=r.Z.memo,Ee=M.CartesianGrid,ce=M.Bar,me=M.Line,de=M.YAxis,ue=M.XAxis,ye=M.ResponsiveContainer,pe=M.Tooltip,Ze=M.Legend,ve=M.ComposedChart,he={tempDay:!0,tempNight:!1,tempMorn:!1,tempEve:!1,tempMax:!1,tempMin:!1,rain:!1,speed:!1,pressure:!1,humidity:!1},Ie=[{day:"01 SU",tempDay:35},{day:"02 MO",tempDay:30},{day:"03 TU",tempDay:20},{day:"04 WE",tempDay:27},{day:"05 TH",tempDay:18},{day:"06 FR",tempDay:23},{day:"07 SA",tempDay:34}];const Me=se((function(){var e=ae(he),t=e[0],n=e[1],i=le((function(e){n((function(t){return t[e]=!t[e],s()({},t)}))}),[]),a=(0,E.useSelector)((function(e){var t=T.OU.recent(e);return t?T.OU.listById(e,t):void 0})),l=oe((function(){return a?(void 0===(e=a)&&(e=[]),e.map((function(e){var t=e.dt,n=e.rain,r=void 0===n?0:n,i=e.speed,a=e.temp,l=e.pressure,o=e.humidity,s=a||{},E=s.day,c=void 0===E?null:E,m=s.night,d=void 0===m?null:m,u=s.morn,y=void 0===u?null:u,p=s.eve,Z=void 0===p?null:p,v=s.max,h=void 0===v?null:v,I=s.min,M=void 0===I?null:I;return{day:R.Z.toShortDayOfWeek(t),tempDay:c,tempNight:d,tempMorn:y,tempEve:Z,tempMax:h,tempMin:M,rain:r,speed:i,pressure:l,humidity:o}}))):Ie;var e}),[a]),o=oe((function(){return function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});var n=Object.keys(t);return e.map((function(e){var r=s()({},e);return n.forEach((function(e){t[e]||(r[e]=null)})),r}))}(l,t)}),[l,t]);return r.Z.createElement(ye,{width:"100%",height:300},r.Z.createElement(ve,s()({},ie.ComposedChart,{data:o}),r.Z.createElement(ue,s()({dataKey:"day"},ie.XAxis)),r.Z.createElement(de,{yAxisId:1,label:{value:"°C"}}),r.Z.createElement(de,s()({},ie.YAxisRain,{yAxisId:2,hide:!t.rain,dataKey:"rain",orientation:"right",label:"mm"})),r.Z.createElement(de,s()({},ie.YAxisSpeed,{hide:!t.speed,yAxisId:3,dataKey:"speed",orientation:"right",label:"m/s"})),r.Z.createElement(de,s()({},ie.YAxisPressure,{hide:!t.pressure,yAxisId:4,dataKey:"pressure",width:80,orientation:"right",label:"hPa",type:"number",domain:["dataMin","dataMax"]})),r.Z.createElement(de,s()({},ie.YAxisSpeed,{hide:!t.humidity,yAxisId:5,dataKey:"humidity",orientation:"right",label:"%"})),r.Z.createElement(Ee,ie.CartesianGrid),r.Z.createElement(pe,{offset:24,content:r.Z.createElement(x,{data:l})}),r.Z.createElement(Ze,{content:r.Z.createElement(te,{filters:t,onFilter:i})}),r.Z.createElement(ce,{yAxisId:2,dataKey:"rain",barSize:20,fill:C.RAIN}),r.Z.createElement(me,s()({},ie.LineSpeed,{yAxisId:3,dataKey:"speed"})),r.Z.createElement(me,s()({},ie.LinePressure,{yAxisId:4,dataKey:"pressure"})),r.Z.createElement(me,s()({},ie.LineHumidity,{yAxisId:5,dataKey:"humidity"})),r.Z.createElement(me,s()({},ie.LineTempMin,{yAxisId:1,dataKey:"tempMin"})),r.Z.createElement(me,s()({},ie.LineTempMax,{yAxisId:1,dataKey:"tempMax"})),r.Z.createElement(me,s()({},ie.LineTempEve,{yAxisId:1,dataKey:"tempEve"})),r.Z.createElement(me,s()({},ie.LineTempMorn,{yAxisId:1,dataKey:"tempMorn"})),r.Z.createElement(me,s()({},ie.LineTempNight,{yAxisId:1,dataKey:"tempNight"})),r.Z.createElement(me,s()({},ie.LineTempDay,{yAxisId:1,dataKey:"tempDay"}))))}),(function(){return!0}));var Re={ROOT:{marginTop:"1rem"},ITEM:{display:"inline-block",marginRight:"1rem",paddingLeft:4,paddingRight:4,paddingBottom:4}},Te=function(e,t){return e?t:s()({},t,_.FILTERED)};const fe=function(e){var t=e.filtered,n=e.onFilter,i=Te(!t.temp,_.SERIA),a=Te(!t.pressure,_.PRESSURE),l=Te(!t.rain,_.RAIN),o=Te(!t.speed,_.SPEED);return r.Z.createElement("div",{style:Re.ROOT},r.Z.createElement(H,{style:Re.ITEM,titleStyle:i,title:"T",onClick:function(){return n("temp")}},r.Z.createElement(b,_.CIRCLE_SERIA)),r.Z.createElement(H,{style:Re.ITEM,titleStyle:a,title:"Pressure",onClick:function(){return n("pressure")}},r.Z.createElement(b,_.CIRCLE_PRESSURE)),r.Z.createElement(H,{style:Re.ITEM,titleStyle:l,title:"Rain",onClick:function(){return n("rain")}},r.Z.createElement(Y,_.RECT_RAIN)),r.Z.createElement(H,{style:Re.ITEM,titleStyle:o,title:"Wind",onClick:function(){return n("speed")}},r.Z.createElement(b,_.CIRCLE_SPEED)))};const Ce=function(e){var t=e.active,n=e.payload;if(!t)return null;var i=(n[0]||{}).payload||{},a=i.dt_text,l=i.temp,o=i.pressure,s=i.rain,E=i.speed;return r.Z.createElement(L,{caption:a},r.Z.createElement(k,{t:"Temp",v:l}),r.Z.createElement(k,{t:"Pressure",v:o,style:_.PRESSURE}),r.Z.createElement(k,{t:"Speed",v:E,style:_.SPEED}),r.Z.createElement(k,{t:"Rain",v:s,s:_.RAIN}))};var Ae=r.Z.useState,Se=r.Z.useCallback,Pe=r.Z.useMemo,_e=r.Z.memo,Le=M.CartesianGrid,De=M.Line,ge=M.Bar,ke=M.YAxis,xe=M.XAxis,Ne=M.ResponsiveContainer,be=M.Legend,Oe=M.ComposedChart,Ye=M.Tooltip,we=Array.isArray,He={temp:!1,pressure:!0,rain:!0,speed:!0},Ke=[{day:"01 08",temp:35},{day:"02 20",temp:30},{day:"03 08",temp:20},{day:"04 20",temp:27},{day:"05 08",temp:18},{day:"06 20",temp:23},{day:"07 08",temp:34}],Ue=function(e,t){return e[t]?"empty":t};const Ge=_e((function(){var e=Ae(He),t=e[0],n=e[1],i=Se((function(e){n((function(t){return t[e]=!t[e],s()({},t)}))}),[]),a=(0,E.useSelector)((function(e){return T.LL.forecast(e)})),l=Pe((function(){return we(a)?function(e){return e.map((function(e){var t=e.dt,n=e.main,r=e.wind,i=e.rain,a=n||{},l=a.temp,o=a.pressure,s=a.humidity,E=(r||{}).speed,c=void 0===E?null:E,m=(i||{})["3h"]||null,d=R.Z.toDayHour(t);return{day:d,dt_text:d+":00",temp:l,pressure:o,humidity:s,speed:c,rain:m}}))}(a):Ke}),[a]);return r.Z.createElement(Ne,{width:"100%",height:300},r.Z.createElement(Oe,s()({data:l},ie.HourlyChart),r.Z.createElement(xe,s()({dataKey:"day"},ie.XAxis)),r.Z.createElement(ke,{yAxisId:1,orientation:"right",width:45,label:"°C",dataKey:"temp",hide:t.temp}),r.Z.createElement(ke,s()({yAxisId:2,orientation:"right",width:80,dataKey:"pressure",type:"number",domain:["dataMin","dataMax"],label:"hPa",hide:t.pressure},ie.YAxisPressure)),r.Z.createElement(ke,s()({yAxisId:3,orientation:"right",width:54,label:"mm",dataKey:"rain",hide:t.rain},ie.YAxisRain)),r.Z.createElement(ke,s()({yAxisId:4,orientation:"right",width:45,label:"m/s",dataKey:"speed",hide:t.speed},ie.YAxisSpeed)),r.Z.createElement(Le,ie.CartesianGrid),r.Z.createElement(Ye,{offset:24,content:r.Z.createElement(Ce,{data:l})}),r.Z.createElement(be,{content:r.Z.createElement(fe,{filtered:t,onFilter:i})}),r.Z.createElement(De,s()({},ie.LineTempNight,{connectNulls:!0,yAxisId:1,dataKey:Ue(t,"temp")})),r.Z.createElement(De,s()({},ie.LinePressure,{connectNulls:!0,strokeDasharray:"5 5",yAxisId:2,dataKey:Ue(t,"pressure")})),r.Z.createElement(ge,{dataKey:Ue(t,"rain"),yAxisId:3,barSize:20,fill:"#0922a5"}),r.Z.createElement(De,s()({connectNulls:!0},ie.LineSpeed,{strokeDasharray:"5 5",yAxisId:4,dataKey:Ue(t,"speed")}))))}),(function(){return!0}));const Xe=function(e){var t=e.active,n=e.payload;if(!t)return null;var i=(n[0]||{}).payload||{},a=i.day,l=i.uvi;return r.Z.createElement(L,{caption:a+":00"},r.Z.createElement(k,{t:"UV index",v:l}))};var We=r.Z.useMemo,$e=M.CartesianGrid,Ve=M.Line,Be=M.YAxis,Fe=M.XAxis,ze=M.ResponsiveContainer,je=M.LineChart,qe=M.Tooltip;const Je=function(){var e=(0,E.useSelector)(T.yw.forecast),t=We((function(){return(e||[]).map((function(e){var t=e.dt,n=e.uvi;return{day:R.Z.toDayHour(t),uvi:n}}))}),[e]);return r.Z.createElement(ze,{width:"100%",height:300},r.Z.createElement(je,s()({data:t},ie.HourlyChart),r.Z.createElement(Fe,s()({dataKey:"day"},ie.XAxis)),r.Z.createElement(Be,{yAxisId:1,orientation:"right",width:45,dataKey:"uvi"}),r.Z.createElement($e,ie.CartesianGrid),r.Z.createElement(qe,{offset:24,content:r.Z.createElement(Xe,{data:t})}),r.Z.createElement(Ve,s()({},ie.LineTempNight,{connectNulls:!0,yAxisId:1,dataKey:"uvi"}))))};var Qe=i.Z.requestHourly,et=i.Z.requestUvi,tt={TABS:{textAlign:"left"}};const nt=function(){return r.Z.createElement(a.Z,{key:"1",width:"100%",tabsStyle:tt.TABS},r.Z.createElement(l.Z,{title:"7 Days"},r.Z.createElement(Me,null)),r.Z.createElement(l.Z,{title:"5 Days/3 Hours",onClick:Qe},r.Z.createElement(Ge,null)),r.Z.createElement(l.Z,{title:"UV index",onClick:et},r.Z.createElement(Je,null)))}}}]);