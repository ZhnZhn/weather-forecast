!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="app/",n(n.s=12)}([function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){e.exports=n(11)},function(e,t,n){e.exports=n(7)(22)},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){e.exports=n(7)(19)},function(e,t){e.exports=void 0},function(e,t){e.exports=lib_vendor},function(e,t){e.exports=void 0},function(e,t){e.exports=void 0},function(e,t,n){e.exports=n(7)(23)},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new b(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=g(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var p=l(e,t,n);if("normal"===p.type){if(r=n.done?"completed":"suspendedYield",p.arg===c)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(r="completed",n.method="throw",n.arg=p.arg)}}}(e,n,a),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var c={};function p(){}function u(){}function d(){}var m={};m[o]=function(){return this};var h=Object.getPrototypeOf,f=h&&h(h(x([])));f&&f!==t&&n.call(f,o)&&(m=f);var y=d.prototype=p.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e){var t;this._invoke=function(r,o){function i(){return new Promise((function(t,i){!function t(r,o,i,a){var s=l(e[r],e,o);if("throw"!==s.type){var c=s.arg,p=c.value;return p&&"object"==typeof p&&n.call(p,"__await")?Promise.resolve(p.__await).then((function(e){t("next",e,i,a)}),(function(e){t("throw",e,i,a)})):Promise.resolve(p).then((function(e){c.value=e,i(c)}),(function(e){return t("throw",e,i,a)}))}a(s.arg)}(r,o,t,i)}))}return t=t?t.then(i,i):i()}}function g(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function b(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return u.prototype=y.constructor=d,d.constructor=u,d[a]=u.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),E.prototype[i]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,r,o){var i=new E(s(t,n,r,o));return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(y),y[a]="Generator",y[o]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,b.prototype={constructor:b,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";n.r(t);var r,o,i=n(6),a=n.n(i),s=n(8),l=n.n(s),c=n(5),p=n(3),u="PLACE_REQUESTED",d="PLACE_REQUESTED_OK",m=function(e){return{type:u,payload:e}},h={requested:m,requestedOk:function(e){return{type:d,forecast:e}}},f="FORECAST_REQUESTED",y="FORECAST_REQUESTED_INCACHE",v="FORECAST_REQUESTED_OK",E=function(e){return{type:f,id:e}},g={requested:E,requestedInCache:function(e){return{type:y,id:e}},requestedOk:function(e,t){return{type:v,forecast:e,id:t}}},_="HOURLY_REQUESTED",C="HOURLY_REQUESTED_OK",b="HOURLY_REQUESTED_INCACHE",x=function(){return{type:_}},S={requested:x,requestedOk:function(e,t){return{type:C,hourly:e,id:t}},requestedInCache:function(){return{type:b}}},w="UV_REQUESTED",k="UV_REQUESTED_OK",T="UV_REQUESTED_INCACHE",O=function(){return{type:w}},A={requested:O,requestedOk:function(e,t){return{type:k,json:e,id:t}},requestedInCache:function(){return{type:T}}},N=n(0),D=n.n(N),L="MODAL_SHOW",R=function(e,t){return D()({type:L,id:e},t)},I={showModal:R},M="LOADING",P="SUCCESS",B="FAILED",G=function(e,t){switch(void 0===e&&(e=""),t.type){case L:return"ERROR"===t.id?B:e;case u:case f:case _:case w:return M;case d:case v:case y:case C:case b:case k:case T:return P;default:return e}},U="TOGGLE_LAYOUT",K="SET_THEME_NAME",W=function(e){return{type:U,key:e}},H=function(e){return{type:K,themeName:e}},F={themeName:"GREY",isPopupForecast:!0,isSettings:!1,isPushMenu:!1},Y=function(e,t){switch(void 0===e&&(e=F),t.type){case L:return"SETTINGS"===t.id?D()({},e,{},{isSettings:!0}):e;case U:var n=t.key;return e[n]=!e[n],D()({},e);case K:return e.themeName=t.themeName,D()({},e);default:return e}},V={id:void 0},j=function(e,t){switch(void 0===e&&(e=V),t.type){case L:var n=t.id,r=t.errMsg;return e.id=n,e.errMsg=r,D()({},e);default:return e}},z="SETTINGS_SET",q="SETTINGS_SET_APIKEY",X=function(e){return{type:z,apiKey:e}},Q={setSettings:X,setApiKey:function(){return{type:q}}},Z={isApiKey:!1},J=function(e,t){switch(void 0===e&&(e=Z),t.type){case q:return e.isApiKey=!0,D()({},e);default:return e}},$=function(e,t){switch(void 0===e&&(e={}),t.type){case d:var n=t.forecast,r=void 0===n?{}:n,o=r.id,i=void 0===o?"id":o;return e.recent=i,e[i]=r,D()({},e);default:return e}},ee=function(e,t){switch(void 0===e&&(e={}),void 0===t&&(t={}),t.type){case v:return e.recent=t.id,e[t.id]=t.forecast,D()({},e);case y:return e.recent=t.id,D()({},e);default:return e}},te=function(e,t){switch(void 0===e&&(e={}),t.type){case C:return e.recent=t.id,e[t.id]=t.hourly,D()({},e);default:return e}},ne=function(e,t){switch(void 0===e&&(e={}),t.type){case k:return e.recent=t.id,e[t.id]=t.json,D()({},e);default:return e}},re=Object(c.combineReducers)({fetching:G,layout:Y,modal:j,settings:J,place:$,forecast:ee,hourly:te,uv:ne}),oe=n(2),ie=n.n(oe),ae=function(e){return function(e){return e.recent}(e.place)},se=function(e,t){return function(e,t){return e[t]}(e.place,t)},le=function(e,t){return function(e,t){return e[t]}(e.forecast,t)},ce=function(e){return function(e){return e.recent}(e.forecast)},pe=function(e,t){return function(e,t){return e[t].list}(e.forecast,t)},ue=function(e,t){return function(e,t){return e[t].city.coord}(e.forecast,t)},de=function(e){return function(e){return e.recent}(e.hourly)},me=function(e,t){return function(e,t){return e[t]}(e.hourly,t)},he=function(e){return function(e){return e.recent}(e.uv)},fe=function(e,t){return function(e,t){return e[t]}(e.uv,t)},ye=function(e){return function(e){return e.isApiKey}(e.settings)},ve=function(e){return function(e){return e.errMsg}(e.modal)},Ee=p.effects.select,ge=ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee(ye);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),_e="&units=metric",Ce="&lang=en",be="https://api.openweathermap.org/data/2.5/",xe=51.48,Se=-.13,we={setApiKey:function(e){return r=e,Promise.resolve(!0)},crForecast:function(e,t){return void 0===e&&(e=xe),void 0===t&&(t=Se),be+"weather?APPID="+r+_e+Ce+"&lat="+e+"&lon="+t},crForecastById:function(e){return be+"forecast/daily?APPID="+r+"&cnt=7"+_e+"&id="+e+Ce},crHourlyById:function(e){return be+"forecast?APPID="+r+_e+"&id="+e+Ce},crUV:function(e,t){return void 0===e&&(e=xe),void 0===t&&(t=Se),"https://api.openweathermap.org/v3/uvi/"+Math.round(e)+","+Math.round(t)+"/current.json?APPID="+r}},ke="HTTP Status",Te="Loading error. Please, check your network connection.",Oe=function(e){return fetch(e).then((function(e){var t=e.status;return Promise.all([e.json(),Promise.resolve(t)])})).then((function(e){var t=e[0],n=e[1];if(n>=200&&n<300)return t;if(n>=400&&n<500){var r=t.message;throw new Error(ke+": "+n+". "+r)}throw new Error(ke+": "+n)})).catch((function(e){var t=e.message,n=void 0===t?"":t;if(-1!==n.indexOf(ke))throw new Error(n);throw new Error(Te+" "+n)}))},Ae=p.effects.takeEvery,Ne=p.effects.call,De=p.effects.put,Le=ie.a.mark((function e(t){var n,r,o,i,a;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(ge(),"t0",2);case 2:if(!e.t0){e.next=13;break}return n=t.payload,o=(r=void 0===n?{}:n).lat,i=r.lot,e.next=8,Ne(Oe,we.crForecast(o,i));case 8:return a=e.sent,e.next=11,De(h.requestedOk(a));case 11:e.next=15;break;case 13:return e.next=15,De(I.showModal("SETTINGS"));case 15:e.next=21;break;case 17:return e.prev=17,e.t1=e.catch(0),e.next=21,De(I.showModal("ERROR",{errMsg:e.t1.message}));case 21:case"end":return e.stop()}}),e,null,[[0,17]])})),Re=ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(u,Le);case 2:case"end":return e.stop()}}),e)})),Ie=p.effects.takeEvery,Me=p.effects.call,Pe=p.effects.put,Be=p.effects.select,Ge=ie.a.mark((function e(t){var n,r,o;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Be();case 3:if(n=e.sent,r=t.id,le(n,r)){e.next=13;break}return e.next=8,Me(Oe,we.crForecastById(r));case 8:return o=e.sent,e.next=11,Pe(g.requestedOk(o,r));case 11:e.next=15;break;case 13:return e.next=15,Pe(g.requestedInCache(r));case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),e.next=21,Pe(I.showModal("ERROR",{errMsg:e.t0.message}));case 21:case"end":return e.stop()}}),e,null,[[0,17]])})),Ue=ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(f,Ge);case 2:case"end":return e.stop()}}),e)})),Ke=p.effects.takeEvery,We=p.effects.select,He=p.effects.call,Fe=p.effects.put,Ye=ie.a.mark((function e(t){var n,r,o,i;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We();case 3:if(n=e.sent,r=ce(n),o=de(n),!r||o===r){e.next=14;break}return e.next=9,He(Oe,we.crHourlyById(r));case 9:return i=e.sent,e.next=12,Fe(S.requestedOk(i,r));case 12:e.next=16;break;case 14:return e.next=16,Fe(S.requestedInCache(r));case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(0),e.next=22,Fe(I.showModal("ERROR",{errMsg:e.t0.message}));case 22:case"end":return e.stop()}}),e,null,[[0,18]])})),Ve=ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(_,Ye);case 2:case"end":return e.stop()}}),e)})),je=p.effects.takeEvery,ze=p.effects.select,qe=p.effects.call,Xe=p.effects.put,Qe=ie.a.mark((function e(t){var n,r,o,i,a;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ze();case 3:if(n=e.sent,r=ce(n),o=he(n),!r||o===r){e.next=15;break}return i=ue(n,r),e.next=10,qe(Oe,we.crUV(i.lat,i.lon));case 10:return a=e.sent,e.next=13,Xe(A.requestedOk(a,r));case 13:e.next=17;break;case 15:return e.next=17,Xe(A.requestedInCache());case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(0),e.next=23,Xe(I.showModal("ERROR",{errMsg:e.t0.message}));case 23:case"end":return e.stop()}}),e,null,[[0,19]])})),Ze=ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(w,Qe);case 2:case"end":return e.stop()}}),e)})),Je=p.effects.throttle,$e=p.effects.call,et=p.effects.put,tt=ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e(we.setApiKey,t.apiKey);case 2:return e.next=4,et(Q.setApiKey());case 4:case"end":return e.stop()}}),e)})),nt=ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je(500,z,tt);case 2:case"end":return e.stop()}}),e)})),rt=p.effects.all,ot=ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt([Re(),Ue(),Ve(),Ze(),nt()]);case 2:case"end":return e.stop()}}),e)})),it=Object(p.default)(ot),at=function(){var e=[it],t=c.compose,n=Object(c.createStore)(re,t(c.applyMiddleware.apply(void 0,e)));return it.run(ot),n},st=n(1),lt=n.n(st),ct=a.a||window.React,pt=ct.createContext(),ut={},dt={BG:"grey",BG_MARK:"#646464",BG_DIALOG:"#4d4d4d"},mt={BG:"#e8e0cb",BG_MARK:"grey",BG_DIALOG:"#e8e0cb"},ht={BG:"white",BG_MARK:"grey",BG_DIALOG:"white"},ft="GREY",yt="SAND",vt="WHITE",Et={BG:{},BG_MARK:{},DIALOG:{},LABEL:{color:"#795548"},DAY:{color:"#8bc34a"},TEMP_DAY:{color:"#ff9800"},TEMP_NIGHT:{color:"#434348"}},gt=[function(e){e.BG.backgroundColor=ut.BG},function(e){e.BG_MARK.backgroundColor=ut.BG_MARK},function(e){e.DIALOG.backgroundColor=ut.BG_DIALOG}],_t=function(e){gt.forEach((function(t){return t(e)}))},Ct=function(){[].concat(document.querySelectorAll(".leaflet-popup-content-wrapper")).forEach((function(e){e&&e.style&&(e.style.backgroundColor=ut.BG)}))},bt=((o={})["GREY"]=function(){Object.assign(ut,dt),_t(Et),Ct()},o[yt]=function(){Object.assign(ut,mt),_t(Et),Ct()},o[vt]=function(){Object.assign(ut,ht),_t(Et),Ct()},o),xt={themeName:ft,_init:function(){this.setThemeName(ft)},getThemeName:function(){return this.themeName},setThemeName:function(e){this.themeName=e,bt[e]()},createStyle:function(e){return this.themeName!==e._themeName&&(e._style=e._createStyle(Et,this.themeName),e._themeName=this.themeName),e._style}};xt._init();var St=xt,wt={backgroundColor:"#787878",border:"1px solid #999",borderRadius:"12px",boxShadow:"rgba(0, 0, 0, 0.2) 0px 0px 0px 12px"},kt=ct.Component,Tt=function(e){return function(t){function n(){return t.apply(this,arguments)||this}return lt()(n,t),n.prototype.render=function(){var t=this;return ct.createElement(pt.Consumer,null,(function(n){return ct.createElement(e,D()({},t.props,{theme:n}))}))},n}(kt)},Ot={_themeName:void 0,_style:void 0,_createStyle:function(e){return{R_DIALOG:D()({},e.DIALOG)}}},At={SVG:{padding:"3px"}},Nt=function(e){var t=e.style,n=e.onClose;return ct.createElement("div",{className:"svg-close",style:t,onClick:n},ct.createElement("svg",{viewBox:"0 0 12 12",width:"100%",height:"100%",style:At.SVG,preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"},ct.createElement("path",{d:"M 0,0 L 12,12",strokeWidth:"2",stroke:"#ED5813",strokeLinecap:"round"}),ct.createElement("path",{d:"M 12,0 L 0,12",strokeWidth:"2",stroke:"#ED5813",strokeLinecap:"round"})))},Dt="bt-raised",Lt="bt-raised__div",Rt="bt-raised__span",It={PRIMARY_SPAN:{color:"greenyellow"}},Mt=function(e){var t=e.rootStyle,n=e.clDiv,r=void 0===n?Lt:n,o=e.caption,i=e.isPrimary,a=e.onClick,s=i?It.PRIMARY_SPAN:void 0;return ct.createElement("button",{tabIndex:0,className:Dt,style:t,onClick:a},ct.createElement("div",{className:r},ct.createElement("span",{className:Rt,style:s},o)))},Pt=ct.Component,Bt="show-popup",Gt="hide-popup",Ut={SHOW:{display:"block"},HIDE:{display:"none"},HIDE_POPUP:{opacity:0,transform:"scaleY(0)"},ROOT_DIV:{position:"absolute",top:"15%",left:"40%",display:"block",backgroundColor:"#4D4D4D",border:"solid 2px #3f5178",borderRadius:"5px",boxShadow:"rgba(0, 0, 0, 0.2) 0px 0px 0px 6px",zIndex:10},CAPTON_DIV:{padding:"5px",color:"#9e9e9e",backgroundColor:"#3f5178",textAlign:"center",fontSize:"18px"},COMMAND_DIV:{cursor:"default",float:"right",marginTop:"8px",marginBottom:"10px",marginRight:"4px"}},Kt=function(e){function t(t){var n;return(n=e.call(this)||this)._renderCommandButton=function(){var e=n.props,t=e.commandButtons,r=e.commandStyle,o=e.withoutClose,i=e.onClose;return ct.createElement("div",{style:D()({},Ut.COMMAND_DIV,{},r)},t,!o&&ct.createElement(Mt,{isPrimary:!0,caption:"Close",onClick:i}))},n.wasClosing=!1,n}lt()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return e===this.props||!e.isNotUpdate},n.componentDidUpdate=function(e,t){var n=this;this.wasClosing&&setTimeout((function(){n.setState({})}),this.props.timeout)},n._handleClickDialog=function(e){e.stopPropagation()},n.render=function(){var e,t,n=this.props,r=n.isShow,o=n.isWithButton,i=n.style,a=n.caption,s=n.styleCaption,l=n.children,c=n.childrenStyle,p=n.onClose;return this.wasClosing?(t=Ut.HIDE,this.wasClosing=!1):(e=r?Bt:Gt,t=r?Ut.SHOW:Ut.HIDE_POPUP,r||(this.wasClosing=!0)),ct.createElement("div",{className:e,style:D()({},Ut.ROOT_DIV,{},i,{},t),onClick:this._handleClickDialog},ct.createElement("div",{style:Ut.CAPTON_DIV},ct.createElement("span",{style:s},a),ct.createElement(Nt,{onClose:p})),ct.createElement("div",{style:c},l),o&&this._renderCommandButton())},t}(Pt);Kt.defaultProps={isWithButton:!0,isNotUpdate:!1,timeout:450};var Wt=Kt,Ht=n(4),Ft=n.n(Ht),Yt=ct.Component,Vt={UL:{listStyle:"outside none none",marginTop:"5px",marginLeft:"10px",marginRight:"5px",marginBottom:"5px",textAlign:"center"},TABS:{width:"100%",height:"100%"},TAB_SELECTED:{display:"block",width:"100%",height:"100%"},NONE:{display:"none"}},jt=function(e){function t(t){var n;(n=e.call(this)||this)._handlerClickTab=function(e,t){n.setState({selectedTabIndex:e}),"function"==typeof t.props.onClick&&t.props.onClick()},n._renderTabs=function(e){var t=n.state.selectedTabIndex;return e.map((function(e,r){var o=r===t;return ct.cloneElement(e,{key:r,onClick:n._handlerClickTab.bind(Ft()(n),r,e),isSelected:o})}))},n._renderComponents=function(){var e=n.state,t=e.selectedTabIndex;return e.components.map((function(e,n){var r=n===t?Vt.TAB_SELECTED:Vt.NONE;return ct.createElement("div",{style:r,key:"a"+n},e)}))};var r=t.children.map((function(e,t){return ct.cloneElement(e.props.children,{key:"comp"+t})}));return n.state={selectedTabIndex:0,components:r},n}lt()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.width,n=e.height,r=e.tabsStyle,o=e.children;return ct.createElement("div",{style:{width:t,height:n}},ct.createElement("ul",{className:"tabpane__tabs",style:D()({},Vt.UL,{},r)},this._renderTabs(o)),ct.createElement("div",{style:Vt.TABS},this._renderComponents()))},n.getSelectedTabIndex=function(){return this.state.selectedTabIndex},t}(Yt),zt=ct.Component,qt={display:"inline-block",color:"#9E9E9E",paddingLeft:"10px",paddingRight:"10px",paddingTop:"6px",paddingBottom:"6px",fontWeight:"bold",borderBottom:"3px solid #9E9E9E",cursor:"pointer"},Xt={color:"#434348",borderBottom:"3px solid #2F7ED8"},Qt=function(e){function t(){return e.apply(this,arguments)||this}return lt()(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.isSelected,r=e.selectedStyle,o=e.onClick,i=n?D()({},Xt,{},r):null;return ct.createElement("li",{style:D()({},qt,{},i),onClick:o},ct.createElement("span",null,t))},t}(zt),Zt=ct.Component,Jt="m-select",$t="m-select__label",en="m-textfield-input__div",tn="m-textfield-input",nn="m-input__line",rn="m-input__msg-err",on={LABEL_TO_INPUT:{transform:"scale(1) translate(0px, -6px)"},LABEL_ON_ERROR:{color:"#F44336"},LINE_ERROR:{borderBottom:"2px solid #F44336"}},an=function(e){function t(t){var n;return(n=e.call(this,t)||this)._handleFocusInput=function(){n.isFocus=!0,n.forceUpdate()},n._handleBlurInput=function(){n.isFocus=!1,n.forceUpdate()},n._clearAttrValue=function(){n._clearId=setTimeout((function(){var e=n._input;e&&e.hasAttribute("value")&&e.removeAttribute("value")}))},n._hInputChange=function(e){n.setState({value:e.target.value.trim(),isPassTest:n.props.onTest(e.target.value.trim())})},n._hKeyDown=function(e){46===e.keyCode?n.setState({value:""}):13===e.keyCode&&(e.preventDefault(),n.props.onEnter(e.target.value),n._wasEnter=!0,n.forceUpdate(n._clearWasEnter))},n._hMaskInputChange=function(e){var t=e.target.value;n._value=function(e,t){var n;if(e){var r=e.length,o=t.length;n=o>r?e+t.substr(r):e.substr(0,o)}else n=t;return n.trim()}(n._value,t);var r=function(e){void 0===e&&(e=0);for(var t=0,n="";t<e;t++)n+="X";return n}(n._value.length);n.setState({value:r,isPassTest:n.props.onTest(n._value)})},n._hMaskKeyDown=function(e){46===e.keyCode||27===e.keyCode?(n._value="",n.setState({value:""})):13===e.keyCode&&n.props.onEnter(e.target.value)},n._isValue=function(e){return e?!!n._input&&!!n._input.value:!!n.state.value},n._refInput=function(e){return n._input=e},n.isFocus=!1,n._id=t.name+"_sf",n.state={value:"",isPassTest:!0},n}lt()(t,e);var n=t.prototype;return n.componentWillUnmound=function(){clearTimeout(this._clearId)},n.render=function(){var e=this.props,t=e.rootStyle,n=e.caption,r=e.isAllowRemember,o=e.name,i=e.maxLength,a=e.errorMsg,s=void 0===a?"":a,l=this.state,c=l.value,p=l.isPassTest,u=this._isValue(r)||this.isFocus?void 0:on.LABEL_TO_INPUT,d=p?void 0:on.LABEL_ON_ERROR,m=p?void 0:on.LINE_ERROR,h=r?{autoComplete:"current-password",value:c,onChange:this._hInputChange,onKeyDown:this._hKeyDown}:{autoComplete:"off",value:c,onChange:this._hMaskInputChange,onKeyDown:this._hMaskKeyDown};return ct.createElement("form",{className:Jt,style:t},ct.createElement("label",{className:$t,style:D()({},u,{},d),htmlFor:this._id},n),ct.createElement("div",{className:en},ct.createElement("input",{hidden:!0,autoComplete:"username",value:o,readOnly:!0}),ct.createElement("input",D()({ref:this._refInput,id:this._id,type:"password",className:tn,maxLength:i,onFocus:this._handleFocusInput,onBlur:this._handleBlurInput},h)),ct.createElement("div",{className:nn,style:m}),m&&ct.createElement("div",{className:rn},s)))},n.componentDidUpdate=function(e){this.props!==e&&this.props.isAllowRemember!==e.isAllowRemember&&(this._input.value="",this.props.isAllowRemember&&(this._value="",this.setState({value:""}))),this._clearAttrValue()},n.getValue=function(){return this.props.isAllowRemember&&this._input?this._input.value:String(this._value).trim()},t}(Zt);an.defaultProps={name:"pwd",maxLength:"32",onTest:function(){return!0},inEnter:function(){}};var sn=an,ln={YELLOW:"#f1d600",BROWN:"#795548",GREY:"#777777",BLANK:"rgba(0, 0, 0, 0)"},cn=ct.Component,pn={DIV:{display:"inline-block",width:"16px",height:"16px",cursor:"pointer"},SVG:{display:"inline-block"}},un=ct.createElement("path",{d:"M 2,3 L 8,14 14,3",strokeWidth:"2",stroke:ln.YELLOW,fill:ln.BLANK}),dn=function(e){return"function"==typeof e},mn=function(e){function t(t){var n;(n=e.call(this)||this)._hClick=function(){var e=Ft()(n),t=e._isOnCheck,r=e._isOnUnCheck,o=e.state,i=e.props,a=i.onCheck,s=i.onUnCheck,l=o.isChecked;!l&&t?a(Ft()(n)):r&&s(Ft()(n)),n.setState({isChecked:!l})},n.setUnchecked=function(){n.setState({isChecked:!1})};var r=t.value,o=t.onCheck,i=t.onUnCheck;return n._isOnCheck=dn(o),n._isOnUnCheck=dn(i),n.state={isChecked:!!r},n}lt()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){this.props!==e&&void 0!==e.value&&this.setState({isChecked:!!e.value})},n.render=function(){var e=this.props.rootStyle,t=this.state.isChecked?un:null;return ct.createElement("div",{style:D()({},pn.DIV,{},e),onClick:this._hClick},ct.createElement("svg",{viewBox:"0 0 16 16",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:pn.SVG},ct.createElement("rect",{x:"1",y:"1",height:"14",width:"14",strokeWidth:"2",rx:"3",stroke:ln.GREY,fill:ln.BLANK}),t))},t}(cn),hn=ct.Component,fn={ROOT:{paddingTop:"6px",paddingLeft:"16px"},CAPTION:{display:"inline-block",color:"grey",paddingLeft:"12px",fontSize:"16px",fontWeight:"bold",userSelect:"none",cursor:"pointer"},CHECKED:{color:"black"}},yn=function(e){function t(t){var n;return(n=e.call(this)||this)._handleCheck=function(){var e=n.props.onCheck;"function"==typeof e&&e(),n.setState({isChecked:!0})},n._handleUnCheck=function(){var e=n.props.onUnCheck;"function"==typeof e&&e(),n.setState({isChecked:!1})},n._handleToggle=function(){n.state.isChecked?n._handleUnCheck():n._handleCheck()},n.state={isChecked:!!t.initValue},n}return lt()(t,e),t.prototype.render=function(){var e=this.props,t=e.rootStyle,n=e.caption,r=e.captionStyle,o=this.state.isChecked,i=o?fn.CHECKED:null;return ct.createElement("div",{style:D()({},fn.ROOT,{},t)},ct.createElement(mn,{value:o,onCheck:this._handleCheck,onUnCheck:this._handleUnCheck}),n&&ct.createElement("span",{style:D()({},fn.CAPTION,{},r,{},i),onClick:this._handleToggle},n))},t}(hn),vn=ct.Component,En={ROOT:{position:"relative",height:"200px"},SECRET:{width:"280px"},CHECK_BOX:{paddingLeft:"24px",paddingTop:"16px",paddingRight:"24px"},CHECK_CAPTION:{display:"inline"},BUTTONS:{position:"absolute",right:"4px",bottom:0,cursor:"default"}},gn=function(e){function t(t){var n;return(n=e.call(this,t)||this)._checkAllow=function(){n.setState({isAllow:!0})},n._uncheckAllow=function(){n.setState({isAllow:!1})},n._refInput=function(e){return n._input=e},n.state={isAllow:!1},n}lt()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.style,n=e.buttonsStyle,r=e.onClose,o=e.onSet,i=this.state.isAllow;return ct.createElement("div",{style:t},ct.createElement(sn,{ref:this._refInput,rootStyle:En.SECRET,caption:"OpenWeatherMap API Key",isAllowRemember:i,name:"openweathermap"}),ct.createElement(yn,{rootStyle:En.CHECK_BOX,initValue:!1,caption:"Allow Remember Enter of API Key by Browser Password Manager",captionStyle:En.CHECK_CAPTION,onCheck:this._checkAllow,onUnCheck:this._uncheckAllow}),ct.createElement("div",{style:n},ct.createElement(Mt,{caption:"Set & Close",onClick:o}),ct.createElement(Mt,{isPrimary:!0,caption:"Close",onClick:r})))},n.getValue=function(){return this._input.getValue()},t}(vn),_n={SVG:{display:"inline-block",color:"black",fill:"black",height:"24px",width:"24px",userSelect:"none",transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms"}},Cn=function(){return ct.createElement("svg",{viewBox:"0 0 24 24",style:_n.ROOT},ct.createElement("path",{d:"M7 10l5 5 5-5z"}))},bn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._handleClickOutside=function(e){var n=t.props.onClose;t.rootNode.contains(e.target)||n(e)},t}lt()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){this.props!==e&&(e.isShow?document.addEventListener("click",this._handleClickOutside,!0):document.removeEventListener("click",this._handleClickOutside,!0))},n.render=function(){var e=this,t=this.props,n=t.style,r=t.children;return ct.createElement("div",{style:n,ref:function(t){return e.rootNode=t}},r)},t}(ct.Component);bn.defaultProps={onClose:function(){}};var xn=bn,Sn={SHOW:{display:"block"},HIDE:{display:"none"}},wn=function(e){var t=e.isShow,n=e.className,r=e.style,o=e.children,i=t?Sn.SHOW:Sn.HIDE,a=t?"show-popup":"",s=n?n+" "+a:""!==a?a:void 0;return ct.createElement("div",{className:s,style:Object.assign({},r,i)},o)},kn={PANE:{position:"absolute",top:"12px",zIndex:"20",width:"100%",paddingTop:"12px",paddingBottom:"12px",backgroundColor:"rgb(77, 77, 77)",borderRadius:"2px",boxShadow:"rgba(0, 0, 0, 0.3) 0px 2px 2px 0px, rgba(0, 0, 0, 0.1) 0px 0px 0px 1px"},ITEM:{color:"greenyellow"}},Tn=function(e){var t=e.isShow,n=e.options,r=e.item,o=e.rootStyle,i=e.clItem,a=e.onSelect,s=e.onClose;return ct.createElement(xn,{style:o,isShow:t,onClose:s},ct.createElement(wn,{isShow:t,style:D()({},kn.PANE,{},o)},function(e,t,n,r,o){return e.map((function(e){var o=e.value===t.value?kn.ITEM:void 0;return ct.createElement("div",{style:o,className:n,onClick:r.bind(null,e)},e.caption)}))}(n,r,i,a)))},On=ct.Component,An="m-select",Nn="m-select__label",Dn="m-select__div",Ln="m-select__div__value",Rn="m-select__div__bt",In="m-select__line",Mn="m-select__item",Pn=function(e){function t(t){var n;return(n=e.call(this)||this)._handleOpen=function(){n.setState({isShow:!0})},n._handleClose=function(){n.setState({isShow:!1})},n._handleSelect=function(e,t){t.stopPropagation(),n.props.onSelect(e),n.setState({isShow:!1,item:e})},n.state={isShow:!1,item:t.initItem},n}return lt()(t,e),t.prototype.render=function(){var e=this.props,t=e.caption,n=e.options,r=e.styleConfig,o=void 0===r?{}:r,i=e.selectedItem,a=this.state,s=a.isShow,l=a.item,c=i||l;return ct.createElement("div",{className:An,style:o.ROOT,onClick:this._handleOpen},ct.createElement(Tn,{rootStyle:o.MODAL_PANE,isShow:s,item:c,options:n,clItem:o.CL_ITEM||Mn,onSelect:this._handleSelect,onClose:this._handleClose}),ct.createElement("label",{className:Nn},t),ct.createElement("div",{className:Dn},ct.createElement("div",{className:Ln},c.caption),ct.createElement("button",{className:Rn,tabIndex:"0"},ct.createElement("div",null,ct.createElement(Cn,null))),ct.createElement("div",{className:In})))},t}(On);Pn.defaultProps={initItem:{caption:"",value:""}};var Bn=Pn,Gn=ct.Component,Un={SELECT:{ROOT:{width:"280px"}}},Kn={caption:"Grey",value:"GREY"},Wn=[{caption:"Grey",value:"GREY"},{caption:"Sand",value:"SAND"},{caption:"White",value:"WHITE"}],Hn=function(e){function t(){return e.apply(this,arguments)||this}return lt()(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.buttonsStyle,r=e.onSetTheme,o=e.onClose;return ct.createElement("div",{style:t},ct.createElement(Bn,{styleConfig:Un.SELECT,caption:"Theme (Default: Grey)",initItem:Kn,options:Wn,onSelect:r}),ct.createElement("div",{style:n},ct.createElement(Mt,{isPrimary:!0,caption:"Close",onClick:o})))},t}(Gn),Fn=ct.Component,Yn={MODAL:{position:"static",width:"342px",height:"285px",margin:"70px auto 0px"},TABS:{textAlign:"left",marginLeft:"24px"},TAB_SELECTED:{color:"black"},CARD_ROOT:{position:"relative",height:"200px"},CARD_BUTTONS:{position:"absolute",right:"4px",bottom:0,cursor:"default"}},Vn=Tt(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._isNextPropIsShowSame=function(e){return e!==t.props&&e.isShow===t.props.isShow},t._handleSet=function(){var e=t.props,n=e.data,r=e.onClose;(0,n.onSet)(t.inputApiKey.getValue()),r()},t._handleSetTheme=function(e){var n=t.props,r=n.theme,o=n.data.onSetTheme,i=r.themeName;o(r,e.value),i!==e.value&&t.forceUpdate()},t._refInput=function(e){return t.inputApiKey=e},t}lt()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return!this._isNextPropIsShowSame(e)},n.render=function(){var e=this.props,t=e.theme,n=e.isShow,r=e.onClose,o=t.createStyle(Ot);return ct.createElement(Wt,{style:D()({},Yn.MODAL,{},o.R_DIALOG),caption:"User Settings",isShow:n,isWithButton:!1,onClose:r},ct.createElement(jt,{width:"100%",tabsStyle:Yn.TABS},ct.createElement(Qt,{title:"API Key",selectedStyle:Yn.TAB_SELECTED},ct.createElement(gn,{ref:this._refInput,style:Yn.CARD_ROOT,buttonsStyle:Yn.CARD_BUTTONS,onSet:this._handleSet,onClose:r})),ct.createElement(Qt,{title:"UI Theme",selectedStyle:Yn.TAB_SELECTED},ct.createElement(Hn,{style:Yn.CARD_ROOT,buttonsStyle:Yn.CARD_BUTTONS,onSetTheme:this._handleSetTheme,onClose:r}))))},t}(Fn)),jn=ct.Component,zn={MODAL:{position:"static",width:"335px",height:"285px",margin:"70px auto 0px"},MSG:{height:"200px",lineHeight:1.2,padding:"16px",fontWeight:600}},qn={SETTINGS:Vn,ERROR:Tt(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._isNextPropIsShowSame=function(e){return e!==t.props&&e.isShow===t.props.isShow},t}lt()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return!this._isNextPropIsShowSame(e)},n.render=function(){var e=this.props,t=e.theme,n=e.isShow,r=e.store,o=e.onClose,i=t.createStyle(Ot),a=ve(r.getState());return ct.createElement(Wt,{style:D()({},zn.MODAL,{},i.R_DIALOG),caption:"Error Description",isShow:n,onClose:o},ct.createElement("div",{style:zn.MSG},a))},t}(jn))},Xn={getData:function(e,t){switch(t){case"SETTINGS":return{onSet:function(t){e.dispatch(X(t))},onSetTheme:function(t,n){t.setThemeName(n),e.dispatch(H(n))},onBeforeClose:function(){e.dispatch(W("isSettings"))}};default:return}}},Qn=ct.Component,Zn="modal-root",Jn="modal-root show-modal",$n="modal-root hide-modal",er={SHOW:{display:"block"},HIDE:{display:"none"},HIDE_BACKGROUND:{backgroundColor:"rgba(0,0,0, 0)"}},tr=function(e){function t(t){var n;return(n=e.call(this)||this).wasClosing=!0,n}lt()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){var n=this;this.wasClosing&&setTimeout((function(){n.setState({})}),this.props.timeout)},n.render=function(){var e,t,n=this.props,r=n.isShow,o=n.children,i=n.onClose;return this.wasClosing?(e=Zn,t=er.HIDE,this.wasClosing=!1):(e=r?Jn:$n,t=r?er.SHOW:er.HIDE_BACKGROUND,r||(this.wasClosing=!0)),ct.createElement("div",{className:e,style:t,onClick:i},o)},t}(Qn);tr.defaultProps={timeout:450};var nr=tr,rr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isShow:!1,inits:{},shows:{},data:{},dialogs:[],currentDialog:null},t._onStore=function(){var e=t.props.store,n=e.getState().modal,r=n.id;if(r&&t.modal!==n){t.modal=n;var o=t.state,i=o.inits,a=o.shows,s=o.data,l=o.dialogs;i[r]?(a[r]=!0,t.setState({isShow:!0,currentDialog:r,shows:a,data:s})):(l.push({type:r,comp:qn[r]}),s[r]=Xn.getData(e,r),i[r]=!0,a[r]=!0,t.setState({isShow:!0,currentDialog:r,shows:a,data:s,dialogs:l}))}},t._handleClose=function(e){var n=(t.state.data[e]||{}).onBeforeClose;"function"==typeof n&&n(),t.setState((function(t){return t.shows[e]=!1,{isShow:!1,currentDialog:null,shows:t.shows}}))},t._renderDialogs=function(){var e=t.props.store,n=t.state,r=n.shows,o=n.data;return n.dialogs.map((function(n){var i=n.type,a=n.comp;return ct.createElement(a,{key:i,isShow:r[i],data:o[i],store:e,onClose:t._handleClose.bind(null,i)})}))},t}lt()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unsubscribe=this.props.store.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.state,t=e.isShow,n=e.currentDialog;return ct.createElement(nr,{isShow:t,onClose:this._handleClose.bind(null,n)},this._renderDialogs())},t}(ct.Component),or=ct.Component,ir="width 500ms ease-out",ar="opacity 400ms linear",sr=function(e){function t(t){var n;return(n=e.call(this)||this).wasCompleted=!1,n.idCompleted=null,n.wasOpacied=!1,n.idOpacied=null,n}lt()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.idCompleted&&clearTimeout(this.idCompleted),this.idOpacied&&clearTimeout(this.idOpacied)},n.componentDidUpdate=function(){var e=this;this.wasCompleted?this.idCompleted=setTimeout((function(){e.idCompleted=null,e.forceUpdate()}),800):this.wasOpacied&&(this.idOpacied=setTimeout((function(){e.idOpacied=null,e.forceUpdate()}),800))},n.render=function(){var e,t=this.props,n=t.color,r=t.height;if(this.wasOpacied)e={backgroundColor:n,width:0,opacity:1,height:r},this.wasOpacied=!1;else if(this.wasCompleted)e={backgroundColor:n,width:"100%",opacity:0,transition:ar,height:r},this.wasCompleted=!1,this.wasOpacied=!0;else{var o=this.props.completed;o<0?o=0:o>=100&&(o=100,this.wasCompleted=!0),e={backgroundColor:n,opacity:1,width:o+"%",transition:ir,height:r}}return ct.createElement("div",{className:"progress-line",style:e})},t}(or);sr.defaultProps={color:"#2F7ED8",height:3};var lr=sr,cr="#2F7ED8",pr="rgb(237, 88, 19)",ur=function(e){function t(t){var n;return(n=e.call(this)||this)._onStore=function(){var e=n.props.store.getState().fetching;if(n.fetching!==e)switch(n.fetching=e,e){case M:n.setState({completed:35,color:cr});break;case P:n.setState({completed:100,color:cr});break;case B:n.setState({completed:100,color:pr})}},n.fetching=t.store.getState().fetching,n.state={completed:0,color:cr},n}lt()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unsubscribe=this.props.store.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.state,t=e.completed,n=e.color;return ct.createElement(lr,{height:3,color:n,completed:t})},t}(ct.Component),dr=ct.Component,mr={HAMBURGER:{width:"2.2rem",height:"2.2rem",verticalAlign:"middle",marginBottom:"0.5rem",marginLeft:"0.8rem",borderRadius:"0.4rem"}},hr=function(e){function t(t){var n;(n=e.call(this,t)||this)._onStore=function(){var e=n.props,t=e.store,r=e.storeKey;t.getState().layout[r]!==n.state.isOpen&&n.setState((function(e){return{isOpen:!e.isOpen}}))},n.handleClick=function(){var e=n.props,t=e.onClick,r=e.store,o=e.storeKey;r.dispatch(t(o))};var r=t.store.getState();return n.state={isOpen:r.layout[t.storeKey]},n}lt()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unsubscribe=this.props.store.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.state.isOpen?"bt-hamburger opened":"bt-hamburger";return ct.createElement("button",{className:e,style:mr.HAMBURGER,onClick:this.handleClick},ct.createElement("span",null))},t}(dr),fr=ct.Component,yr={display:"inline-block",color:"#80c040",border:"2px solid #80c040",borderRadius:"50%",width:"22px",height:"22px",textAlign:"center",fontWeight:"bold",cursor:"pointer"},vr={color:"#5b5b5b"},Er=function(e){var t=e.store,n=e.storeKey;return t.getState().layout[n]},gr=function(e){function t(t){var n;return(n=e.call(this)||this)._onStore=function(){var e=Er(n.props);e!==n.state.isActive&&n.setState({isActive:e})},n._hClick=function(){var e=n.props,t=e.storeKey;(0,e.onClick)(t)},n.state={isActive:Er(t)},n}lt()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unsubscribe=this.props.store.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.props,t=e.caption,n=e.title,r=e.style,o=this.state.isActive?D()({},yr,{},r):D()({},yr,{},r,{},vr);return ct.createElement("span",{className:"not-selected",style:o,title:n,onClick:this._hClick},t)},t}(fr),_r={LINK:{color:"#ff9800"}},Cr=function(e){var t=e.className,n=e.style,r=e.prefixCL,o=e.prefix,i=void 0===o?"Powered By ":o;return ct.createElement("div",{className:t,style:n},ct.createElement("span",{className:r},i),ct.createElement("a",{className:"data-provider-link",style:_r.LINK,href:"https://openweathermap.org/"},"OpenWeatherMap"))},br=function(e){var t=e.className,n=e.title,r=e.href;return ct.createElement("a",{className:t,title:n,href:r,tabIndex:"-1"},ct.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"1.414"},ct.createElement("title",null,"GitHub Logo"),ct.createElement("path",{d:"M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.437 1.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8"})))},xr={_themeName:void 0,_style:void 0,_createStyle:function(e){return{HEADER:D()({},e.BG)}}},Sr=ct.Component,wr="header__title",kr="header__link-pref",Tr="header__link-provider",Or="header__github-link",Ar={BT_CIRCLE:{width:"1.8rem",height:"1.8rem",lineHeight:"1rem",marginLeft:"1rem",paddingTop:"0.3rem"}},Nr=Tt(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._hForecast=function(e){(0,t.props.store.dispatch)(W(e))},t._hSettings=function(e){var n=t.props.store.dispatch;n(W(e)),n(R("SETTINGS"))},t}return lt()(t,e),t.prototype.render=function(){var e=this.props,t=e.rootStyle,n=e.store,r=e.theme.createStyle(xr);return ct.createElement("header",{role:"banner",style:D()({},t,{},r.HEADER)},ct.createElement(ur,{store:n}),ct.createElement(hr,{store:n,storeKey:"isPushMenu",onClick:W}),ct.createElement("span",{className:wr},"Weather v0.2.0"),ct.createElement(gr,{style:Ar.BT_CIRCLE,caption:"F",title:"Toggle Forecast Popup",store:n,storeKey:"isPopupForecast",onClick:this._hForecast}),ct.createElement(gr,{style:Ar.BT_CIRCLE,caption:"S",title:"Open Settings Dialog",store:n,storeKey:"isSettings",onClick:this._hSettings}),ct.createElement(Cr,{className:Tr,prefixCL:kr}),ct.createElement(br,{className:Or,title:"GitHub Repository",href:"https://github.com/zhnzhn/weather-forecast"}))},t}(Sr)),Dr=ct.Component,Lr="show-popup",Rr="not-selected",Ir={OPEN_COLOR:ln.YELLOW,CLOSE_COLOR:ln.BLANK},Mr={ROOT_DIV:{lineHeight:2},ROOT_SVG:{display:"inline-block",width:"16px",height:"16px",marginLeft:"8px"},CAPTION:{color:ln.SIREN,paddingLeft:"4px",verticalAlign:"top",fontFamily:"Roboto, Arial Unicode MS, Arial, sans-serif",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},CURSOR:{cursor:"pointer"},INLINE_BLOCK:{display:"inline-block"},BLOCK:{display:"block"},NONE:{display:"none"}},Pr=function(e){function t(t){var n;(n=e.call(this)||this)._handleClick=function(){n.setState((function(e){return{isOpen:!e.isOpen}}))};var r=t.isClose;return n.state={isOpen:!r},n}return lt()(t,e),t.prototype.render=function(){var e,t,n,r,o=this.props,i=o.rootStyle,a=o.caption,s=o.openColor,l=o.closeColor,c=o.CompAfter,p=o.isClickableCompAfter,u=o.childStyle,d=o.children;return this.state.isOpen?(e="M 2,14 L 14,14 14,2 2,14",t=s,n=Mr.BLOCK,r=Lr):(e="M 2,2 L 14,8 2,14 2,2",t=l,n=Mr.NONE,r=null),ct.createElement("div",{style:D()({},Mr.ROOT_DIV,{},i)},ct.createElement("div",{className:Rr},ct.createElement("div",{style:D()({},Mr.INLINE_BLOCK,{},Mr.CURSOR),onClick:this._handleClick},ct.createElement("div",{style:Mr.ROOT_SVG},ct.createElement("svg",{viewBox:"0 0 16 16",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:Mr.INLINE_BLOCK},ct.createElement("path",{d:e,fill:t,strokeWidth:"1",stroke:s}))),ct.createElement("span",{style:Mr.CAPTION},a),c&&p&&c),!p&&c),ct.createElement("div",{className:r,style:D()({},u,{},n)},d))},t}(Dr);Pr.defaultProps={openColor:Ir.OPEN_COLOR,closeColor:Ir.CLOSE_COLOR};var Br=Pr,Gr={display:"inline",width:"100%",color:"#795548",paddingLeft:"8px",fontSize:"24px",fontWeight:"bold",borderBottom:"3px solid #795548",marginBottom:"8px"},Ur=function(e){var t=e.forecast,n=void 0===t?{}:t,r=e.style,o=n.city,i=void 0===o?{}:o,a=i.name,s=void 0===a?"Forecast":a,l=i.country,c=void 0===l?"":l;return ct.createElement("div",{style:Object.assign({},Gr,r)},ct.createElement("span",null,s),ct.createElement("span",null,":"),ct.createElement("span",null,c))},Kr=["SU","MO","TU","WE","TH","FR","SA"],Wr=["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"],Hr=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],Fr={toMonthDay:function(e){var t=new Date(1e3*e);return("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)},toTime:function(e){var t=new Date(1e3*e),n=t.getHours(),r=n,o="AM";return n>12?(r=n-12,o="PM"):12===n?(r=12,o="PM"):0===n&&(r=12),r+":"+("0"+t.getMinutes()).slice(-2)+" "+o},toMonthDayTime:function(e){return Fr.toMonthDay(e)+" "+Fr.toTime(e)},toShortDayOfWeek:function(e){var t=new Date(1e3*e);return("0"+t.getDate()).slice(-2)+" "+Kr[t.getDay()]},toDayOfWeek:function(e){var t=new Date(1e3*e);return("0"+t.getDate()).slice(-2)+" "+Wr[t.getDay()]},toDayHour:function(e){var t=new Date(1e3*e);return("0"+t.getDate()).slice(-2)+" "+("0"+t.getHours()).slice(-2)},toDirection:function(e){void 0===e&&(e=0);var t=Math.floor(e/22.5+.5);return Hr[t%16]}},Yr=Fr,Vr=function(e){if("number"==typeof e)return{transform:"rotate("+e+"deg)"}},jr=function(e){var t=e.deg;return ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 18",width:"100%",height:"100%",preserveAspectRatio:"none","aria-labelledby":"title",className:"icon__popup__vane",style:Vr(t)},ct.createElement("title",{id:"title"},"Icon Wind Vane"),ct.createElement("path",{d:"M 10,0 L 8,0 8,11 4,11 9,18 14,11 10,11 10,0"}))},zr={ROOT_DIV:{display:"inline-block",paddingLeft:"12px",paddingRight:"12px",borderRadius:"10px",transition:"background-color 0.3s"},DAY:{color:"#8bc34a",fontSize:"24px",fontWeight:"bold",textAlign:"center",borderBottom:"2px solid #8bc34a",marginBottom:"4px"},PRESSURE:{display:"block",color:"#0D2339",textAlign:"center",fontSize:"20px",fontWeight:"bold",marginBottom:"-15px"},ICON:{display:"block",width:"60px",height:"60px",margin:"0 auto"},CELL_WIND:{marginTop:"-10px"},WIND_SPEED:{color:"#3f51b5",fontSize:"20px",fontWeight:"bold"},CELL_TEMP:{paddingTop:"4px",paddingBottom:"4px",textAlign:"center"},TEMP_DAY:{color:"#ff9800",paddingLeft:"4px",fontSize:"20px",fontWeight:"bold"},TEMP_NIGHT:{color:"#434348",paddingLeft:"8px",fontSize:"20px",fontWeight:"bold"}},qr=function(e,t){return void 0===e&&(e={}),Math.round(e[t])},Xr=function(e){var t=e.style,n=e.item,r=void 0===n?{}:n,o=e.onClick,i=r.weather,a=r.deg,s=r.speed,l=r.temp,c=r.dt,p="number"==typeof s?s.toFixed(2):"",u=Yr.toShortDayOfWeek(c),d=qr(r,"pressure"),m=i[0].icon,h=qr(l,"day"),f=qr(l,"night");return ct.createElement("div",{style:D()({},zr.ROOT_DIV,{},t),onClick:o.bind(null,r)},ct.createElement("div",{style:zr.DAY},u),ct.createElement("span",{style:zr.PRESSURE},d),ct.createElement("img",{src:"./img/"+m+".png",style:zr.ICON}),ct.createElement("div",{style:zr.CELL_WIND},ct.createElement(jr,{deg:a}),ct.createElement("span",{style:zr.WIND_SPEED},p)),ct.createElement("div",{style:zr.CELL_TEMP},ct.createElement("span",{style:zr.TEMP_DAY},h),ct.createElement("span",{style:zr.TEMP_NIGHT},f)))};Xr.defaultProps={onClick:function(){}};var Qr=Xr,Zr={ROOT:{cursor:"auto"},OPEN_CLOSE:{lineHeight:1.5}},Jr=function(e){var t=e.dayStyle,n=e.forecast,r=void 0===n?{}:n,o=e.captionStyle,i=e.onClickItem;return ct.createElement("div",{style:Zr.ROOT},ct.createElement(Br,{rootStyle:Zr.OPEN_CLOSE,openColor:ln.BROWN,isClickableCompAfter:!0,CompAfter:ct.createElement(Ur,{style:o,forecast:r})},ct.createElement("div",null,function(e,t,n){var r=t.list;return(void 0===r?[]:r).map((function(t,r){return ct.createElement(Qr,{key:r,style:e,item:t,onClick:n})}))}(t,r,i))))},$r=ct.Component,eo={DAY:{cursor:"pointer"}},to={forecast:{cod:200,list:[]}},no=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state=to,t._onStore=function(){var e=t.props,n=e.store,r=e.onUpdate,o=n.getState(),i=ce(o);i&&t.recent!==i&&(t.recent=i,t.setState({forecast:le(o,i)},r))},t}lt()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.store;this.unsubscribe=e.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.props.onClickItem,t=this.state.forecast;return ct.createElement(Jr,{dayStyle:eo.DAY,forecast:t,onClickItem:e})},t}($r),ro=ct.Component,oo="marker__caption__date",io="marker__description",ao="marker__label",so="marker__v-water",lo="marker__v-pressure",co="marker__v-day",po="marker__v-night",uo={ROOT_DIV:{position:"absolute",top:"190px",left:"200px",padding:"8px 8px",lineHeight:1.5,borderRadius:"4px",boxShadow:"rgba(0, 0, 0, 0.2) 0px 0px 0px 6px",zIndex:1,transition:"left 0.5s ease-in 0s"},BLOCK:{display:"block"},NONE:{display:"none"},BT_CLOSE:{position:"absolute",top:"7px",right:"4px"},DAY:{borderBottom:"2px solid #8bc34a"}},mo=function(e){function t(t){var n;(n=e.call(this,t)||this).setItem=function(e){n.setState({item:e,isOpen:!0})},n.close=function(){n.setState({isOpen:!1})};var r=t.isOpen,o=t.style,i=t.item;return n.state={isOpen:r,style:o,item:i},n}return lt()(t,e),t.prototype.render=function(){var e=this.props.onClose,t=this.state,n=t.isOpen,r=t.style,o=t.item,i=void 0===o?{}:o,a=i.dt,s=i.rain,l=void 0===s?0:s,c=i.snow,p=void 0===c?0:c,u=i.clouds,d=void 0===u?0:u,m=i.humidity,h=void 0===m?"":m,f=i.pressure,y=void 0===f?"":f,v=i.temp,E=void 0===v?{}:v,g=i.weather,_=void 0===g?[]:g,C=E.morn,b=void 0===C?"":C,x=E.day,S=void 0===x?"":x,w=E.max,k=void 0===w?"":w,T=E.eve,O=void 0===T?"":T,A=E.night,N=void 0===A?"":A,L=E.min,R=void 0===L?"":L,I=Yr.toDayOfWeek(a)+" "+Yr.toTime(a),M=_[0]&&_[0].description?_[0].description:"Without description",P=n?uo.BLOCK:uo.NONE;return ct.createElement("div",{style:D()({},wt,{},uo.ROOT_DIV,{},r,{},P)},ct.createElement(Nt,{style:uo.BT_CLOSE,onClose:e}),ct.createElement("div",{className:oo},ct.createElement("span",{style:uo.DAY},I)),ct.createElement("div",null,ct.createElement("span",{className:io},M)),ct.createElement("div",null,ct.createElement("span",{className:ao},"Rain: "),ct.createElement("span",{className:so},l,"mm "),p>.02&&ct.createElement("span",null,ct.createElement("span",{className:ao},"Snow: "),ct.createElement("span",{className:so},p,"mm ")),ct.createElement("span",{className:ao},"Clouds: "),ct.createElement("span",{className:so},d,"% ")),ct.createElement("div",null,ct.createElement("span",{className:ao},"Humidity: "),ct.createElement("span",{className:so},h,"% "),ct.createElement("span",{className:ao},"Pressure: "),ct.createElement("span",{className:lo},y,"hPa ")),ct.createElement("div",null,ct.createElement("span",{className:ao},"Morn: "),ct.createElement("span",{className:co},b," "),ct.createElement("span",{className:ao},"Day: "),ct.createElement("span",{className:co},S," "),ct.createElement("span",{className:ao},"Max: "),ct.createElement("span",{className:co},k," ")),ct.createElement("div",null,ct.createElement("span",{className:ao},"Eve: "),ct.createElement("span",{className:po},O," "),ct.createElement("span",{className:ao},"Night: "),ct.createElement("span",{className:po},N," "),ct.createElement("span",{className:ao},"Min: "),ct.createElement("span",{className:po},R," ")))},t}(ro),ho=window.Recharts||{},fo={CartesianGrid:ho.CartesianGrid,Bar:ho.Bar,Line:ho.Line,YAxis:ho.YAxis,XAxis:ho.XAxis,ResponsiveContainer:ho.ResponsiveContainer,Tooltip:ho.Tooltip,Legend:ho.Legend,ComposedChart:ho.ComposedChart,LineChart:ho.LineChart},yo=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift({}),Object.assign.apply(Object,t)},vo=function(e,t){return e?yo(t,Co.POINTER):yo(t,Co.POINTER,Co.FILTERED)},Eo={},go=function(e,t){return void 0===e&&(e="green"),{stroke:e,fill:t=t||e}},_o=function(e){return void 0===e&&(e="green"),{color:e,fontWeight:"bold"}},Co={ROOT_DIV:D()({},wt,{padding:"8px 8px"}),LABEL:{display:"inline-block",color:Et.LABEL.color,fontWeight:"bold",width:"50px"},DAY:_o(Et.DAY.color),CIRCLE_SPEED:go("#3F51B5","none"),SPEED:_o("#3f51b5"),CIRCLE_RAIN:go("#0922A5"),RECT_RAIN:{stroke:"#0922a5"},RAIN:_o("#0922a5"),CIRCLE_TEMP_MAX:go("#F44336","none"),TEMP_MAX:_o("#F44336"),CIRCLE_TEMP_MIN:go("#03A9F4","none"),TEMP_MIN:_o("#03a9f4"),CIRCLE_TEMP_MORN:go(Et.TEMP_DAY.color,"none"),CIRCLE_TEMP_DAY:go(Et.TEMP_DAY.color),TEMP_DAY:_o(Et.TEMP_DAY.color),CIRCLE_TEMP_EVE:go(Et.TEMP_NIGHT.color,"none"),CIRCLE_TEMP_NIGHT:go(Et.TEMP_NIGHT.color),TEMP_NIGHT:_o(Et.TEMP_NIGHT.color),CIRCLE_PRESSURE:go("#0D2339"),POINTER:{cursor:"pointer",lineHeight:2},FILTERED:{color:"#9e9e9e"},fnLegendLabel:function(e){return void 0!==e?(Eo.tempMorn=vo(e.tempMorn,Co.TEMP_DAY),Eo.tempDay=vo(e.tempDay,Co.TEMP_DAY),Eo.tempEve=vo(e.tempEve,Co.TEMP_NIGHT),Eo.tempNight=vo(e.tempNight,Co.TEMP_NIGHT),Eo.tempMax=vo(e.tempMax,Co.TEMP_MAX),Eo.tempMin=vo(e.tempMin,Co.TEMP_MIN),Eo.rain=vo(e.rain,Co.RAIN),Eo.speed=vo(e.speed,Co.SPEED),yo(Eo)):Eo}},bo=Co,xo=function(e){if(!e.active)return null;var t=e.label,n=e.payload[0].payload;return ct.createElement("div",{style:bo.ROOT_DIV},ct.createElement("div",null,ct.createElement("span",{style:bo.DAY},t)),ct.createElement("div",{style:{paddingTop:"8px"}},ct.createElement("span",{style:bo.LABEL},"Morn:"),ct.createElement("span",{style:bo.TEMP_DAY},n.tempMorn," "),ct.createElement("span",{style:bo.LABEL},"Day:"),ct.createElement("span",{style:bo.TEMP_DAY},n.tempDay," ")),ct.createElement("div",{style:{paddingTop:"8px"}},ct.createElement("span",{style:bo.LABEL},"Eve:"),ct.createElement("span",{style:bo.TEMP_NIGHT},n.tempEve," "),ct.createElement("span",{style:bo.LABEL},"Night:"),ct.createElement("span",{style:bo.TEMP_NIGHT},n.tempNight," ")),ct.createElement("div",{style:{paddingTop:"8px"}},ct.createElement("span",{style:bo.LABEL},"Min:"),ct.createElement("span",{style:bo.TEMP_MIN},n.tempMin," "),ct.createElement("span",{style:bo.LABEL},"Max:"),ct.createElement("span",{style:bo.TEMP_MAX},n.tempMax," ")),ct.createElement("div",{style:{paddingTop:"8px"}},ct.createElement("span",{style:bo.LABEL},"Rain:"),ct.createElement("span",{style:bo.TEMP_MIN},n.rain," "),ct.createElement("span",{style:bo.LABEL},"Speed:"),ct.createElement("span",{style:bo.TEMP_MIN},n.speed," ")))},So={SVG:{position:"relative",top:"4px",display:"inline-block",width:"18px",height:"18px"}},wo=function(e){var t=e.stroke,n=e.fill;return ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"100%",height:"100%",preserveAspectRatio:"none","aria-labelledby":"title",style:So.SVG},ct.createElement("title",{id:"title"},"Circle Marker"),ct.createElement("circle",{r:"6",stroke:t,strokeWidth:"2",fill:n,cx:"9",cy:"9"}))},ko={SVG:{position:"relative",top:"2px",display:"inline-block",width:"18px",height:"18px"}},To=function(e){var t=e.stroke,n=void 0===t?"green":t,r=e.fill;return r||(r=n),ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"100%",height:"100%",preserveAspectRatio:"none","aria-labelledby":"title",style:ko.SVG},ct.createElement("title",{id:"title"},"Rest Marker"),ct.createElement("rect",{x:"3",y:"0",width:"11",height:"18",stroke:n,fill:r}))},Oo={paddingLeft:"4px",paddingRight:"4px"},Ao=function(e){var t=e.style,n=e.onClick,r=e.children,o=e.titleStyle,i=e.title,a=void 0===i?"":i;return ct.createElement("div",{className:"legend-cell",style:D()({},Oo,{},t),onClick:n},r,ct.createElement("span",{style:o},a))},No=ct.Component,Do="tempDay",Lo="tempNight",Ro="tempMorn",Io="tempEve",Mo="tempMax",Po="tempMin",Bo="rain",Go="speed",Uo={ROOT_DIV:{marginLeft:"3rem",marginTop:"1rem"},COL_1:{display:"inline-block",marginRight:"1rem"},COL_2:{display:"inline-block"},COL_3:{display:"inline-block",marginLeft:"1rem"}},Ko=function(e){function t(){return e.apply(this,arguments)||this}lt()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return this.props===e||this.props.styles!==e.styles},n.render=function(){var e=this.props,t=e.styles,n=e.onFilter;return ct.createElement("div",{style:Uo.ROOT_DIV},ct.createElement("div",{style:Uo.COL_1},ct.createElement(Ao,{onClick:n.bind(null,Ro),titleStyle:t.tempMorn,title:"T Morn"},ct.createElement(wo,bo.CIRCLE_TEMP_MORN)),ct.createElement(Ao,{onClick:n.bind(null,Do),titleStyle:t.tempDay,title:"T Day"},ct.createElement(wo,bo.CIRCLE_TEMP_DAY))),ct.createElement("div",{style:Uo.COL_2},ct.createElement(Ao,{onClick:n.bind(null,Io),titleStyle:t.tempEve,title:"T Eve"},ct.createElement(wo,bo.CIRCLE_TEMP_EVE)),ct.createElement(Ao,{onClick:n.bind(null,Lo),titleStyle:t.tempNight,title:"T Night"},ct.createElement(wo,bo.CIRCLE_TEMP_NIGHT))),ct.createElement("div",{style:Uo.COL_3},ct.createElement(Ao,{onClick:n.bind(null,Mo),titleStyle:t.tempMax,title:"T Max"},ct.createElement(wo,bo.CIRCLE_TEMP_MAX)),ct.createElement(Ao,{onClick:n.bind(null,Po),titleStyle:t.tempMin,title:"T Min"},ct.createElement(wo,bo.CIRCLE_TEMP_MIN))),ct.createElement("div",{style:Uo.COL_3},ct.createElement(Ao,{onClick:n.bind(null,Bo),titleStyle:t.rain,title:"Rain"},ct.createElement(To,bo.RECT_RAIN)),ct.createElement(Ao,{onClick:n.bind(null,Go),titleStyle:t.speed,title:"Speed"},ct.createElement(wo,bo.CIRCLE_SPEED))))},t}(No),Wo=function(e){var t=e.stroke,n=e.fill,r=e.dash;return n||(n=t),{type:"monotone",stroke:t,strokeWidth:2,strokeDasharray:void 0===r?null:r,dot:{r:6,strokeWidth:2,strokeDasharray:null,stroke:t,fill:n},activeDot:{r:10,strokeWidth:2,strokeDasharray:null,stroke:t,fill:n}}},Ho=function(e){return{axisLine:{stroke:e},tickLine:{stroke:e},tick:{stroke:e,fill:e}}},Fo={ComposedChart:{margin:{top:20,right:-10,bottom:30,left:-20}},HourlyChart:{margin:{top:20,right:10,bottom:30,left:20}},XAxis:{tickSize:16,tick:{stroke:Et.DAY.color,fill:Et.DAY.color}},YAxisSpeed:Ho("#3F51B5"),YAxisRain:Ho("#0922A5"),YAxisPressure:Ho("#0D2339"),CartesianGrid:{stroke:"#555",vertical:!1},LinePressure:Wo({stroke:"#0D2339",fill:"#0D2339",dash:"5 5"}),LineRain:Wo({stroke:"#0922a5",fill:"#0922a5",dash:"5 5"}),LineSpeed:Wo({stroke:"#3f51b5",fill:"#808080",dash:"5 5"}),LineTempMax:Wo({stroke:"#F44336",fill:"#808080",dash:"5 5"}),LineTempMin:Wo({stroke:"#03a9f4",fill:"#808080",dash:"5 5"}),LineTempMorn:Wo({stroke:Et.TEMP_DAY.color,fill:"#808080",dash:"5 5"}),LineTempDay:Wo({stroke:Et.TEMP_DAY.color}),LineTempEve:Wo({stroke:Et.TEMP_NIGHT.color,fill:"#808080",dash:"5 5"}),LineTempNight:Wo({stroke:Et.TEMP_NIGHT.color})},Yo=ct.Component,Vo=fo.CartesianGrid,jo=fo.Bar,zo=fo.Line,qo=fo.YAxis,Xo=fo.XAxis,Qo=fo.ResponsiveContainer,Zo=fo.Tooltip,Jo=fo.Legend,$o=fo.ComposedChart,ei=[{day:"Page A",tempDay:40,tempNight:30},{day:"Page B",tempDay:30,tempNight:30},{day:"Page C",tempDay:20,tempNight:30},{day:"Page D",tempDay:27,tempNight:30},{day:"Page E",tempDay:18,tempNight:30},{day:"Page F",tempDay:23,tempNight:30},{day:"Page G",tempDay:34,tempNight:30}],ti=function(e){return void 0===e&&(e=[]),e.map((function(e,t){var n=e.dt,r=e.rain,o=void 0===r?0:r,i=e.speed,a=e.temp,s=void 0===a?{}:a,l=s.day,c=void 0===l?null:l,p=s.night,u=void 0===p?null:p,d=s.morn,m=void 0===d?null:d,h=s.eve,f=void 0===h?null:h,y=s.max,v=void 0===y?null:y,E=s.min,g=void 0===E?null:E;return{day:Yr.toShortDayOfWeek(n),tempDay:c,tempNight:u,tempMorn:m,tempEve:f,tempMax:v,tempMin:g,rain:o,speed:i}}))},ni=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={data:ei,filters:{tempDay:!0,tempNight:!0,tempMorn:!1,tempEve:!1,tempMax:!1,tempMin:!1,rain:!0,speed:!0}},t._onStore=function(){var e=t.props.store.getState(),n=ce(e);n&&t.recent!==n&&(t.recent=n,t.setState((function(t){return{data:ti(pe(e,n))}})))},t.handleFilter=function(e){var n=t.state.filters,r=Object.assign({},n);n[e]?r[e]=!1:r[e]=!0,t.setState({filters:r})},t}lt()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.store;this.unsubsribe=e.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubsribe()},n.shouldComponentUpdate=function(e,t){return this.props===e},n.render=function(){var e=this.state,t=e.data,n=e.filters,r=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t={}),0===t.length)return e;var n=Object.keys(t);return e.map((function(e){var r=Object.assign({},e);return n.forEach((function(e){t[e]||(r[e]=null)})),r}))}(t,n);return ct.createElement(Qo,{width:"100%",height:300},ct.createElement($o,D()({data:r},Fo.ComposedChart),ct.createElement(Xo,D()({dataKey:"day"},Fo.XAxis)),ct.createElement(qo,{label:{value:"°C"}}),ct.createElement(qo,D()({yAxisId:1,dataKey:"rain",orientation:"right",label:"mm"},Fo.YAxisRain)),ct.createElement(qo,D()({hide:!n.speed,yAxisId:2,dataKey:"speed",orientation:"right",label:"m/s"},Fo.YAxisSpeed)),ct.createElement(Vo,Fo.CartesianGrid),ct.createElement(Zo,{offset:24,content:ct.createElement(xo,{data:t})}),ct.createElement(Jo,{content:ct.createElement(Ko,{styles:bo.fnLegendLabel(n),onFilter:this.handleFilter})}),ct.createElement(jo,{dataKey:"rain",yAxisId:1,barSize:20,fill:"#0922a5"}),ct.createElement(zo,D()({dataKey:"speed",yAxisId:2},Fo.LineSpeed)),ct.createElement(zo,D()({dataKey:"tempMin"},Fo.LineTempMin)),ct.createElement(zo,D()({dataKey:"tempMax"},Fo.LineTempMax)),ct.createElement(zo,D()({dataKey:"tempEve"},Fo.LineTempEve)),ct.createElement(zo,D()({dataKey:"tempMorn"},Fo.LineTempMorn)),ct.createElement(zo,D()({dataKey:"tempNight"},Fo.LineTempNight)),ct.createElement(zo,D()({dataKey:"tempDay"},Fo.LineTempDay))))},t}(Yo),ri=ct.Component,oi={ROOT:{marginTop:"1rem"},ITEM:{display:"inline-block",marginRight:"1rem",paddingLeft:"4px",paddingRight:"4px",paddingBottom:"4px"}},ii=function(e){return e?oi.LABEL:D()({},oi.LABEL,{},bo.FILTERED)},ai=function(e){function t(){return e.apply(this,arguments)||this}return lt()(t,e),t.prototype.render=function(){var e=this.props,t=e.filtered,n=e.onFilter,r=ii(!t.temp),o=ii(!t.pressure),i=ii(!t.rain),a=ii(!t.speed);return ct.createElement("div",{style:oi.ROOT},ct.createElement("span",{className:"legend-cell",style:oi.ITEM,onClick:n.bind(null,"temp")},ct.createElement(wo,bo.CIRCLE_TEMP_NIGHT),ct.createElement("span",{style:r},"T")),ct.createElement("span",{className:"legend-cell",style:oi.ITEM,onClick:n.bind(null,"pressure")},ct.createElement(wo,bo.CIRCLE_PRESSURE),ct.createElement("span",{style:o},"Pressure")),ct.createElement("span",{className:"legend-cell",style:oi.ITEM,onClick:n.bind(null,"rain")},ct.createElement(wo,bo.CIRCLE_RAIN),ct.createElement("span",{style:i},"Rain")),ct.createElement("span",{className:"legend-cell",style:oi.ITEM,onClick:n.bind(null,"speed")},ct.createElement(wo,bo.CIRCLE_SPEED),ct.createElement("span",{style:a},"Speed")))},t}(ri),si=ct.Component,li=fo.CartesianGrid,ci=fo.Line,pi=fo.YAxis,ui=fo.XAxis,di=fo.ResponsiveContainer,mi=fo.Legend,hi=fo.LineChart,fi=[{day:"Page A",temp:40},{day:"Page B",temp:30},{day:"Page C",temp:20},{day:"Page D",temp:27},{day:"Page E",temp:18},{day:"Page F",temp:23},{day:"Page G",temp:34}],yi=function(e){return e.list.map((function(e){var t=e.dt,n=e.dt_txt,r=void 0===n?"":n,o=e.main,i=void 0===o?{}:o,a=e.wind,s=void 0===a?{}:a,l=e.rain,c=void 0===l?{}:l,p=i.temp,u=i.pressure,d=i.humidity,m=s.speed,h=void 0===m?null:m,f=c["3h"]||null;return{day:Yr.toDayHour(t),dt_text:r,temp:p,pressure:u,humidity:d,speed:h,rain:f}}))},vi=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={data:fi,filtered:{temp:!1,pressure:!0,rain:!0,speed:!0}},t._onStore=function(){var e=t.props.store.getState(),n=de(e);if(n!==t.recent){t.recent=n;var r=yi(me(e,n));t.setState({data:r})}},t.handleFilter=function(e){t.setState((function(t){var n=t.filtered;return n[e]=!n[e],{filtered:n}}))},t}lt()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unsubsribe=this.props.store.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubsribe()},n.shouldComponentUpdate=function(e){return this.props===e},n.render=function(){var e=this.state,t=e.data,n=e.filtered;return ct.createElement(di,{width:"100%",height:300},ct.createElement(hi,D()({data:t},Fo.HourlyChart),ct.createElement(ui,D()({dataKey:"day"},Fo.XAxis)),ct.createElement(pi,{yAxisId:1,orientation:"right",width:45,label:"°C",dataKey:"temp",hide:n.temp}),ct.createElement(pi,D()({yAxisId:2,orientation:"right",width:80,dataKey:"pressure",type:"number",domain:["dataMin","dataMax"],label:"hPa",hide:n.pressure},Fo.YAxisPressure)),ct.createElement(pi,D()({yAxisId:3,orientation:"right",width:54,label:"mm",dataKey:"rain",hide:n.rain},Fo.YAxisRain)),ct.createElement(pi,D()({yAxisId:4,orientation:"right",width:45,label:"m/s",dataKey:"speed",hide:n.speed},Fo.YAxisSpeed)),ct.createElement(li,Fo.CartesianGrid),ct.createElement(mi,{content:ct.createElement(ai,{filtered:n,onFilter:this.handleFilter})}),ct.createElement(ci,D()({},Fo.LineTempNight,{connectNulls:!0,yAxisId:1,dataKey:n.temp?"empty":"temp"})),ct.createElement(ci,D()({},Fo.LinePressure,{connectNulls:!0,strokeDasharray:"5 5",yAxisId:2,dataKey:n.pressure?"empty":"pressure"})),ct.createElement(ci,D()({},Fo.LineRain,{connectNulls:!0,strokeDasharray:"5 5",yAxisId:3,dataKey:n.rain?"empty":"rain"})),ct.createElement(ci,D()({connectNulls:!0},Fo.LineSpeed,{strokeDasharray:"5 5",yAxisId:4,dataKey:n.speed?"empty":"speed"}))))},t}(si),Ei=ct.Component,gi={TIME:{paddingTop:"1rem",paddingLeft:"2.5rem",color:"#8bc34a",fontSize:"1rem",fontWeight:"bold"},VALUE:{paddingTop:"1rem",paddingLeft:"2.5rem",fontSize:"3rem",fontWeight:"bold"}},_i=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={data:{}},t._onStore=function(){var e=t.props.store.getState(),n=he(e);n!==t.state.recent&&t.setState((function(t){return{data:fe(e,n)}}))},t}lt()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unsubscribe=this.props.store.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.state.data,t=void 0===e?{}:e,n=t.time,r=void 0===n?"":n,o=t.data,i=r.replace("Z","").replace("T"," ");return ct.createElement("div",null,ct.createElement("div",{style:gi.TIME},i),ct.createElement("div",{style:gi.VALUE},o))},t}(Ei),Ci={_themeName:void 0,_style:{},_createStyle:function(e){return{ROOT_DIV:D()({position:"fixed",top:"3rem",left:"0",bottom:"0",borderRight:"1px solid #999",transform:"translateX(-100%)",transition:"transform .3s",fill:e.BG_MARK.backgroundColor},e.BG,{overflowY:"auto",overflowX:"hidden",maxWidth:"100%"}),C_BG_MARK:e.BG_MARK.backgroundColor,C_BG_UNMARK:e.BG.backgroundColor}}},bi=ct.Component,xi={TABS:{textAlign:"left"}},Si=Tt(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={},t._markDay=function(e){var n=t.props.theme.createStyle(Ci);t.detailEl=e,t.detailEl.style.backgroundColor=n.C_BG_MARK},t._unmarkDay=function(){if(t.detailEl){var e=t.props.theme.createStyle(Ci);t.detailEl.style.backgroundColor=e.C_BG_UNMARK}},t.handleClickItem=function(e,n){n.persist(),t._unmarkDay(),t._markDay(n.currentTarget),t.detailComp.setItem(e)},t.handleRequestHourly=function(){t.props.store.dispatch(x())},t.handleRequestUV=function(){t.props.store.dispatch(O())},t.handleCloseDetail=function(){t._unmarkDay(),t.detailComp.close()},t._refDetail=function(e){return t.detailComp=e},t}return lt()(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.store,r=e.theme.createStyle(Ci);return ct.createElement("div",{id:t,style:r.ROOT_DIV},ct.createElement(no,{store:n,onUpdate:this.handleCloseDetail,onClickItem:this.handleClickItem}),ct.createElement(mo,{ref:this._refDetail,onClose:this.handleCloseDetail}),ct.createElement(jt,{key:"1",width:"100%",tabsStyle:xi.TABS},ct.createElement(Qt,{title:"7 Days"},ct.createElement(ni,{store:n})),ct.createElement(Qt,{title:"5 Days/3 Hours",onClick:this.handleRequestHourly},ct.createElement(vi,{store:n})),ct.createElement(Qt,{title:"UV",onClick:this.handleRequestUV},ct.createElement(_i,{store:n}))))},t}(bi)),wi=n(9),ki=function(e){return null!==e&&"object"==typeof e?e:{}},Ti=function(e,t,n,r){return void 0===e&&(e=[]),void 0===n&&(n=0),void 0===r&&(r="no data"),null!==e&&e[n]&&e[n][t]?e[n][t]:r},Oi=function(e){return'<svg xmlns="http://www.w3.org/2000/svg"\n       viewBox="0 0 17 18" width="100%" height="100%"\n       preserveAspectRatio="none" aria-labelledby="title"\n       class="icon__popup__vane"\n       style="transform:rotate('+e+'deg);position:relative;top:4px;"\n  >\n     <title id="title">Icon Wind Vane</title>\n     <path\n        d="M 10,0 L 8,0 8,11 4,11 9,18 14,11 10,11 10,0"\n     >\n  </svg>'},Ai={fDivIcon:function(e){void 0===e&&(e={});var t=e,n=t.weather,r=void 0===n?[]:n,o=t.main,i=t.wind,a=ki(o),s=a.temp,l=void 0===s?"":s,c=a.pressure,p=void 0===c?"":c,u=ki(i),d=u.deg,m=void 0===d?0:d,h=u.speed,f=void 0===h?"":h;return'<div style="position:relative;top:-45px;left:-25px;font-size: 15px;font-weight:bold;">\n             <img src=./img/'+Ti(r,"icon",0,"no-data")+'.png style="width:60px;height:60px;"></img>\n             <div style="position:absolute; top:5px; left: 50px; width: 90px; line-height: 1.2;">\n               <div style="color:#ff9800;">'+l+'&nbsp;℃</div>\n               <div style="color:#3f51b5;">'+p+"&nbsp;hPa</div>\n               <div>\n                  "+Oi(m)+'\n                  <span style="color:#3f51b5;">'+f+"m/s<span>\n               </div>\n             </div>\n            </div>"},fPopup:function(e,t){void 0===e&&(e={});var n=e,r=n.id,o=n.name,i=void 0===o?"":o,a=n.sys,s=n.dt,l=n.wind,c=n.weather,p=n.main,u=n.visibility,d=void 0===u?"no data":u,m=ki(a).country,h=void 0===m?"":m,f=Ti(c,"description"),y=ki(p),v=y.temp,E=void 0===v?"":v,g=y.pressure,_=void 0===g?"":g,C=ki(l),b=C.deg,x=void 0===b?0:b,S=C.speed,w=void 0===S?"no data":S,k=Ti(c,"icon",0,"no-data"),T="",O="",A="";return"number"==typeof r&&0!==r&&(T="marker__caption__not-empty",O="weather.fnFetchForecast("+r+")",A='<div class="marker__caption__city">'+i+":"+h+"</div>"),'<div class="marker__caption '+T+'" onclick="'+O+'">\n               '+A+'\n               <div class="marker__caption__date">\n                 '+Yr.toMonthDayTime(s)+'\n               </div>\n            </div>\n            <p style="display:table;margin: 0 0;font-size: 15px; font-weight: bold;">\n              <img src=./img/'+k+'.png style="display:table-cell;width:50px;height:50px;"></img>\n              <span class="marker__description" style="display:table-cell;vertical-align:middle;">\n                '+f+'\n              </span>\n            </p>\n            <p style="margin: 0 0;margin-top: -8px;font-size: 15px; font-weight: bold;">\n              <span class="marker__label" title="Temperature">T:</span>\n              <span class="marker__value-odd" style="color:#ff9800;">\n                 '+E+'&nbsp;C\n               </span>\n               <span class="marker__label left-5" title="Pressure">Pr:</span>\n               <span class="marker__value-odd" style="color:#3f51b5;">\n                 '+_+'&nbsp;hPa\n               </span>\n            </p>\n            <p style="margin: 0 0;font-size: 15px; font-weight: bold;">\n              <span class="marker__label" title="Wind">W:</span>\n              '+Oi(x)+'\n              <span class="marker__value-odd" style="color:#3f51b5;">\n                '+Yr.toDirection(x)+'\n              </span>\n              <span class="marker__value-odd" style="color:#3f51b5;">\n                '+w+'m/s\n              </span>\n            </p>\n            <p style="margin: 0 0;margin-top: 4px;font-size: 15px; font-weight: bold;">\n               <span class="marker__label" title="Clouds">Cl:</span>\n               <span class="marker__value-even" style="color:#3f51b5;">'+e.clouds.all+'%</span>\n               <span class="marker__label left-5" title="Humidity">H:</span>\n               <span class="marker__value-even" style="color:#3f51b5;">'+e.main.humidity+'%</span>\n               <span class="marker__label left-5">V:</span>\n               <span class="marker__value-even" style="color:#3f51b5;">\n                 '+d+"\n                </span>\n            </p>"}},Ni=n.n(wi).a||window.L,Di={DF:"",WHITE:"popup--white",SAND:"popup--sand"},Li=50,Ri=0,Ii=2,Mi={createMap:function(e,t){var n=Ni.map(e,{zoomControl:!0}).on("load",t).setView([Li,Ri],Ii);return n.zoomControl.setPosition("bottomright"),Ni.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{id:"addis",attribution:'&copy; <a  href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',maxZoom:18}).addTo(n),n},addMarker:function(e,t,n){void 0===e&&(e={});var r=Ni.divIcon({html:Ai.fDivIcon(e)}),o=e.coord,i=void 0===o?{}:o,a=i.lat,s=i.lon;a&&s&&Ni.marker([a,s],{icon:r,title:e.name,alt:e.name}).bindPopup(Ai.fPopup(e),function(e){return{className:Di[e]||Di.DF}}(t)).addTo(n)}},Pi=Date.now||function(){return(new Date).getTime()},Bi=function(e,t,n){var r,o,i,a;void 0===n&&(n={});var s=0,l=function(){s=!1===n.leading?0:Pi(),r=null,a=e.apply(o,i),r||(o=i=null)},c=function(){var c=Pi();s||!1!==n.leading||(s=c);var p=t-(c-s);o=this;for(var u=arguments.length,d=new Array(u),m=0;m<u;m++)d[m]=arguments[m];return i=d,p<=0||p>t?(r&&(clearTimeout(r),r=null),s=c,a=e.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(l,p)),a};return c.cancel=function(){clearTimeout(r),s=0,r=o=i=null},c},Gi=ct.Component,Ui={width:"100%",height:"650px",transition:"transform .3s, width .6s"},Ki=Tt(function(e){function t(t){var n;return(n=e.call(this,t)||this)._handleClickMap=function(e){var t=n.props.store,r=e.latlng,o=r.lat,i=r.lng;t.dispatch(m({lat:o,lot:i}))},n._onStore=function(){var e=n.props,t=e.store,r=e.theme,o=t.getState(),i=ae(o);(i||0===i)&&Mi.addMarker(se(o,i),r.themeName,n.map)},n._setLoaded=n._setLoaded.bind(Ft()(n)),n.state={isLoaded:!1},n}lt()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.id,n=e.store;this.unsubsribe=n.subscribe(this._onStore),this.map=Mi.createMap(t,this._setLoaded),this.map.on("dblclick",Bi(this._handleClickMap,5e3,{trailing:!1}))},n.componentWillUnmount=function(){this.unsubsribe()},n._setLoaded=function(){this.setState({isLoaded:!0})},n.render=function(){var e=this.props,t=e.id,n=e.rootStyle,r=this.state.isLoaded;return ct.createElement("div",{style:D()({},Ui,{},n),id:t},!r&&ct.createElement("span",null,"LeafletMap Loading..."))},t}(Gi)),Wi=n(10),Hi=n.n(Wi),Fi={makeDragable:function(e){Hi()(e).draggable({inertia:!0,onmove:this._dragMoveListener,onend:this._dragEndListener}).preventDefault(!1)},_dragMoveListener:function(e){var t=e.target,n=(parseFloat(t.getAttribute("data-x"))||0)+e.dx,r=(parseFloat(t.getAttribute("data-y"))||0)+e.dy;t.style.webkitTransform=t.style.transform="translate("+n+"px, "+r+"px)",t.setAttribute("data-x",n),t.setAttribute("data-y",r)},_dragEndListener:function(e){var t=e.target,n=parseFloat(t.getAttribute("data-x"))||0,r=parseFloat(t.getAttribute("data-y"))||0,o=Number(t.style.left.replace("px","")),i=Number(t.style.top.replace("px",""));t.style.left=o+n+"px",t.style.top=i+r+"px",t.style.webkitTransform=t.style.transform="",t.setAttribute("data-x",0),t.setAttribute("data-y",0)}},Yi=ct.Component,Vi={BLOCK:{display:"block"},NONE:{display:"none"},SVG_CLOSE:{position:"absolute",top:"16px",right:"6px"}},ji=function(e){function t(t){var n;(n=e.call(this,t)||this)._onStore=function(){var e=n.props,t=e.store,r=e.storeKey,o=t.getState().layout,i=n.state.isShow;o[r]!==i&&n.setState({isShow:o[r]})},n.handleClose=function(){var e=n.props,t=e.store,r=e.storeKey;t.dispatch(W(r))},n._refRootDiv=function(e){return n.domRootDiv=e};var r=t.store,o=t.storeKey,i=r.getState();return n.state={isShow:i.layout[o]},n}lt()(t,e);var n=t.prototype;return n.componentDidMount=function(){Fi.makeDragable(this.domRootDiv);var e=this.props.store;this.unsubsribe=e.subscribe(this._onStore)},n.componetWillUnmount=function(){this.unsubsribe()},n.render=function(){var e=this.props,t=e.children,n=e.rootStyle,r=this.state.isShow,o=r?Vi.BLOCK:Vi.NONE,i=r?"show-popup":void 0;return ct.createElement("div",{ref:this._refRootDiv,className:i,style:D()({},n,{},o)},ct.createElement(Nt,{style:Vi.SVG_CLOSE,onClose:this.handleClose}),t)},t}(Yi),zi={_themeName:void 0,_style:{},_createStyle:function(e){return{ROOT_DIV:D()({},e.BG)}}},qi=ct.Component,Xi={CAPTION:{marginRight:"40px"}},Qi={forecast:{cod:200,list:[]}},Zi=Tt(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state=Qi,t._onStore=function(){var e=t.props.store.getState(),n=ce(e);n&&t.recent!==n&&t.setState({forecast:le(e,n)})},t._renderMsg=function(){return ct.createElement("div",null,ct.createElement("span",null,"Forecast for place not found"))},t}lt()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.store;this.unsubscribe=e.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.props,t=e.rootStyle,n=e.store,r=e.theme,o=this.state.forecast,i=o.cod,a=r.createStyle(zi);return ct.createElement(ji,{rootStyle:D()({},t,{},a.ROOT_DIV),store:n,storeKey:"isPopupForecast",isShow:!0},ct.createElement(Jr,{forecast:o,captionStyle:Xi.CAPTION}),""+i!="200"&&this._renderMsg())},t}(qi)),Ji=ct.Component,$i={HEADER:{width:"100%",height:"3rem",lineHeight:"3rem",borderBottom:"1px solid #999",cursor:"auto"},MAP:{width:"100%",height:"calc(100vh - 3rem)"},FLY_ROOT_DIV:{position:"absolute",top:"30px",left:"50px",padding:"10px 5px 5px 4px",backgroundColor:"#808080",border:"1px solid #999",borderRadius:"5px",boxShadow:"rgba(0, 0, 0, 0.2) 0px 0px 0px 12px",zIndex:500}},ea=function(e){function t(t){var n;(n=e.call(this,t)||this)._onStore=function(){var e=n.props.store.getState().layout;if(e!==n.layout){if(e.isPushMenu!==n.isPushMenu){if(n.isPushMenu)n.mapEl.style.transform="translateX(0px)",n.mapEl.style.width="100vw",n.menuEl.style.transform="translateX(-100%)";else{var t=n.menuEl.getBoundingClientRect().width;n.mapEl.style.transform="translateX("+t+"px)",n.mapEl.style.width="calc(100vw - "+t+"px)",n.menuEl.style.transform="translateX(0px)"}n.isPushMenu=e.isPushMenu}else e.themeName!==n.themeName&&(n.forceUpdate(),n.themeName=e.themeName);n.layout=e}},n._refMap=function(e){return n._mapComp=e};var r=t.store.getState().layout;return n.layout=r,n.isPushMenu=r.isPushMenu,n.themeName=r.themeName,n}lt()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unsubsribe=this.props.store.subscribe(this._onStore),this.mapEl=document.getElementById("map_id"),this.menuEl=document.getElementById("left_push_menu")},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.props.store;return ct.createElement(pt.Provider,{value:St},ct.createElement("div",null,ct.createElement(rr,{store:e}),ct.createElement(Nr,{rootStyle:$i.HEADER,store:e}),ct.createElement("div",null,ct.createElement(Si,{id:"left_push_menu",store:e}),ct.createElement(Ki,{id:"map_id",rootStyle:$i.MAP,store:e}),ct.createElement(Zi,{rootStyle:$i.FLY_ROOT_DIV,isShow:!0,store:e}))))},t}(Ji),ta=a.a||window.React,na=(l.a||window.ReactDOM).render,ra=at(),oa=Bi((function(e){return ra.dispatch(E(e))}),1e4,{trailing:!1});window.weather={fnFetchForecast:function(e){"number"==typeof e&&0!==e&&oa(e)}},na(ta.createElement(ea,{store:ra}),document.getElementById("app"))}]);