"use strict";(self.webpackChunkweather_forecast=self.webpackChunkweather_forecast||[]).push([[151],{1561:(e,t,n)=>{n.r(t),n.d(t,{default:()=>rt});var r=n(7280),i=n(731),a=n(7847),l=n(5749),o=n(7462),s=n(1551),c=n(4195),E=n(6350),m=n(6880),d=n(5358),u=n(3023),y=n(9009),p=n(9307),Z=n(3872),v=n(1136),h=n(8687);const I={CartesianGrid:c.q,Bar:E.$,Line:m.x,YAxis:d.B,XAxis:u.K,ResponsiveContainer:y.h,Tooltip:p.u,Legend:Z.D,ComposedChart:v.c,LineChart:h.w};var M=n(3841),R=n(1391),T=Array.isArray;const f=function(e){var t=e.active,n=e.payload;if(t&&T(n))return(n[0]||{}).payload};var A=n(9205);const C={SPEED:"#3f51b5",RAIN:"#0922a5",TEMP_MAX:"#f44336",TEMP_MIN:"#03a9f4",PRESSURE:"#0d2339",SERIA:"#434348",FILTERED:"#9e9e9e"};var S=function(e,t){return void 0===e&&(e="green"),{stroke:e,fill:t||e}},P=function(e){return void 0===e&&(e="green"),{color:e,fontWeight:"bold"}},_={display:"inline-block",color:A.r$.LABEL.color,fontWeight:"bold"};const L={ROOT_DIV:(0,o.Z)({},A.DV.CHART,{padding:8}),LABEL:(0,o.Z)({},_,{width:50}),CAPTION:(0,o.Z)({},_,{paddingRight:4}),ROW:{paddingTop:8},DAY:P(A.r$.DAY.color),CIRCLE_SPEED:S(C.SPEED,"none"),SPEED:P(C.SPEED),CIRCLE_HUMIDITY:S(C.SPEED),HUMIDITY:P(C.SPEED),CIRCLE_RAIN:S(C.RAIN),RECT_RAIN:{stroke:C.RAIN},RAIN:P(C.RAIN),CIRCLE_TEMP_MAX:S(C.TEMP_MAX,"none"),TEMP_MAX:P(C.TEMP_MAX),CIRCLE_TEMP_MIN:S(C.TEMP_MIN,"none"),TEMP_MIN:P(C.TEMP_MIN),CIRCLE_TEMP_MORN:S(A.r$.TEMP_DAY.color,"none"),CIRCLE_TEMP_DAY:S(A.r$.TEMP_DAY.color),TEMP_DAY:P(A.r$.TEMP_DAY.color),CIRCLE_TEMP_EVE:S(A.r$.TEMP_NIGHT.color,"none"),CIRCLE_TEMP_NIGHT:S(A.r$.TEMP_NIGHT.color),TEMP_NIGHT:P(A.r$.TEMP_NIGHT.color),CIRCLE_PRESSURE:S(C.PRESSURE),PRESSURE:P(C.PRESSURE),SERIA:P(C.SERIA),CIRCLE_SERIA:S(C.SERIA),POINTER:{lineHeight:2,cursor:"pointer"},FILTERED:{color:C.FILTERED}};const D=function(e){var t=e.caption,n=e.children;return r.Z.createElement("div",{style:L.ROOT_DIV},r.Z.createElement("div",null,r.Z.createElement("span",{style:L.DAY},t)),n)};var x=function(e){var t=e.t,n=e.v,i=e.style;return r.Z.createElement(r.Z.Fragment,null,r.Z.createElement("span",{style:L.LABEL},t+":"),r.Z.createElement("span",{style:i},function(e){return null==e?"":e}(n)," "))};const g=function(e){var t=e.t1,n=e.v1,i=e.t2,a=e.v2,l=e.style1,o=e.style2;return null==n&&null==a?null:r.Z.createElement("div",{style:L.ROW},r.Z.createElement(x,{t,v:n,style:l}),r.Z.createElement(x,{t:i,v:a,style:o||l}))};const k=function(e){var t=e.t,n=e.v,i=e.style,a=void 0===i?L.SERIA:i;return null==n?null:r.Z.createElement("div",{style:L.ROW},r.Z.createElement("span",{style:L.CAPTION},t+":"),r.Z.createElement("span",{style:a},n))};const N=function(e){var t=f(e);if(!t)return null;var n=e.label,i=t.tempMorn,a=t.tempDay,l=t.tempEve,o=t.tempNight,s=t.tempMin,c=t.tempMax,E=t.rain,m=t.speed,d=t.pressure,u=t.humidity;return r.Z.createElement(D,{caption:n},r.Z.createElement(g,{style1:L.TEMP_DAY,t1:"Morn",v1:i,t2:"Day",v2:a}),r.Z.createElement(g,{style1:L.TEMP_NIGHT,t1:"Eve",v1:l,t2:"Night",v2:o}),r.Z.createElement(g,{t1:"Min",v1:s,style1:L.TEMP_MIN,t2:"Max",v2:c,style2:L.TEMP_MAX}),r.Z.createElement(g,{t1:"Rain",v1:E,style1:L.RAIN,t2:"Wind",v2:m,style2:L.SPEED}),r.Z.createElement(k,{t:"Pressure",v:d,style:L.PRESSURE}),r.Z.createElement(k,{t:"Humidity",v:u,style:L.SPEED}))};var b={SVG:{position:"relative",top:4,display:"inline-block",width:18,height:18}};const O=function(e){var t=e.stroke,n=e.fill;return r.Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"100%",height:"100%",preserveAspectRatio:"none","aria-labelledby":"title",style:b.SVG},r.Z.createElement("title",{id:"title"},"Circle Marker"),r.Z.createElement("circle",{r:"6",stroke:t,strokeWidth:"2",fill:n,cx:"9",cy:"9"}))};var Y={SVG:{position:"relative",top:2,display:"inline-block",width:18,height:18}};const w=function(e){var t=e.stroke,n=void 0===t?"green":t,i=e.fill,a=void 0===i?n:i;return r.Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"100%",height:"100%",preserveAspectRatio:"none","aria-labelledby":"title",style:Y.SVG},r.Z.createElement("title",{id:"title"},"Rest Marker"),r.Z.createElement("rect",{x:"3",y:"0",width:"11",height:"18",stroke:n,fill:a}))};var H={paddingLeft:4,paddingRight:4};const K=function(e){var t=e.style,n=e.onClick,i=e.children,a=e.titleStyle,l=e.title,s=void 0===l?"":l;return r.Z.createElement("div",{className:"legend-cell",style:(0,o.Z)({},H,t),onClick:n},i,r.Z.createElement("span",{style:a},s))};var U=Object.assign,G=function(e,t){return e?U({},t,L.POINTER):U({},t,L.POINTER,L.FILTERED)};const X=function(e){var t={};return t.tempMorn=G(e.tempMorn,L.TEMP_DAY),t.tempDay=G(e.tempDay,L.TEMP_DAY),t.tempEve=G(e.tempEve,L.TEMP_NIGHT),t.tempNight=G(e.tempNight,L.TEMP_NIGHT),t.tempMax=G(e.tempMax,L.TEMP_MAX),t.tempMin=G(e.tempMin,L.TEMP_MIN),t.rain=G(e.rain,L.RAIN),t.speed=G(e.speed,L.SPEED),t.pressure=G(e.pressure,L.PRESSURE),t.humidity=G(e.humidity,L.HUMIDITY),t};var $=r.Z.memo,W="tempDay",B="tempNight",V="tempMorn",F="tempEve",q="tempMax",z="tempMin",j="rain",J="speed",Q="pressure",ee="humidity",te={ROOT_DIV:{marginLeft:"3rem",marginTop:"1rem"},COL_1:{display:"inline-block",marginRight:"1rem"},COL_2:{display:"inline-block"},COL_3:{display:"inline-block",marginLeft:"1rem"}};const ne=$((function(e){var t=e.filters,n=e.onFilter,i=X(t);return r.Z.createElement("div",{style:te.ROOT_DIV},r.Z.createElement("div",{style:te.COL_1},r.Z.createElement(K,{titleStyle:i.tempMorn,title:"T Morn",onClick:function(){return n(V)}},r.Z.createElement(O,L.CIRCLE_TEMP_MORN)),r.Z.createElement(K,{titleStyle:i.tempDay,title:"T Day",onClick:function(){return n(W)}},r.Z.createElement(O,L.CIRCLE_TEMP_DAY))),r.Z.createElement("div",{style:te.COL_2},r.Z.createElement(K,{titleStyle:i.tempEve,title:"T Eve",onClick:function(){return n(F)}},r.Z.createElement(O,L.CIRCLE_TEMP_EVE)),r.Z.createElement(K,{titleStyle:i.tempNight,title:"T Night",onClick:function(){return n(B)}},r.Z.createElement(O,L.CIRCLE_TEMP_NIGHT))),r.Z.createElement("div",{style:te.COL_3},r.Z.createElement(K,{titleStyle:i.tempMax,title:"T Max",onClick:function(){return n(q)}},r.Z.createElement(O,L.CIRCLE_TEMP_MAX)),r.Z.createElement(K,{titleStyle:i.tempMin,title:"T Min",onClick:function(){return n(z)}},r.Z.createElement(O,L.CIRCLE_TEMP_MIN))),r.Z.createElement("div",{style:te.COL_3},r.Z.createElement(K,{titleStyle:i.rain,title:"Rain",onClick:function(){return n(j)}},r.Z.createElement(w,L.RECT_RAIN)),r.Z.createElement(K,{titleStyle:i.speed,title:"Wind",onClick:function(){return n(J)}},r.Z.createElement(O,L.CIRCLE_SPEED))),r.Z.createElement("div",{style:te.COL_3},r.Z.createElement(K,{titleStyle:i.pressure,title:"Pressure",onClick:function(){return n(Q)}},r.Z.createElement(O,L.CIRCLE_PRESSURE)),r.Z.createElement(K,{titleStyle:i.humidity,title:"Humidity",onClick:function(){return n(ee)}},r.Z.createElement(O,L.CIRCLE_HUMIDITY))))}),(function(e,t){return e.filters===t.filters}));var re=function(e){var t=e.stroke,n=e.fill,r=void 0===n?t:n,i=e.dash;return{type:"monotone",stroke:t,strokeWidth:2,strokeDasharray:void 0===i?null:i,dot:{r:6,strokeWidth:2,strokeDasharray:null,stroke:t,fill:r},activeDot:{r:10,strokeWidth:2,strokeDasharray:null,stroke:t,fill:r}}},ie=function(e){return{axisLine:{stroke:e},tickLine:{stroke:e},tick:{stroke:e,fill:e}}};const ae={ComposedChart:{margin:{top:20,right:10,bottom:30,left:-20}},HourlyChart:{margin:{top:20,right:10,bottom:30,left:20}},XAxis:{tickSize:16,tick:{stroke:A.r$.DAY.color,fill:A.r$.DAY.color}},YAxisSpeed:ie(C.SPEED),YAxisRain:ie(C.RAIN),YAxisPressure:ie(C.PRESSURE),CartesianGrid:{stroke:"#555",vertical:!1},LinePressure:re({stroke:C.PRESSURE,dash:"5 5"}),LineRain:re({stroke:C.RAIN,dash:"5 5"}),LineSpeed:re({stroke:C.SPEED,fill:"#808080",dash:"5 5"}),LineHumidity:re({stroke:C.SPEED}),LineTempMax:re({stroke:C.TEMP_MAX,fill:"#808080",dash:"5 5"}),LineTempMin:re({stroke:C.TEMP_MIN,fill:"#808080",dash:"5 5"}),LineTempMorn:re({stroke:A.r$.TEMP_DAY.color,fill:"#808080",dash:"5 5"}),LineTempDay:re({stroke:A.r$.TEMP_DAY.color}),LineTempEve:re({stroke:A.r$.TEMP_NIGHT.color,fill:"#808080",dash:"5 5"}),LineTempNight:re({stroke:A.r$.TEMP_NIGHT.color})};var le=r.Z.useState,oe=r.Z.useCallback,se=r.Z.useMemo,ce=r.Z.memo,Ee=I.CartesianGrid,me=I.Bar,de=I.Line,ue=I.YAxis,ye=I.XAxis,pe=I.ResponsiveContainer,Ze=I.Tooltip,ve=I.Legend,he=I.ComposedChart,Ie={tempDay:!0,tempNight:!1,tempMorn:!1,tempEve:!1,tempMax:!1,tempMin:!1,rain:!1,speed:!1,pressure:!1,humidity:!1},Me=[{day:"01 SU",tempDay:35},{day:"02 MO",tempDay:30},{day:"03 TU",tempDay:20},{day:"04 WE",tempDay:27},{day:"05 TH",tempDay:18},{day:"06 FR",tempDay:23},{day:"07 SA",tempDay:34}];const Re=ce((function(){var e=le(Ie),t=e[0],n=e[1],i=oe((function(e){n((function(t){return t[e]=!t[e],(0,o.Z)({},t)}))}),[]),a=(0,s.useSelector)((function(e){var t=R.OU.recent(e);return t?R.OU.listById(e,t):void 0})),l=se((function(){return a?(void 0===(e=a)&&(e=[]),e.map((function(e){var t=e.dt,n=e.rain,r=void 0===n?0:n,i=e.speed,a=e.temp,l=e.pressure,o=e.humidity,s=a||{},c=s.day,E=void 0===c?null:c,m=s.night,d=void 0===m?null:m,u=s.morn,y=void 0===u?null:u,p=s.eve,Z=void 0===p?null:p,v=s.max,h=void 0===v?null:v,I=s.min,R=void 0===I?null:I;return{day:M.Z.toShortDayOfWeek(t),tempDay:E,tempNight:d,tempMorn:y,tempEve:Z,tempMax:h,tempMin:R,rain:r,speed:i,pressure:l,humidity:o}}))):Me;var e}),[a]),c=se((function(){return function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});var n=Object.keys(t);return e.map((function(e){var r=(0,o.Z)({},e);return n.forEach((function(e){t[e]||(r[e]=null)})),r}))}(l,t)}),[l,t]);return r.Z.createElement(pe,{width:"100%",height:300},r.Z.createElement(he,(0,o.Z)({},ae.ComposedChart,{data:c}),r.Z.createElement(ye,(0,o.Z)({dataKey:"day"},ae.XAxis)),r.Z.createElement(ue,{yAxisId:1,label:{value:"°C"}}),r.Z.createElement(ue,(0,o.Z)({},ae.YAxisRain,{yAxisId:2,hide:!t.rain,dataKey:"rain",orientation:"right",label:"mm"})),r.Z.createElement(ue,(0,o.Z)({},ae.YAxisSpeed,{hide:!t.speed,yAxisId:3,dataKey:"speed",orientation:"right",label:"m/s"})),r.Z.createElement(ue,(0,o.Z)({},ae.YAxisPressure,{hide:!t.pressure,yAxisId:4,dataKey:"pressure",width:80,orientation:"right",label:"hPa",type:"number",domain:["dataMin","dataMax"]})),r.Z.createElement(ue,(0,o.Z)({},ae.YAxisSpeed,{hide:!t.humidity,yAxisId:5,dataKey:"humidity",orientation:"right",label:"%"})),r.Z.createElement(Ee,ae.CartesianGrid),r.Z.createElement(Ze,{offset:24,content:r.Z.createElement(N,{data:l})}),r.Z.createElement(ve,{content:r.Z.createElement(ne,{filters:t,onFilter:i})}),r.Z.createElement(me,{yAxisId:2,dataKey:"rain",barSize:20,fill:C.RAIN}),r.Z.createElement(de,(0,o.Z)({},ae.LineSpeed,{yAxisId:3,dataKey:"speed"})),r.Z.createElement(de,(0,o.Z)({},ae.LinePressure,{yAxisId:4,dataKey:"pressure"})),r.Z.createElement(de,(0,o.Z)({},ae.LineHumidity,{yAxisId:5,dataKey:"humidity"})),r.Z.createElement(de,(0,o.Z)({},ae.LineTempMin,{yAxisId:1,dataKey:"tempMin"})),r.Z.createElement(de,(0,o.Z)({},ae.LineTempMax,{yAxisId:1,dataKey:"tempMax"})),r.Z.createElement(de,(0,o.Z)({},ae.LineTempEve,{yAxisId:1,dataKey:"tempEve"})),r.Z.createElement(de,(0,o.Z)({},ae.LineTempMorn,{yAxisId:1,dataKey:"tempMorn"})),r.Z.createElement(de,(0,o.Z)({},ae.LineTempNight,{yAxisId:1,dataKey:"tempNight"})),r.Z.createElement(de,(0,o.Z)({},ae.LineTempDay,{yAxisId:1,dataKey:"tempDay"}))))}),(function(){return!0}));var Te={ROOT:{marginTop:"1rem"},ITEM:{display:"inline-block",marginRight:"1rem",paddingLeft:4,paddingRight:4,paddingBottom:4}},fe=function(e,t){return e?t:(0,o.Z)({},t,L.FILTERED)};const Ae=function(e){var t=e.filtered,n=e.onFilter,i=fe(!t.temp,L.SERIA),a=fe(!t.pressure,L.PRESSURE),l=fe(!t.rain,L.RAIN),o=fe(!t.speed,L.SPEED);return r.Z.createElement("div",{style:Te.ROOT},r.Z.createElement(K,{style:Te.ITEM,titleStyle:i,title:"T",onClick:function(){return n("temp")}},r.Z.createElement(O,L.CIRCLE_SERIA)),r.Z.createElement(K,{style:Te.ITEM,titleStyle:a,title:"Pressure",onClick:function(){return n("pressure")}},r.Z.createElement(O,L.CIRCLE_PRESSURE)),r.Z.createElement(K,{style:Te.ITEM,titleStyle:l,title:"Rain",onClick:function(){return n("rain")}},r.Z.createElement(w,L.RECT_RAIN)),r.Z.createElement(K,{style:Te.ITEM,titleStyle:o,title:"Wind",onClick:function(){return n("speed")}},r.Z.createElement(O,L.CIRCLE_SPEED)))};const Ce=function(e){var t=f(e);if(!t)return null;var n=t.dt_text,i=t.temp,a=t.pressure,l=t.rain,o=t.speed;return r.Z.createElement(D,{caption:n},r.Z.createElement(k,{t:"Temp",v:i}),r.Z.createElement(k,{t:"Pressure",v:a,style:L.PRESSURE}),r.Z.createElement(k,{t:"Speed",v:o,style:L.SPEED}),r.Z.createElement(k,{t:"Rain",v:l,s:L.RAIN}))};var Se=r.Z.useState,Pe=r.Z.useCallback,_e=r.Z.useMemo,Le=r.Z.memo,De=I.CartesianGrid,xe=I.Line,ge=I.Bar,ke=I.YAxis,Ne=I.XAxis,be=I.ResponsiveContainer,Oe=I.Legend,Ye=I.ComposedChart,we=I.Tooltip,He=Array.isArray,Ke={temp:!1,pressure:!0,rain:!0,speed:!0},Ue=[{day:"01 08",temp:35},{day:"02 20",temp:30},{day:"03 08",temp:20},{day:"04 20",temp:27},{day:"05 08",temp:18},{day:"06 20",temp:23},{day:"07 08",temp:34}],Ge=function(e,t){return e[t]?"empty":t};const Xe=Le((function(){var e=Se(Ke),t=e[0],n=e[1],i=Pe((function(e){n((function(t){return t[e]=!t[e],(0,o.Z)({},t)}))}),[]),a=(0,s.useSelector)((function(e){return R.LL.forecast(e)})),l=_e((function(){return He(a)?function(e){return e.map((function(e){var t=e.dt,n=e.main,r=e.wind,i=e.rain,a=n||{},l=a.temp,o=a.pressure,s=a.humidity,c=(r||{}).speed,E=void 0===c?null:c,m=(i||{})["3h"]||null,d=M.Z.toDayHour(t);return{day:d,dt_text:d+":00",temp:l,pressure:o,humidity:s,speed:E,rain:m}}))}(a):Ue}),[a]);return r.Z.createElement(be,{width:"100%",height:300},r.Z.createElement(Ye,(0,o.Z)({data:l},ae.HourlyChart),r.Z.createElement(Ne,(0,o.Z)({dataKey:"day"},ae.XAxis)),r.Z.createElement(ke,{yAxisId:1,orientation:"right",width:45,label:"°C",dataKey:"temp",hide:t.temp}),r.Z.createElement(ke,(0,o.Z)({yAxisId:2,orientation:"right",width:80,dataKey:"pressure",type:"number",domain:["dataMin","dataMax"],label:"hPa",hide:t.pressure},ae.YAxisPressure)),r.Z.createElement(ke,(0,o.Z)({yAxisId:3,orientation:"right",width:54,label:"mm",dataKey:"rain",hide:t.rain},ae.YAxisRain)),r.Z.createElement(ke,(0,o.Z)({yAxisId:4,orientation:"right",width:45,label:"m/s",dataKey:"speed",hide:t.speed},ae.YAxisSpeed)),r.Z.createElement(De,ae.CartesianGrid),r.Z.createElement(we,{offset:24,content:r.Z.createElement(Ce,{data:l})}),r.Z.createElement(Oe,{content:r.Z.createElement(Ae,{filtered:t,onFilter:i})}),r.Z.createElement(xe,(0,o.Z)({},ae.LineTempNight,{connectNulls:!0,yAxisId:1,dataKey:Ge(t,"temp")})),r.Z.createElement(xe,(0,o.Z)({},ae.LinePressure,{connectNulls:!0,strokeDasharray:"5 5",yAxisId:2,dataKey:Ge(t,"pressure")})),r.Z.createElement(ge,{dataKey:Ge(t,"rain"),yAxisId:3,barSize:20,fill:"#0922a5"}),r.Z.createElement(xe,(0,o.Z)({connectNulls:!0},ae.LineSpeed,{strokeDasharray:"5 5",yAxisId:4,dataKey:Ge(t,"speed")}))))}),(function(){return!0}));const $e=function(e){var t=f(e);if(!t)return null;var n=t.day,i=t.uvi;return r.Z.createElement(D,{caption:n+":00"},r.Z.createElement(k,{t:"UV index",v:i}))};var We=r.Z.useMemo,Be=I.CartesianGrid,Ve=I.Line,Fe=I.YAxis,qe=I.XAxis,ze=I.ResponsiveContainer,je=I.LineChart,Je=I.Tooltip;const Qe=function(){var e=(0,s.useSelector)(R.yw.forecast),t=We((function(){return(e||[]).map((function(e){var t=e.date,n=e.value;return{day:M.Z.toDayHour(t),uvi:n}}))}),[e]);return r.Z.createElement(ze,{width:"100%",height:300},r.Z.createElement(je,(0,o.Z)({data:t},ae.HourlyChart),r.Z.createElement(qe,(0,o.Z)({dataKey:"day"},ae.XAxis)),r.Z.createElement(Fe,{yAxisId:1,orientation:"right",width:45,dataKey:"uvi"}),r.Z.createElement(Be,ae.CartesianGrid),r.Z.createElement(Je,{offset:24,content:r.Z.createElement($e,{data:t})}),r.Z.createElement(Ve,(0,o.Z)({},ae.LineTempNight,{connectNulls:!0,yAxisId:1,dataKey:"uvi"}))))};var et=i.Z.requestHourly,tt=i.Z.requestUvi,nt={TABS:{textAlign:"left"}};const rt=function(){return r.Z.createElement(a.Z,{key:"1",width:"100%",tabsStyle:nt.TABS},r.Z.createElement(l.Z,{title:"7 Days"},r.Z.createElement(Re,null)),r.Z.createElement(l.Z,{title:"5 Days/3 Hours",onClick:et},r.Z.createElement(Xe,null)),r.Z.createElement(l.Z,{title:"UV index",onClick:tt},r.Z.createElement(Qe,null)))}}}]);