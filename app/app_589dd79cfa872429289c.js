(()=>{var e={506:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},154:e=>{function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t},354:e=>{e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},757:(e,t,n)=>{e.exports=n(666)},666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),i=new A(r||[]);return a._invoke=function(e,t,n){var r=p;return function(o,a){if(r===m)throw new Error("Generator is already running");if(r===f){if("throw"===o)throw a;return I()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=S(i,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=m;var s=u(e,t,n);if("normal"===s.type){if(r=n.done?f:d,s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=f,n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var p="suspendedStart",d="suspendedYield",m="executing",f="completed",h={};function v(){}function y(){}function E(){}var g={};g[a]=function(){return this};var _=Object.getPrototypeOf,C=_&&_(_(O([])));C&&C!==n&&r.call(C,a)&&(g=C);var w=E.prototype=v.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,l){var s=u(e[o],e,a);if("throw"!==s.type){var c=s.arg,p=c.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(p).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:I}}function I(){return{value:t,done:!0}}return y.prototype=w.constructor=E,E.constructor=y,y.displayName=s(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(b.prototype),b.prototype[i]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(c(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(w),s(w,l,"Generator"),w[a]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return l.type="throw",l.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},49:(e,t,n)=>{e.exports=n(342)(1136)},201:(e,t,n)=>{e.exports=n(342)(3023)},413:(e,t,n)=>{e.exports=n(342)(3083)},687:(e,t,n)=>{e.exports=n(342)(3872)},676:(e,t,n)=>{e.exports=n(342)(3935)},581:(e,t,n)=>{e.exports=n(342)(4065)},883:(e,t,n)=>{e.exports=n(342)(4195)},816:(e,t,n)=>{e.exports=n(342)(4890)},498:(e,t,n)=>{e.exports=n(342)(5358)},240:(e,t,n)=>{e.exports=n(342)(6880)},22:(e,t,n)=>{e.exports=n(342)(7226)},198:(e,t,n)=>{e.exports=n(342)(7294)},320:(e,t,n)=>{e.exports=n(342)(7703)},215:(e,t,n)=>{e.exports=n(342)(7856)},134:(e,t,n)=>{e.exports=n(342)(8687)},993:(e,t,n)=>{e.exports=n(342)(9009)},830:(e,t,n)=>{e.exports=n(342)(9307)},342:e=>{"use strict";e.exports=lib_vendor}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(198),t=n(676),r=n(320),o=n(816),a=n(581),i="PLACE_REQUESTED",l="PLACE_REQUESTED_OK",s=function(e){return{type:i,payload:e}};const c={requested:s,requestedOk:function(e){return{type:l,forecast:e}}};var u="FORECAST_REQUESTED",p="FORECAST_REQUESTED_INCACHE",d="FORECAST_REQUESTED_OK",m=function(e){return{type:u,id:e}};const f={requested:m,requestedInCache:function(e){return{type:p,id:e}},requestedOk:function(e,t){return{type:d,forecast:e,id:t}}};var h="HOURLY_REQUESTED",v="HOURLY_REQUESTED_OK",y="HOURLY_REQUESTED_INCACHE",E=function(){return{type:h}};const g={requested:E,requestedOk:function(e,t){return{type:v,hourly:e,id:t}},requestedInCache:function(){return{type:y}}};var _="UV_REQUESTED",C="UV_REQUESTED_OK",w="UV_REQUESTED_INCACHE",x=function(){return{type:_}};const b={requested:x,requestedOk:function(e,t){return{type:C,json:e,id:t}},requestedInCache:function(){return{type:w}}};var S=n(154),T=n.n(S),k="MODAL_SHOW",A=function(e,t){return T()({type:k,id:e},t)};const O={showModal:A};var I="INITIAL",L="LOADING",R="SUCCESS",N="FAILED";const D=function(e,t){switch(void 0===e&&(e=I),t.type){case k:return"ERROR"===t.id?N:e;case i:case u:case h:case _:return L;case l:case d:case p:case v:case y:case C:case w:return R;default:return e}};var M="TOGGLE_LAYOUT",P="SET_THEME_NAME",B=function(e){return{type:M,key:e}},G=function(e){return{type:P,themeName:e}};var U={themeName:"GREY",isPopupForecast:!0,isSettings:!1,isPushMenu:!1};const K=function(e,t){switch(void 0===e&&(e=U),t.type){case k:return"SETTINGS"===t.id?T()({},e,{isSettings:!0}):e;case M:var n=t.key;return e[n]=!e[n],T()({},e);case P:return e.themeName=t.themeName,T()({},e);default:return e}};var H={id:void 0};const W=function(e,t){switch(void 0===e&&(e=H),t.type){case k:var n=t.id,r=t.errMsg;return e.id=n,e.errMsg=r,T()({},e);default:return e}};var Y="SETTINGS_SET",F="SETTINGS_SET_APIKEY",V=function(e){return{type:Y,apiKey:e}};const q={setSettings:V,setApiKey:function(){return{type:F}}};var z={isApiKey:!1};const j=function(e,t){switch(void 0===e&&(e=z),t.type){case F:return e.isApiKey=!0,T()({},e);default:return e}};const X=function(e,t){switch(void 0===e&&(e={}),t.type){case l:var n=t.forecast,r=void 0===n?{}:n,o=r.id,a=void 0===o?"id":o;return e.recent=a,e[a]=r,T()({},e);default:return e}};const Q=function(e,t){switch(void 0===e&&(e={}),void 0===t&&(t={}),t.type){case d:return e.recent=t.id,e[t.id]=t.forecast,T()({},e);case p:return e.recent=t.id,T()({},e);default:return e}};const Z=function(e,t){switch(void 0===e&&(e={}),t.type){case v:return e.recent=t.id,e[t.id]=t.hourly,T()({},e);default:return e}};const J=function(e,t){switch(void 0===e&&(e={}),t.type){case C:return e.recent=t.id,e[t.id]=t.json,T()({},e);default:return e}};const $=(0,o.combineReducers)({fetching:D,layout:K,modal:W,settings:j,place:X,forecast:Q,hourly:Z,uv:J});var ee=n(757),te=n.n(ee),ne=function(e){return"@@redux-saga/"+e},re=ne("CANCEL_PROMISE"),oe=ne("IO"),ae=ne("MULTICAST"),ie=function(e){return"function"==typeof e},le=function(e){return"string"==typeof e},se=Array.isArray,ce=function e(t){return t&&(le(t)||pe(t)||ie(t)||se(t)&&t.every(e))},ue=function(e){return e&&ie(e.take)&&ie(e.close)},pe=function(e){return Boolean(e)&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};const de=function(e,t){var n;void 0===t&&(t=!0);var r=new Promise((function(r){n=setTimeout(r,e,t)}));return r[re]=function(){clearTimeout(n)},r};var me=function(e){return e};"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var fe=function(e){throw e},he=function(e){return{value:e,done:!0}};function ve(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,o=0,a=0,i=function(t){n[o]=t,o=(o+1)%e,r++},l=function(){if(0!=r){var t=n[a];return n[a]=null,r--,a=(a+1)%e,t}},s=function(){for(var e=[];r;)e.push(l());return e};return{isEmpty:function(){return 0==r},put:function(l){var c;if(r<e)i(l);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[o]=l,a=o=(o+1)%e;break;case 4:c=2*e,n=s(),r=n.length,o=n.length,a=0,n.length=c,e=c,i(l)}},take:l,flush:s}}var ye=function(e){return ve(e,3)},Ee="TAKE",ge="CALL",_e="FORK",Ce="SELECT",we="ACTION_CHANNEL",xe=function(e,t){var n;return(n={})[oe]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function be(e,t){return void 0===e&&(e="*"),ce(e)?xe(Ee,{pattern:e}):ue(n=e)&&n[ae]&&null!=t&&ce(t)?xe(Ee,{channel:e,pattern:t}):ue(e)?xe(Ee,{channel:e}):void 0;var n}function Se(e,t){return null==t&&(t=e,e=void 0),xe("PUT",{channel:e,action:t})}function Te(e,t){var n,r=null;return ie(e)?n=e:(se(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&le(n)&&ie(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function ke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xe(ge,Te(e,n))}function Ae(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xe(_e,Te(e,n))}function Oe(e){void 0===e&&(e=me);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xe(Ce,{selector:e,args:n})}function Ie(e,t){return xe(we,{pattern:e,buffer:t})}var Le=ke.bind(null,de),Re=function(e){return{done:!0,value:e}},Ne={};function De(e){return ue(e)?"channel":ie(t=e)&&t.hasOwnProperty("toString")?String(e):ie(e)?e.name:String(e);var t}function Me(e,t,n){var r,o,a,i=t;function l(t,n){if(i===Ne)return Re(t);if(n&&!o)throw i=Ne,n;r&&r(t);var l=n?e[o](n):e[i]();return i=l.nextState,a=l.effect,r=l.stateUpdater,o=l.errorState,i===Ne?Re(t):a}return function(e,t,n){void 0===t&&(t=fe),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:he,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}(l,(function(e){return l(null,e)}),n)}function Pe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a,i={done:!1,value:be(e)},l=function(e){return{done:!1,value:Ae.apply(void 0,[t].concat(r,[e]))}},s=function(e){return a=e};return Me({q1:function(){return{nextState:"q2",effect:i,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:l(a)}}},"q1","takeEvery("+De(e)+", "+t.name+")")}function Be(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];var i,l,s={done:!1,value:Ie(t,ye(1))},c=function(){return{done:!1,value:be(l)}},u=function(e){return{done:!1,value:Ae.apply(void 0,[n].concat(o,[e]))}},p={done:!1,value:Le(e)},d=function(e){return i=e},m=function(e){return l=e};return Me({q1:function(){return{nextState:"q2",effect:s,stateUpdater:m}},q2:function(){return{nextState:"q3",effect:c(),stateUpdater:d}},q3:function(){return{nextState:"q4",effect:u(i)}},q4:function(){return{nextState:"q2",effect:p}}},"q1","throttle("+De(t)+", "+n.name+")")}function Ge(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return Ae.apply(void 0,[Pe,e,t].concat(r))}function Ue(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];return Ae.apply(void 0,[Be,e,t,n].concat(o))}var Ke,He={recent:function(e){return function(e){return e.recent}(e.place)},byId:function(e,t){return function(e,t){return e[t]}(e.place,t)},forecast:function(e){var t=He.recent(e);return t?He.byId(e,t):void 0}},We={byId:function(e,t){return function(e,t){return e[t]}(e.forecast,t)},recent:function(e){return function(e){return e.recent}(e.forecast)},listById:function(e,t){return function(e,t){return e[t].list}(e.forecast,t)},cityCoordById:function(e,t){return function(e,t){return e[t].city.coord}(e.forecast,t)},forecast:function(e){var t=We.recent(e);return t?We.byId(e,t):void 0}},Ye={recent:function(e){return function(e){return e.recent}(e.hourly)},byId:function(e,t){return(function(e,t){return e[t]}(e.hourly,t)||{}).list},forecast:function(e){var t=Ye.recent(e);return t?Ye.byId(e,t):void 0}},Fe={recent:function(e){return function(e){return e.recent}(e.uv)},byId:function(e,t){return function(e,t){return e[t]}(e.uv,t)},forecast:function(e){var t=Fe.recent(e);return t?(Fe.byId(e,t)||{}).list:void 0}},Ve=function(e){return function(e){return e.isApiKey}(e.settings)},qe=function(e){return function(e){return e.errMsg}(e.modal)},ze=te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(Ve);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),je="&units=metric",Xe="&lang=en",Qe="https://api.openweathermap.org/data/2.5/",Ze=51.48,Je=-.13,$e=function(e,t){return void 0===t&&(t=2),"number"==typeof e&&e-e==0?parseFloat(e.toFixed(t)):e};const et={setApiKey:function(e){return Ke=e,Promise.resolve(!0)},crForecast:function(e,t){return void 0===e&&(e=Ze),void 0===t&&(t=Je),Qe+"weather?appid="+Ke+je+Xe+"&lat="+e+"&lon="+t},crForecastById:function(e){return Qe+"forecast/daily?appid="+Ke+"&cnt=7"+je+"&id="+e+Xe},crHourlyById:function(e){return""+Qe+"forecast?appid="+Ke+je+"&id="+e+Xe},crUV:function(e,t){return void 0===e&&(e=Ze),void 0===t&&(t=Je),Qe+"uvi/"+"forecast?lat="+$e(e)+"&lon="+$e(t)+"&appid="+Ke}};var tt="HTTP Status",nt="Loading error. Please, check your network connection.";const rt=function(e){return fetch(e).then((function(e){var t=e.status;return Promise.all([e.json(),Promise.resolve(t)])})).then((function(e){var t=e[0],n=e[1];if(n>=200&&n<300)return t;if(n>=400&&n<500){var r=t.message;throw new Error(tt+": "+n+". "+r)}throw new Error(tt+": "+n)})).catch((function(e){var t=e.message,n=void 0===t?"":t;if(-1!==n.indexOf(tt))throw new Error(n);throw new Error(nt+" "+n)}))};var ot=te().mark((function e(t){var n,r,o,a,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(ze(),"t0",2);case 2:if(!e.t0){e.next=13;break}return n=t.payload,o=(r=void 0===n?{}:n).lat,a=r.lot,e.next=8,ke(rt,et.crForecast(o,a));case 8:return i=e.sent,e.next=11,Se(c.requestedOk(i));case 11:e.next=15;break;case 13:return e.next=15,Se(O.showModal("SETTINGS"));case 15:e.next=21;break;case 17:return e.prev=17,e.t1=e.catch(0),e.next=21,Se(O.showModal("ERROR",{errMsg:e.t1.message}));case 21:case"end":return e.stop()}}),e,null,[[0,17]])}));const at=te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(i,ot);case 2:case"end":return e.stop()}}),e)}));var it=te().mark((function e(t){var n,r,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe();case 3:if(n=e.sent,r=t.id,We.byId(n,r)){e.next=13;break}return e.next=8,ke(rt,et.crForecastById(r));case 8:return o=e.sent,e.next=11,Se(f.requestedOk(o,r));case 11:e.next=15;break;case 13:return e.next=15,Se(f.requestedInCache(r));case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),e.next=21,Se(O.showModal("ERROR",{errMsg:e.t0.message}));case 21:case"end":return e.stop()}}),e,null,[[0,17]])}));const lt=te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(u,it);case 2:case"end":return e.stop()}}),e)}));var st=te().mark((function e(t){var n,r,o,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe();case 3:if(n=e.sent,r=We.recent(n),o=Ye.recent(n),!r||o===r){e.next=14;break}return e.next=9,ke(rt,et.crHourlyById(r));case 9:return a=e.sent,e.next=12,Se(g.requestedOk(a,r));case 12:e.next=16;break;case 14:return e.next=16,Se(g.requestedInCache(r));case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(0),e.next=22,Se(O.showModal("ERROR",{errMsg:e.t0.message}));case 22:case"end":return e.stop()}}),e,null,[[0,18]])}));const ct=te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(h,st);case 2:case"end":return e.stop()}}),e)}));var ut=te().mark((function e(t){var n,r,o,a,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe();case 3:if(n=e.sent,r=We.recent(n),o=Fe.recent(n),!r||o===r){e.next=15;break}return a=We.cityCoordById(n,r),e.next=10,ke(rt,et.crUV(a.lat,a.lon));case 10:return i=e.sent,e.next=13,Se(b.requestedOk(i,r));case 13:e.next=17;break;case 15:return e.next=17,Se(b.requestedInCache());case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(0),e.next=23,Se(O.showModal("ERROR",{errMsg:e.t0.message}));case 23:case"end":return e.stop()}}),e,null,[[0,19]])}));const pt=te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(_,ut);case 2:case"end":return e.stop()}}),e)}));var dt=te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(et.setApiKey,t.apiKey);case 2:return e.next=4,Se(q.setApiKey());case 4:case"end":return e.stop()}}),e)}));const mt=te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(500,Y,dt);case 2:case"end":return e.stop()}}),e)}));const ft=te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t=[at(),lt(),ct(),pt(),mt()],n=void 0,(n=xe("ALL",t)).combinator=!0,n;case 2:case"end":return e.stop()}var t,n}),e)}));var ht=(0,a.default)(ft);const vt=function(){var e=[ht],t=o.compose,n=(0,o.createStore)($,t(o.applyMiddleware.apply(void 0,e)));return ht.run(ft),n}(),yt=e;const Et=yt.createContext();var gt,_t=Object.assign,Ct={},wt={BG:"grey",BG_MARK:"#646464",BG_DIALOG:"#4d4d4d"},xt={BG:"#e8e0cb",BG_MARK:"grey",BG_DIALOG:"#e8e0cb"},bt={BG:"white",BG_MARK:"grey",BG_DIALOG:"white"},St="GREY",Tt="SAND",kt="WHITE",At={BG:{},BG_MARK:{},DIALOG:{},LABEL:{color:"#795548"},DAY:{color:"#8bc34a"},TEMP_DAY:{color:"#ff9800"},TEMP_NIGHT:{color:"#434348"}},Ot=[function(e){e.BG.backgroundColor=Ct.BG},function(e){e.BG_MARK.backgroundColor=Ct.BG_MARK},function(e){e.DIALOG.backgroundColor=Ct.BG_DIALOG}],It=function(e){Ot.forEach((function(t){return t(e)}))},Lt=function(){[].concat(document.querySelectorAll(".leaflet-popup-content-wrapper")).forEach((function(e){e&&e.style&&(e.style.backgroundColor=Ct.BG)}))},Rt=((gt={})["GREY"]=function(){_t(Ct,wt),It(At),Lt()},gt[Tt]=function(){_t(Ct,xt),It(At),Lt()},gt[kt]=function(){_t(Ct,bt),It(At),Lt()},gt),Nt={themeName:St,_init:function(){this.setThemeName(St)},getThemeName:function(){return this.themeName},setThemeName:function(e){this.themeName=e,Rt[e]()},createStyle:function(e){return this.themeName!==e._themeName&&(e._style=e._createStyle(At,this.themeName),e._themeName=this.themeName),e._style}};Nt._init();const Dt=Nt;var Mt={backgroundColor:"#787878",border:"1px solid #999",borderRadius:"12px",boxShadow:"rgba(0, 0, 0, 0.2) 0px 0px 0px 12px"},Pt=n(354),Bt=n.n(Pt),Gt=yt.Component;const Ut=function(e){return function(t){function n(){return t.apply(this,arguments)||this}return Bt()(n,t),n.prototype.render=function(){var t=this;return yt.createElement(Et.Consumer,null,(function(n){return yt.createElement(e,T()({},t.props,{theme:n}))}))},n}(Gt)};const Kt={_themeName:void 0,_style:void 0,_createStyle:function(e){return{R_DIALOG:T()({},e.DIALOG)}}};var Ht={SVG:{padding:3}};const Wt=function(e){var t=e.style,n=e.onClose;return yt.createElement("div",{className:"svg-close",style:t,onClick:n},yt.createElement("svg",{viewBox:"0 0 12 12",width:"100%",height:"100%",style:Ht.SVG,preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"},yt.createElement("path",{d:"M 0,0 L 12,12",strokeWidth:"2",stroke:"#ED5813",strokeLinecap:"round"}),yt.createElement("path",{d:"M 12,0 L 0,12",strokeWidth:"2",stroke:"#ED5813",strokeLinecap:"round"})))};var Yt="bt-raised",Ft="bt-raised__div",Vt="bt-raised__span",qt={PRIMARY_SPAN:{color:"greenyellow"}};const zt=function(e){var t=e.rootStyle,n=e.clDiv,r=void 0===n?Ft:n,o=e.caption,a=e.isPrimary,i=e.onClick,l=a?qt.PRIMARY_SPAN:void 0;return yt.createElement("button",{tabIndex:0,className:Yt,style:t,onClick:i},yt.createElement("div",{className:r},yt.createElement("span",{className:Vt,style:l},o)))};var jt=yt.Component,Xt="show-popup",Qt="hide-popup",Zt={SHOW:{display:"block"},HIDE:{display:"none"},HIDE_POPUP:{opacity:0,transform:"scaleY(0)"},ROOT_DIV:{position:"absolute",top:"15%",left:"40%",display:"block",backgroundColor:"#4D4D4D",border:"solid 2px #3f5178",borderRadius:"5px",boxShadow:"rgba(0, 0, 0, 0.2) 0px 0px 0px 6px",zIndex:10},CAPTON_DIV:{padding:"5px",color:"#9e9e9e",backgroundColor:"#3f5178",textAlign:"center",fontSize:"18px"},COMMAND_DIV:{cursor:"default",float:"right",marginTop:"8px",marginBottom:"10px",marginRight:"4px"}},Jt=function(e){function t(t){var n;return(n=e.call(this)||this)._renderCommandButton=function(){var e=n.props,t=e.commandButtons,r=e.commandStyle,o=e.withoutClose,a=e.onClose;return yt.createElement("div",{style:T()({},Zt.COMMAND_DIV,r)},t,!o&&yt.createElement(zt,{isPrimary:!0,caption:"Close",onClick:a}))},n.wasClosing=!1,n}Bt()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return e===this.props||!e.isNotUpdate},n.componentDidUpdate=function(e,t){var n=this;this.wasClosing&&setTimeout((function(){n.setState({})}),this.props.timeout)},n._handleClickDialog=function(e){e.stopPropagation()},n.render=function(){var e,t,n=this.props,r=n.isShow,o=n.isWithButton,a=n.style,i=n.caption,l=n.styleCaption,s=n.children,c=n.childrenStyle,u=n.onClose;return this.wasClosing?(t=Zt.HIDE,this.wasClosing=!1):(e=r?Xt:Qt,t=r?Zt.SHOW:Zt.HIDE_POPUP,r||(this.wasClosing=!0)),yt.createElement("div",{className:e,style:T()({},Zt.ROOT_DIV,a,t),onClick:this._handleClickDialog},yt.createElement("div",{style:Zt.CAPTON_DIV},yt.createElement("span",{style:l},i),yt.createElement(Wt,{onClose:u})),yt.createElement("div",{style:c},s),o&&this._renderCommandButton())},t}(jt);Jt.defaultProps={isWithButton:!0,isNotUpdate:!1,timeout:450};const $t=Jt;var en=n(506),tn=n.n(en),nn=yt.Component,rn={UL:{listStyle:"outside none none",marginTop:5,marginLeft:10,marginRight:5,marginBottom:5,textAlign:"center"},TABS:{width:"100%",height:"100%"},TAB_SELECTED:{display:"block",width:"100%",height:"100%"},NONE:{display:"none"}};const on=function(e){function t(t){var n;(n=e.call(this,t)||this)._handlerClickTab=function(e,t){n.setState({selectedTabIndex:e}),"function"==typeof t.props.onClick&&t.props.onClick()},n._renderTabs=function(e){var t=n.state.selectedTabIndex;return e.map((function(e,r){var o=r===t;return yt.cloneElement(e,{key:r,id:r,onClick:n._handlerClickTab.bind(tn()(n),r,e),isSelected:o})}))},n._renderComponents=function(){var e=n.state,t=e.selectedTabIndex;return e.components.map((function(e,n){var r=n===t?rn.TAB_SELECTED:rn.NONE;return yt.createElement("div",{style:r,key:"a"+n,role:"tabpanel",id:"tabpanel-"+n,"aria-labelledby":"tab-"+n},e)}))};var r=t.children.map((function(e,t){return yt.cloneElement(e.props.children,{key:"comp"+t})}));return n.state={selectedTabIndex:0,components:r},n}Bt()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.width,n=e.height,r=e.tabsStyle,o=e.children;return yt.createElement("div",{style:{width:t,height:n}},yt.createElement("ul",{style:T()({},rn.UL,r)},this._renderTabs(o)),yt.createElement("div",{style:rn.TABS},this._renderComponents()))},n.getSelectedTabIndex=function(){return this.state.selectedTabIndex},t}(nn);var an={BT:{color:"#2f7ed8",borderBottom:"3px solid #2f7ed8"},TITLE:{color:"#2f7ed8"}};const ln=function(e){var t=e.id,n=e.title,r=e.isSelected,o=e.onClick,a=r?an.BT:null,i=r?an.TITLE:null;return yt.createElement("button",{className:"tab",style:a,id:"tab-"+t,role:"tab","aria-selected":r,"aria-controls":"tabpanel-"+t,tabIndex:"0",onClick:o},yt.createElement("span",{style:i},n))};var sn=yt.Component,cn="m-select",un="m-select__label",pn="m-textfield-input__div",dn="m-textfield-input",mn="m-input__line",fn="m-input__msg-err",hn={LABEL_TO_INPUT:{transform:"scale(1) translate(0px, -6px)"},LABEL_ON_ERROR:{color:"#F44336"},LINE_ERROR:{borderBottom:"2px solid #F44336"}},vn=function(e){function t(t){var n;return(n=e.call(this,t)||this)._handleFocusInput=function(){n.isFocus=!0,n.forceUpdate()},n._handleBlurInput=function(){n.isFocus=!1,n.forceUpdate()},n._clearAttrValue=function(){n._clearId=setTimeout((function(){var e=n._input;e&&e.hasAttribute("value")&&e.removeAttribute("value")}))},n._hInputChange=function(e){n.setState({value:e.target.value.trim(),isPassTest:n.props.onTest(e.target.value.trim())})},n._hKeyDown=function(e){46===e.keyCode?n.setState({value:""}):13===e.keyCode&&(e.preventDefault(),n.props.onEnter(e.target.value),n._wasEnter=!0,n.forceUpdate(n._clearWasEnter))},n._hMaskInputChange=function(e){var t=e.target.value;n._value=function(e,t){var n;if(e){var r=e.length,o=t.length;n=o>r?e+t.substr(r):e.substr(0,o)}else n=t;return n.trim()}(n._value,t);var r=function(e){void 0===e&&(e=0);for(var t=0,n="";t<e;t++)n+="X";return n}(n._value.length);n.setState({value:r,isPassTest:n.props.onTest(n._value)})},n._hMaskKeyDown=function(e){46===e.keyCode||27===e.keyCode?(n._value="",n.setState({value:""})):13===e.keyCode&&n.props.onEnter(e.target.value)},n._isValue=function(e){return e?!!n._input&&!!n._input.value:!!n.state.value},n._refInput=function(e){return n._input=e},n.isFocus=!1,n._id=t.name+"_sf",n.state={value:"",isPassTest:!0},n}Bt()(t,e);var n=t.prototype;return n.componentWillUnmound=function(){clearTimeout(this._clearId)},n.render=function(){var e=this.props,t=e.rootStyle,n=e.caption,r=e.isAllowRemember,o=e.name,a=e.maxLength,i=e.errorMsg,l=void 0===i?"":i,s=this.state,c=s.value,u=s.isPassTest,p=this._isValue(r)||this.isFocus?void 0:hn.LABEL_TO_INPUT,d=u?void 0:hn.LABEL_ON_ERROR,m=u?void 0:hn.LINE_ERROR,f=r?{autoComplete:"current-password",value:c,onChange:this._hInputChange,onKeyDown:this._hKeyDown}:{autoComplete:"off",value:c,onChange:this._hMaskInputChange,onKeyDown:this._hMaskKeyDown};return yt.createElement("form",{className:cn,style:t},yt.createElement("label",{className:un,style:T()({},p,d),htmlFor:this._id},n),yt.createElement("div",{className:pn},yt.createElement("input",{hidden:!0,autoComplete:"username",value:o,readOnly:!0}),yt.createElement("input",T()({ref:this._refInput,id:this._id,type:"password",className:dn,maxLength:a,onFocus:this._handleFocusInput,onBlur:this._handleBlurInput},f)),yt.createElement("div",{className:mn,style:m}),m&&yt.createElement("div",{className:fn},l)))},n.componentDidUpdate=function(e){this.props!==e&&this.props.isAllowRemember!==e.isAllowRemember&&(this._input.value="",this.props.isAllowRemember&&(this._value="",this.setState({value:""}))),this._clearAttrValue()},n.getValue=function(){return this.props.isAllowRemember&&this._input?this._input.value:String(this._value).trim()},t}(sn);vn.defaultProps={name:"pwd",maxLength:"32",onTest:function(){return!0},onEnter:function(){}};const yn=vn;const En={YELLOW:"#f1d600",BROWN:"#795548",GREY:"#777777",BLANK:"rgba(0, 0, 0, 0)"};var gn=yt.Component,_n={DIV:{display:"inline-block",width:16,height:16,cursor:"pointer"},SVG:{display:"inline-block"}},Cn=yt.createElement("path",{d:"M 2,3 L 8,14 14,3",strokeWidth:"2",stroke:En.YELLOW,fill:En.BLANK}),wn=function(e){return"function"==typeof e};const xn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._hClick=function(){var e=t.props,n=e.value,r=e.onCheck,o=e.onUnCheck;!n&&wn(r)?r(tn()(t)):wn(o)&&o(tn()(t))},t}return Bt()(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.value?Cn:null;return yt.createElement("div",{style:T()({},_n.DIV,t),onClick:this._hClick},yt.createElement("svg",{viewBox:"0 0 16 16",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:_n.SVG},yt.createElement("rect",{x:"1",y:"1",height:"14",width:"14",strokeWidth:"2",rx:"3",stroke:En.GREY,fill:En.BLANK}),n))},t}(gn);var bn=yt.Component,Sn={ROOT:{paddingTop:"6px",paddingLeft:"16px"},CAPTION:{display:"inline-block",color:"grey",paddingLeft:"12px",fontSize:"16px",fontWeight:"bold",userSelect:"none",cursor:"pointer"},CHECKED:{color:"black"}};const Tn=function(e){function t(t){var n;return(n=e.call(this)||this)._handleCheck=function(){var e=n.props.onCheck;"function"==typeof e&&e(),n.setState({isChecked:!0})},n._handleUnCheck=function(){var e=n.props.onUnCheck;"function"==typeof e&&e(),n.setState({isChecked:!1})},n._handleToggle=function(){n.state.isChecked?n._handleUnCheck():n._handleCheck()},n.state={isChecked:!!t.initValue},n}return Bt()(t,e),t.prototype.render=function(){var e=this.props,t=e.rootStyle,n=e.caption,r=e.captionStyle,o=this.state.isChecked,a=o?Sn.CHECKED:null;return yt.createElement("div",{style:T()({},Sn.ROOT,t)},yt.createElement(xn,{value:o,onCheck:this._handleCheck,onUnCheck:this._handleUnCheck}),n&&yt.createElement("span",{style:T()({},Sn.CAPTION,r,a),onClick:this._handleToggle},n))},t}(bn);var kn=yt.Component,An={ROOT:{position:"relative",height:"200px"},SECRET:{width:"280px"},CHECK_BOX:{paddingLeft:"24px",paddingTop:"16px",paddingRight:"24px"},CHECK_CAPTION:{display:"inline"},BUTTONS:{position:"absolute",right:"4px",bottom:0,cursor:"default"}};const On=function(e){function t(t){var n;return(n=e.call(this,t)||this)._checkAllow=function(){n.setState({isAllow:!0})},n._uncheckAllow=function(){n.setState({isAllow:!1})},n._refInput=function(e){return n._input=e},n.state={isAllow:!1},n}Bt()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.style,n=e.buttonsStyle,r=e.onClose,o=e.onSet,a=this.state.isAllow;return yt.createElement("div",{style:t},yt.createElement(yn,{ref:this._refInput,rootStyle:An.SECRET,caption:"OpenWeatherMap API Key",isAllowRemember:a,name:"openweathermap"}),yt.createElement(Tn,{rootStyle:An.CHECK_BOX,initValue:!1,caption:"Allow Remember Enter of API Key by Browser Password Manager",captionStyle:An.CHECK_CAPTION,onCheck:this._checkAllow,onUnCheck:this._uncheckAllow}),yt.createElement("div",{style:n},yt.createElement(zt,{caption:"Set & Close",onClick:o}),yt.createElement(zt,{isPrimary:!0,caption:"Close",onClick:r})))},n.getValue=function(){return this._input.getValue()},t}(kn);var In={SVG:{display:"inline-block",color:"black",fill:"black",height:"24px",width:"24px",userSelect:"none",transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms"}};const Ln=function(){return yt.createElement("svg",{viewBox:"0 0 24 24",style:In.ROOT},yt.createElement("path",{d:"M7 10l5 5 5-5z"}))};var Rn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._handleClickOutside=function(e){var n=t.props.onClose;t.rootNode&&!t.rootNode.contains(e.target)&&n(e)},t._refRootNode=function(e){return t.rootNode=e},t}Bt()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){this.props!==e&&(this.props.isShow?document.addEventListener("click",this._handleClickOutside,!0):document.removeEventListener("click",this._handleClickOutside,!0))},n.render=function(){var e=this.props,t=e.style,n=e.children;return yt.createElement("div",{style:t,ref:this._refRootNode},n)},t}(yt.Component);Rn.defaultProps={onClose:function(){}};const Nn=Rn;var Dn={SHOW:{display:"block"},HIDE:{display:"none"}};const Mn=function(e){var t=e.isShow,n=e.className,r=e.style,o=e.children,a=t?Dn.SHOW:Dn.HIDE,i=t?"show-popup":"",l=n?n+" "+i:i||void 0;return yt.createElement("div",{className:l,style:T()({},r,a)},o)};var Pn={PANE:{position:"absolute",top:12,zIndex:"20",width:"100%",paddingTop:12,paddingBottom:12,backgroundColor:"rgb(77, 77, 77)",borderRadius:2,boxShadow:"rgba(0, 0, 0, 0.3) 0px 2px 2px 0px, rgba(0, 0, 0, 0.1) 0px 0px 0px 1px"},ITEM:{color:"greenyellow"}};const Bn=function(e){var t=e.isShow,n=e.options,r=e.item,o=e.rootStyle,a=e.clItem,i=e.onSelect,l=e.onClose;return yt.createElement(Nn,{style:o,isShow:t,onClose:l},yt.createElement(Mn,{isShow:t,style:T()({},Pn.PANE,o)},function(e,t,n,r,o){return e.map((function(e,o){var a=e.value===t.value?Pn.ITEM:void 0;return yt.createElement("div",{key:o,style:a,className:n,onClick:r.bind(null,e)},e.caption)}))}(n,r,a,i)))};var Gn=yt.Component,Un="m-select",Kn="m-select__label",Hn="m-select__div",Wn="m-select__div__value",Yn="m-select__div__bt",Fn="m-select__line",Vn="m-select__item",qn=function(e){function t(t){var n;return(n=e.call(this)||this)._handleOpen=function(){n.setState({isShow:!0})},n._handleClose=function(){n.setState({isShow:!1})},n._handleSelect=function(e,t){t.stopPropagation(),n.props.onSelect(e),n.setState({isShow:!1,item:e})},n.state={isShow:!1,item:t.initItem},n}return Bt()(t,e),t.prototype.render=function(){var e=this.props,t=e.caption,n=e.options,r=e.styleConfig,o=void 0===r?{}:r,a=e.selectedItem,i=this.state,l=i.isShow,s=i.item,c=a||s;return yt.createElement("div",{className:Un,style:o.ROOT,onClick:this._handleOpen},yt.createElement(Bn,{rootStyle:o.MODAL_PANE,isShow:l,item:c,options:n,clItem:o.CL_ITEM||Vn,onSelect:this._handleSelect,onClose:this._handleClose}),yt.createElement("label",{className:Kn},t),yt.createElement("div",{className:Hn},yt.createElement("div",{className:Wn},c.caption),yt.createElement("button",{className:Yn,tabIndex:"0"},yt.createElement("div",null,yt.createElement(Ln,null))),yt.createElement("div",{className:Fn})))},t}(Gn);qn.defaultProps={initItem:{caption:"",value:""}};const zn=qn;var jn=yt.Component,Xn={SELECT:{ROOT:{width:"280px"}}},Qn={caption:"Grey",value:"GREY"},Zn=[{caption:"Grey",value:"GREY"},{caption:"Sand",value:"SAND"},{caption:"White",value:"WHITE"}];const Jn=function(e){function t(){return e.apply(this,arguments)||this}return Bt()(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.buttonsStyle,r=e.onSetTheme,o=e.onClose;return yt.createElement("div",{style:t},yt.createElement(zn,{styleConfig:Xn.SELECT,caption:"Theme (Default: Grey)",initItem:Qn,options:Zn,onSelect:r}),yt.createElement("div",{style:n},yt.createElement(zt,{isPrimary:!0,caption:"Close",onClick:o})))},t}(jn);var $n=yt.Component,er={MODAL:{position:"static",width:"342px",height:"285px",margin:"70px auto 0px"},TABS:{textAlign:"left",marginLeft:"24px"},TAB_SELECTED:{color:"black"},CARD_ROOT:{position:"relative",height:"200px"},CARD_BUTTONS:{position:"absolute",right:"4px",bottom:0,cursor:"default"}};const tr=Ut(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._isNextPropIsShowSame=function(e){return e!==t.props&&e.isShow===t.props.isShow},t._handleSet=function(){var e=t.props,n=e.data,r=e.onClose;(0,n.onSet)(t.inputApiKey.getValue()),r()},t._handleSetTheme=function(e){var n=t.props,r=n.theme,o=n.data.onSetTheme,a=r.themeName;o(r,e.value),a!==e.value&&t.forceUpdate()},t._refInput=function(e){return t.inputApiKey=e},t}Bt()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return!this._isNextPropIsShowSame(e)},n.render=function(){var e=this.props,t=e.theme,n=e.isShow,r=e.onClose,o=t.createStyle(Kt);return yt.createElement($t,{style:T()({},er.MODAL,o.R_DIALOG),caption:"User Settings",isShow:n,isWithButton:!1,onClose:r},yt.createElement(on,{width:"100%",tabsStyle:er.TABS},yt.createElement(ln,{title:"API Key",selectedStyle:er.TAB_SELECTED},yt.createElement(On,{ref:this._refInput,style:er.CARD_ROOT,buttonsStyle:er.CARD_BUTTONS,onSet:this._handleSet,onClose:r})),yt.createElement(ln,{title:"UI Theme",selectedStyle:er.TAB_SELECTED},yt.createElement(Jn,{style:er.CARD_ROOT,buttonsStyle:er.CARD_BUTTONS,onSetTheme:this._handleSetTheme,onClose:r}))))},t}($n));var nr=yt.Component,rr={MODAL:{position:"static",width:"335px",height:"285px",margin:"70px auto 0px"},MSG:{height:"200px",lineHeight:1.2,padding:"16px",fontWeight:600}};const or={SETTINGS:tr,ERROR:Ut(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._isNextPropIsShowSame=function(e){return e!==t.props&&e.isShow===t.props.isShow},t}Bt()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return!this._isNextPropIsShowSame(e)},n.render=function(){var e=this.props,t=e.theme,n=e.isShow,r=e.store,o=e.onClose,a=t.createStyle(Kt),i=qe(r.getState());return yt.createElement($t,{style:T()({},rr.MODAL,a.R_DIALOG),caption:"Error Description",isShow:n,onClose:o},yt.createElement("div",{style:rr.MSG},i))},t}(nr))};const ar={getData:function(e,t){switch(t){case"SETTINGS":return{onSet:function(t){e.dispatch(V(t))},onSetTheme:function(t,n){t.setThemeName(n),e.dispatch(G(n))},onBeforeClose:function(){e.dispatch(B("isSettings"))}};default:return}}};var ir=yt.Component,lr="modal-root",sr="modal-root show-modal",cr="modal-root hide-modal",ur={SHOW:{display:"block"},HIDE:{display:"none"},HIDE_BACKGROUND:{backgroundColor:"rgba(0,0,0, 0)"}},pr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).wasClosing=!0,t}Bt()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){var n=this;this.wasClosing&&setTimeout((function(){n.setState({})}),this.props.timeout)},n.render=function(){var e,t,n=this.props,r=n.isShow,o=n.children,a=n.onClose;return this.wasClosing?(e=lr,t=ur.HIDE,this.wasClosing=!1):(e=r?sr:cr,t=r?ur.SHOW:ur.HIDE_BACKGROUND,r||(this.wasClosing=!0)),yt.createElement("div",{className:e,style:t,onClick:a},o)},t}(ir);pr.defaultProps={timeout:450};const dr=pr;const mr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isShow:!1,inits:{},shows:{},data:{},dialogs:[],currentDialog:null},t._onStore=function(){var e=t.props.store,n=e.getState().modal,r=n.id;if(r&&t.modal!==n){t.modal=n;var o=t.state,a=o.inits,i=o.shows,l=o.data,s=o.dialogs;a[r]?(i[r]=!0,t.setState({isShow:!0,currentDialog:r,shows:i,data:l})):(s.push({type:r,comp:or[r]}),l[r]=ar.getData(e,r),a[r]=!0,i[r]=!0,t.setState({isShow:!0,currentDialog:r,shows:i,data:l,dialogs:s}))}},t._handleClose=function(e){var n=(t.state.data[e]||{}).onBeforeClose;"function"==typeof n&&n(),t.setState((function(t){return t.shows[e]=!1,{isShow:!1,currentDialog:null,shows:t.shows}}))},t._renderDialogs=function(){var e=t.props.store,n=t.state,r=n.shows,o=n.data;return n.dialogs.map((function(n){var a=n.type,i=n.comp;return yt.createElement(i,{key:a,isShow:r[a],data:o[a],store:e,onClose:t._handleClose.bind(null,a)})}))},t}Bt()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unsubscribe=this.props.store.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.state,t=e.isShow,n=e.currentDialog;return yt.createElement(dr,{isShow:t,onClose:this._handleClose.bind(null,n)},this._renderDialogs())},t}(yt.Component);var fr=yt.useContext;const hr=function(e){return fr(Et).createStyle(e)};var vr=yt.PureComponent,yr="width 500ms ease-out",Er="opacity 400ms linear",gr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).wasCompleted=!1,t.idCompleted=null,t.wasOpacied=!1,t.idOpacied=null,t}Bt()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.idCompleted&&clearTimeout(this.idCompleted),this.idOpacied&&clearTimeout(this.idOpacied)},n.componentDidUpdate=function(){var e=this;this.wasCompleted?this.idCompleted=setTimeout((function(){e.idCompleted=null,e.forceUpdate()}),800):this.wasOpacied&&(this.idOpacied=setTimeout((function(){e.idOpacied=null,e.forceUpdate()}),800))},n.render=function(){var e,t=this.props,n=t.color,r=t.height;if(this.wasOpacied)e={backgroundColor:n,width:0,opacity:1,height:r},this.wasOpacied=!1;else if(this.wasCompleted)e={backgroundColor:n,width:"100%",opacity:0,transition:Er,height:r},this.wasCompleted=!1,this.wasOpacied=!0;else{var o=this.props.completed;o<0?o=0:o>=100&&(o=100,this.wasCompleted=!0),e={backgroundColor:n,opacity:1,width:o+"%",transition:yr,height:r}}return yt.createElement("div",{className:"progress-line",style:e})},t}(vr);gr.defaultProps={color:"#2f7ed8",height:3};const _r=gr;var Cr="#2f7ed8",wr="#ed5813";const xr=function(){var e=function(e){switch(e){case L:return[35,Cr];case R:return[100,Cr];case N:return[100,wr];default:return[0,Cr]}}((0,r.useSelector)((function(e){return e.fetching}))),t=e[0],n=e[1];return yt.createElement(_r,{height:3,color:n,completed:t})};var br=yt.useCallback,Sr={HAMBURGER:{width:"2.2rem",height:"2.2rem",verticalAlign:"middle",marginBottom:"0.5rem",marginLeft:"0.8rem",borderRadius:"0.4rem"}};const Tr=function(e){var t=e.storeKey,n=e.onClick,o=(0,r.useSelector)((function(e){return e.layout[t]})),a=br((function(){n(t)}),[t]),i=o?"bt-hamburger opened":"bt-hamburger";return yt.createElement("button",{className:i,style:Sr.HAMBURGER,onClick:a},yt.createElement("span",null))};var kr=yt.useCallback,Ar={display:"inline-block",color:"#80c040",width:22,height:22,border:"2px solid #80c040",borderRadius:"50%",textAlign:"center",fontWeight:"bold",cursor:"pointer"},Or={color:"#5b5b5b"};const Ir=function(e){var t=e.caption,n=e.title,o=e.style,a=e.storeKey,i=e.onClick,l=(0,r.useSelector)((function(e){return e.layout[a]})),s=kr((function(){i(a)}),[a]),c=l?T()({},Ar,o):T()({},Ar,o,Or);return yt.createElement("span",{className:"not-selected",style:c,title:n,onClick:s},t)};var Lr={LINK:{color:"#ff9800"}};const Rr=function(e){var t=e.className,n=e.style,r=e.prefixCL,o=e.prefix,a=void 0===o?"Powered By ":o;return yt.createElement("div",{className:t,style:n},yt.createElement("span",{className:r},a),yt.createElement("a",{className:"data-provider-link",style:Lr.LINK,href:"https://openweathermap.org/"},"OpenWeatherMap"))};const Nr=function(e){var t=e.className,n=e.title,r=e.href;return yt.createElement("a",{className:t,title:n,href:r,tabIndex:"-1"},yt.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"1.414"},yt.createElement("title",null,"GitHub Logo"),yt.createElement("path",{d:"M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.437 1.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8"})))};const Dr={_themeName:void 0,_style:void 0,_createStyle:function(e){return{HEADER:T()({},e.BG)}}};var Mr=Date.now||function(){return(new Date).getTime()};const Pr=function(e,t,n){var r,o,a,i;void 0===n&&(n={});var l=0,s=function(){l=!1===n.leading?0:Mr(),r=null,i=e.apply(o,a),r||(o=a=null)},c=function(){var c=Mr();l||!1!==n.leading||(l=c);var u=t-(c-l);o=this;for(var p=arguments.length,d=new Array(p),m=0;m<p;m++)d[m]=arguments[m];return a=d,u<=0||u>t?(r&&(clearTimeout(r),r=null),l=c,i=e.apply(o,a),r||(o=a=null)):r||!1===n.trailing||(r=setTimeout(s,u)),i};return c.cancel=function(){clearTimeout(r),l=0,r=o=a=null},c};var Br=vt.dispatch,Gr=Pr((function(e){return Br(m(e))}),1e4,{trailing:!1});window.weather={fnFetchForecast:function(e){"number"==typeof e&&0!==e&&Gr(e)}};const Ur={toggleLayout:function(e){Br(B(e))},showSettings:function(e){Br(B(e)),Br(A("SETTINGS"))},requestHourly:function(){return Br(E())},requestUvi:function(){return Br(x())},requestPlace:function(e){var t=e.lat,n=e.lng;return Br(s({lat:t,lot:n}))}};var Kr=Ur.toggleLayout,Hr=Ur.showSettings,Wr="header__title",Yr="header__link-pref",Fr="header__link-provider",Vr="header__github-link",qr={BT_CIRCLE:{width:"1.8rem",height:"1.8rem",lineHeight:"1rem",marginLeft:"1rem",paddingTop:"0.3rem"}};const zr=function(e){var t=e.style,n=hr(Dr);return yt.createElement("header",{role:"banner",style:T()({},t,n.HEADER)},yt.createElement(xr,null),yt.createElement(Tr,{storeKey:"isPushMenu",onClick:Kr}),yt.createElement("span",{className:Wr},"Weather v0.2.0"),yt.createElement(Ir,{style:qr.BT_CIRCLE,caption:"F",title:"Toggle Forecast Popup",storeKey:"isPopupForecast",onClick:Kr}),yt.createElement(Ir,{style:qr.BT_CIRCLE,caption:"S",title:"Open Settings Dialog",storeKey:"isSettings",onClick:Hr}),yt.createElement(Rr,{className:Fr,prefixCL:Yr}),yt.createElement(Nr,{className:Vr,title:"GitHub Repository",href:"https://github.com/zhnzhn/weather-forecast"}))};var jr=yt.Component,Xr="show-popup",Qr="not-selected",Zr={OPEN_COLOR:En.YELLOW,CLOSE_COLOR:En.BLANK},Jr={ROOT_DIV:{lineHeight:2},ROOT_SVG:{display:"inline-block",width:"16px",height:"16px",marginLeft:"8px"},CAPTION:{color:En.SIREN,paddingLeft:"4px",verticalAlign:"top",fontFamily:"Roboto, Arial Unicode MS, Arial, sans-serif",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},CURSOR:{cursor:"pointer"},INLINE_BLOCK:{display:"inline-block"},BLOCK:{display:"block"},NONE:{display:"none"}},$r=function(e){function t(t){var n;(n=e.call(this,t)||this)._handleClick=function(){n.setState((function(e){return{isOpen:!e.isOpen}}))};var r=t.isClose;return n.state={isOpen:!r},n}return Bt()(t,e),t.prototype.render=function(){var e,t,n,r,o=this.props,a=o.rootStyle,i=o.caption,l=o.openColor,s=o.closeColor,c=o.CompAfter,u=o.isClickableCompAfter,p=o.childStyle,d=o.children;return this.state.isOpen?(e="M 2,14 L 14,14 14,2 2,14",t=l,n=Jr.BLOCK,r=Xr):(e="M 2,2 L 14,8 2,14 2,2",t=s,n=Jr.NONE,r=null),yt.createElement("div",{style:T()({},Jr.ROOT_DIV,a)},yt.createElement("div",{className:Qr},yt.createElement("div",{style:T()({},Jr.INLINE_BLOCK,Jr.CURSOR),onClick:this._handleClick},yt.createElement("div",{style:Jr.ROOT_SVG},yt.createElement("svg",{viewBox:"0 0 16 16",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:Jr.INLINE_BLOCK},yt.createElement("path",{d:e,fill:t,strokeWidth:"1",stroke:l}))),yt.createElement("span",{style:Jr.CAPTION},i),c&&u&&c),!u&&c),yt.createElement("div",{className:r,style:T()({},p,n)},d))},t}(jr);$r.defaultProps={openColor:Zr.OPEN_COLOR,closeColor:Zr.CLOSE_COLOR};const eo=$r;var to={display:"inline",color:"#795548",width:"100%",paddingLeft:8,marginBottom:8,borderBottom:"3px solid #795548",fontSize:"24px",fontWeight:"bold"};const no=function(e){var t=e.forecast,n=e.style,r=(t||{}).city||{},o=r.name,a=void 0===o?"Forecast":o,i=r.country,l=void 0===i?"":i;return yt.createElement("div",{style:T()({},to,n)},yt.createElement("span",null,a),yt.createElement("span",null,":"),yt.createElement("span",null,l))};var ro=["SU","MO","TU","WE","TH","FR","SA"],oo=["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"],ao=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],io={toMonthDay:function(e){var t=new Date(1e3*e);return("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)},toTime:function(e){var t=new Date(1e3*e),n=t.getHours(),r=n,o="AM";return n>12?(r=n-12,o="PM"):12===n?(r=12,o="PM"):0===n&&(r=12),r+":"+("0"+t.getMinutes()).slice(-2)+" "+o},toMonthDayTime:function(e){return io.toMonthDay(e)+" "+io.toTime(e)},toShortDayOfWeek:function(e){var t=new Date(1e3*e);return("0"+t.getDate()).slice(-2)+" "+ro[t.getDay()]},toDayOfWeek:function(e){var t=new Date(1e3*e);return("0"+t.getDate()).slice(-2)+" "+oo[t.getDay()]},toDayHour:function(e){var t=new Date(1e3*e);return("0"+t.getDate()).slice(-2)+" "+("0"+t.getHours()).slice(-2)},toDirection:function(e){void 0===e&&(e=0);var t=Math.floor(e/22.5+.5);return ao[t%16]}};const lo=io;var so=function(e){if("number"==typeof e)return{transform:"rotate("+e+"deg)"}};const co=function(e){var t=e.deg;return yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 18",width:"100%",height:"100%",preserveAspectRatio:"none","aria-labelledby":"title",className:"icon__popup__vane",style:so(t)},yt.createElement("title",{id:"title"},"Icon Wind Vane"),yt.createElement("path",{d:"M 10,0 L 8,0 8,11 4,11 9,18 14,11 10,11 10,0"}))};var uo={ROOT_DIV:{display:"inline-block",paddingLeft:12,paddingRight:12,borderRadius:10,transition:"background-color 0.3s"},DAY:{color:"#8bc34a",marginBottom:4,borderBottom:"2px solid #8bc34a",textAlign:"center",fontSize:"24px",fontWeight:"bold"},PRESSURE:{display:"block",marginBottom:-15,color:"#0d2339",textAlign:"center",fontSize:"20px",fontWeight:"bold"},ICON:{display:"block",width:60,height:60,margin:"0 auto"},CELL_WIND:{marginTop:-10},WIND_SPEED:{color:"#3f51b5",fontSize:"20px",fontWeight:"bold"},CELL_TEMP:{paddingTop:4,paddingBottom:4,textAlign:"center"},TEMP_DAY:{color:"#ff9800",paddingLeft:4,fontSize:"20px",fontWeight:"bold"},TEMP_NIGHT:{color:"#434348",paddingLeft:8,fontSize:"20px",fontWeight:"bold"}},po=function(e,t){return void 0===e&&(e={}),Math.round(e[t])};const mo=function(e){var t,n=e.style,r=e.item,o=void 0===r?{}:r,a=e.onClick,i=o.weather,l=o.deg,s=o.speed,c=o.temp,u=o.dt,p="number"==typeof(t=s)&&t-t==0?s.toFixed(2):"",d=lo.toShortDayOfWeek(u),m=po(o,"pressure"),f=i[0].icon,h=3===f.length?"./img/"+f+".png":void 0,v=po(c,"day"),y=po(c,"night"),E="function"==typeof a?{tabIndex:"-1",className:"day-item",onClick:function(){return a(o)}}:void 0;return yt.createElement("div",T()({},E,{style:T()({},uo.ROOT_DIV,n)}),yt.createElement("div",{style:uo.DAY},d),yt.createElement("span",{style:uo.PRESSURE},m),yt.createElement("img",{src:h,style:uo.ICON}),yt.createElement("div",{style:uo.CELL_WIND},yt.createElement(co,{deg:l}),yt.createElement("span",{style:uo.WIND_SPEED},p)),yt.createElement("div",{style:uo.CELL_TEMP},yt.createElement("span",{style:uo.TEMP_DAY},v),yt.createElement("span",{style:uo.TEMP_NIGHT},y)))};var fo={ROOT:{cursor:"auto"},OPEN_CLOSE:{lineHeight:1.5}};const ho=function(e){var t=e.dayStyle,n=e.forecast,r=void 0===n?{}:n,o=e.captionStyle,a=e.onClickItem;return yt.createElement("div",{style:fo.ROOT},yt.createElement(eo,{rootStyle:fo.OPEN_CLOSE,openColor:En.BROWN,isClickableCompAfter:!0,CompAfter:yt.createElement(no,{style:o,forecast:r})},yt.createElement("div",null,function(e,t,n){var r=t.list;return(void 0===r?[]:r).map((function(t,r){return yt.createElement(mo,{key:r,style:e,item:t,onClick:n})}))}(t,r,a))))};var vo=yt.useEffect,yo={DAY:{cursor:"pointer"}};const Eo=function(e){var t=e.onClickItem,n=e.onUpdate,o=(0,r.useSelector)(We.forecast);return vo((function(){o&&n()}),[o]),yt.createElement(ho,{dayStyle:yo.DAY,forecast:o,onClickItem:t})};var go=yt.forwardRef,_o=yt.useState,Co=yt.useImperativeHandle,wo="marker__caption__date",xo="marker__description",bo="marker__label",So="marker__v-water",To="marker__v-pressure",ko="marker__v-day",Ao="marker__v-night",Oo={ROOT_DIV:{position:"absolute",top:190,left:200,padding:"8px 8px",lineHeight:1.5,borderRadius:4,boxShadow:"rgba(0, 0, 0, 0.2) 0px 0px 0px 6px",zIndex:1,transition:"left 0.5s ease-in 0s"},BLOCK:{display:"block"},NONE:{display:"none"},BT_CLOSE:{position:"absolute",top:7,right:4},DAY:{borderBottom:"2px solid #8bc34a"}},Io=function(e){var t=e.title,n=e.valueCn,r=e.value;return yt.createElement(yt.Fragment,null,yt.createElement("span",{className:bo},t," "),yt.createElement("span",{className:n},r," "))};const Lo=go((function(e,t){var n=e.onClose,r=_o({}),o=r[0],a=r[1],i=o.isOpen,l=o.item;Co(t,(function(){return{setItem:function(e){return a((function(){return{item:e,isOpen:!0}}))},close:function(){return a((function(e){return e.isOpen=!1,T()({},e)}))}}}));var s=l||{},c=s.dt,u=s.rain,p=void 0===u?0:u,d=s.snow,m=void 0===d?0:d,f=s.clouds,h=void 0===f?0:f,v=s.humidity,y=void 0===v?"":v,E=s.pressure,g=void 0===E?"":E,_=s.temp,C=void 0===_?{}:_,w=s.weather,x=void 0===w?[]:w,b=C.morn,S=void 0===b?"":b,k=C.day,A=void 0===k?"":k,O=C.max,I=void 0===O?"":O,L=C.eve,R=void 0===L?"":L,N=C.night,D=void 0===N?"":N,M=C.min,P=void 0===M?"":M,B=lo.toDayOfWeek(c)+" "+lo.toTime(c),G=x[0]&&x[0].description||"Without description",U=i?Oo.BLOCK:Oo.NONE;return yt.createElement("div",{style:T()({},Mt,Oo.ROOT_DIV,U)},yt.createElement(Wt,{style:Oo.BT_CLOSE,onClose:n}),yt.createElement("div",{className:wo},yt.createElement("span",{style:Oo.DAY},B)),yt.createElement("div",null,yt.createElement("span",{className:xo},G)),yt.createElement("div",null,yt.createElement(Io,{title:"Rain:",valueCn:So,value:p+"mm"}),m>.02&&yt.createElement(Io,{title:"Snow:",valueCn:So,value:m+"mm"}),yt.createElement(Io,{title:"Clouds:",valueCn:So,value:h+"%"})),yt.createElement("div",null,yt.createElement(Io,{title:"Humidity:",valueCn:So,value:y+"%"}),yt.createElement(Io,{title:"Pressure:",valueCn:To,value:g+"hPa"})),yt.createElement("div",null,yt.createElement(Io,{title:"Morn:",valueCn:ko,value:S}),yt.createElement(Io,{title:"Day:",valueCn:ko,value:A}),yt.createElement(Io,{title:"Max:",valueCn:ko,value:I})),yt.createElement("div",null,yt.createElement(Io,{title:"Eve:",valueCn:Ao,value:R}),yt.createElement(Io,{title:"Night:",valueCn:Ao,value:D}),yt.createElement(Io,{title:"Min:",valueCn:Ao,value:P})))}));var Ro=n(883),No=n(22),Do=n(240),Mo=n(498),Po=n(201),Bo=n(993),Go=n(830),Uo=n(687),Ko=n(49),Ho=n(134);const Wo={CartesianGrid:Ro.default,Bar:No.default,Line:Do.default,YAxis:Mo.default,XAxis:Po.default,ResponsiveContainer:Bo.default,Tooltip:Go.default,Legend:Uo.default,ComposedChart:Ko.default,LineChart:Ho.default};var Yo=Object.assign,Fo=function(e,t){return e?Yo({},t,Xo.POINTER):Yo({},t,Xo.POINTER,Xo.FILTERED)},Vo={},qo=function(e,t){return void 0===e&&(e="green"),{stroke:e,fill:t=t||e}},zo=function(e){return void 0===e&&(e="green"),{color:e,fontWeight:"bold"}},jo={display:"inline-block",color:At.LABEL.color,fontWeight:"bold"},Xo={ROOT_DIV:T()({},Mt,{padding:8}),LABEL:T()({},jo,{width:50}),CAPTION:T()({},jo,{paddingRight:4}),ROW:{paddingTop:8},DAY:zo(At.DAY.color),CIRCLE_SPEED:qo("#3F51B5","none"),SPEED:zo("#3f51b5"),CIRCLE_RAIN:qo("#0922A5"),RECT_RAIN:{stroke:"#0922a5"},RAIN:zo("#0922a5"),CIRCLE_TEMP_MAX:qo("#F44336","none"),TEMP_MAX:zo("#F44336"),CIRCLE_TEMP_MIN:qo("#03A9F4","none"),TEMP_MIN:zo("#03a9f4"),CIRCLE_TEMP_MORN:qo(At.TEMP_DAY.color,"none"),CIRCLE_TEMP_DAY:qo(At.TEMP_DAY.color),TEMP_DAY:zo(At.TEMP_DAY.color),CIRCLE_TEMP_EVE:qo(At.TEMP_NIGHT.color,"none"),CIRCLE_TEMP_NIGHT:qo(At.TEMP_NIGHT.color),TEMP_NIGHT:zo(At.TEMP_NIGHT.color),CIRCLE_PRESSURE:qo("#0D2339"),POINTER:{cursor:"pointer",lineHeight:2},FILTERED:{color:"#9e9e9e"},crLegendStyles:function(e){return undefined!==e?(Vo.tempMorn=Fo(e.tempMorn,Xo.TEMP_DAY),Vo.tempDay=Fo(e.tempDay,Xo.TEMP_DAY),Vo.tempEve=Fo(e.tempEve,Xo.TEMP_NIGHT),Vo.tempNight=Fo(e.tempNight,Xo.TEMP_NIGHT),Vo.tempMax=Fo(e.tempMax,Xo.TEMP_MAX),Vo.tempMin=Fo(e.tempMin,Xo.TEMP_MIN),Vo.rain=Fo(e.rain,Xo.RAIN),Vo.speed=Fo(e.speed,Xo.SPEED),Yo({},Vo)):Vo}};const Qo=Xo;const Zo=function(e){var t=e.caption,n=e.children;return yt.createElement("div",{style:Qo.ROOT_DIV},yt.createElement("div",null,yt.createElement("span",{style:Qo.DAY},t)),n)};var Jo=function(e){var t=e.t,n=e.v,r=e.style;return yt.createElement(yt.Fragment,null,yt.createElement("span",{style:Qo.LABEL},t+":"),yt.createElement("span",{style:r},function(e){return null==e?"":e}(n)," "))},$o=function(e){var t=e.t1,n=e.v1,r=e.t2,o=e.v2,a=e.style1,i=e.style2;return yt.createElement("div",{style:Qo.ROW},yt.createElement(Jo,{t,v:n,style:a}),yt.createElement(Jo,{t:r,v:o,style:i||a}))};const ea=function(e){if(!e.active)return null;var t=e.label,n=(e.payload[0]||{}).payload||{},r=n.tempMorn,o=n.tempDay,a=n.tempEve,i=n.tempNight,l=n.tempMin,s=n.tempMax,c=n.rain,u=n.speed;return yt.createElement(Zo,{caption:t},yt.createElement($o,{style1:Qo.TEMP_DAY,t1:"Morn",v1:r,t2:"Day",v2:o}),yt.createElement($o,{style1:Qo.TEMP_NIGHT,t1:"Eve",v1:a,t2:"Night",v2:i}),yt.createElement($o,{t1:"Min",v1:l,style1:Qo.TEMP_MIN,t2:"Max",v2:s,style2:Qo.TEMP_MAX}),yt.createElement($o,{style1:Qo.TEMP_MIN,t1:"Rain",v1:c,t2:"Speed",v2:u}))};var ta={SVG:{position:"relative",top:"4px",display:"inline-block",width:"18px",height:"18px"}};const na=function(e){var t=e.stroke,n=e.fill;return yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"100%",height:"100%",preserveAspectRatio:"none","aria-labelledby":"title",style:ta.SVG},yt.createElement("title",{id:"title"},"Circle Marker"),yt.createElement("circle",{r:"6",stroke:t,strokeWidth:"2",fill:n,cx:"9",cy:"9"}))};var ra={SVG:{position:"relative",top:"2px",display:"inline-block",width:"18px",height:"18px"}};const oa=function(e){var t=e.stroke,n=void 0===t?"green":t,r=e.fill;return r||(r=n),yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"100%",height:"100%",preserveAspectRatio:"none","aria-labelledby":"title",style:ra.SVG},yt.createElement("title",{id:"title"},"Rest Marker"),yt.createElement("rect",{x:"3",y:"0",width:"11",height:"18",stroke:n,fill:r}))};var aa={paddingLeft:"4px",paddingRight:"4px"};const ia=function(e){var t=e.style,n=e.onClick,r=e.children,o=e.titleStyle,a=e.title,i=void 0===a?"":a;return yt.createElement("div",{className:"legend-cell",style:T()({},aa,t),onClick:n},r,yt.createElement("span",{style:o},i))};var la=yt.Component,sa="tempDay",ca="tempNight",ua="tempMorn",pa="tempEve",da="tempMax",ma="tempMin",fa="rain",ha="speed",va={ROOT_DIV:{marginLeft:"3rem",marginTop:"1rem"},COL_1:{display:"inline-block",marginRight:"1rem"},COL_2:{display:"inline-block"},COL_3:{display:"inline-block",marginLeft:"1rem"}};const ya=function(e){function t(){return e.apply(this,arguments)||this}Bt()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return this.props===e||this.props.styles!==e.styles},n.render=function(){var e=this.props,t=e.styles,n=e.onFilter;return yt.createElement("div",{style:va.ROOT_DIV},yt.createElement("div",{style:va.COL_1},yt.createElement(ia,{onClick:n.bind(null,ua),titleStyle:t.tempMorn,title:"T Morn"},yt.createElement(na,Qo.CIRCLE_TEMP_MORN)),yt.createElement(ia,{onClick:n.bind(null,sa),titleStyle:t.tempDay,title:"T Day"},yt.createElement(na,Qo.CIRCLE_TEMP_DAY))),yt.createElement("div",{style:va.COL_2},yt.createElement(ia,{onClick:n.bind(null,pa),titleStyle:t.tempEve,title:"T Eve"},yt.createElement(na,Qo.CIRCLE_TEMP_EVE)),yt.createElement(ia,{onClick:n.bind(null,ca),titleStyle:t.tempNight,title:"T Night"},yt.createElement(na,Qo.CIRCLE_TEMP_NIGHT))),yt.createElement("div",{style:va.COL_3},yt.createElement(ia,{onClick:n.bind(null,da),titleStyle:t.tempMax,title:"T Max"},yt.createElement(na,Qo.CIRCLE_TEMP_MAX)),yt.createElement(ia,{onClick:n.bind(null,ma),titleStyle:t.tempMin,title:"T Min"},yt.createElement(na,Qo.CIRCLE_TEMP_MIN))),yt.createElement("div",{style:va.COL_3},yt.createElement(ia,{onClick:n.bind(null,fa),titleStyle:t.rain,title:"Rain"},yt.createElement(oa,Qo.RECT_RAIN)),yt.createElement(ia,{onClick:n.bind(null,ha),titleStyle:t.speed,title:"Speed"},yt.createElement(na,Qo.CIRCLE_SPEED))))},t}(la);var Ea=function(e){var t=e.stroke,n=e.fill,r=e.dash;return n||(n=t),{type:"monotone",stroke:t,strokeWidth:2,strokeDasharray:void 0===r?null:r,dot:{r:6,strokeWidth:2,strokeDasharray:null,stroke:t,fill:n},activeDot:{r:10,strokeWidth:2,strokeDasharray:null,stroke:t,fill:n}}},ga=function(e){return{axisLine:{stroke:e},tickLine:{stroke:e},tick:{stroke:e,fill:e}}};const _a={ComposedChart:{margin:{top:20,right:-10,bottom:30,left:-20}},HourlyChart:{margin:{top:20,right:10,bottom:30,left:20}},XAxis:{tickSize:16,tick:{stroke:At.DAY.color,fill:At.DAY.color}},YAxisSpeed:ga("#3F51B5"),YAxisRain:ga("#0922A5"),YAxisPressure:ga("#0D2339"),CartesianGrid:{stroke:"#555",vertical:!1},LinePressure:Ea({stroke:"#0D2339",fill:"#0D2339",dash:"5 5"}),LineRain:Ea({stroke:"#0922a5",fill:"#0922a5",dash:"5 5"}),LineSpeed:Ea({stroke:"#3f51b5",fill:"#808080",dash:"5 5"}),LineTempMax:Ea({stroke:"#F44336",fill:"#808080",dash:"5 5"}),LineTempMin:Ea({stroke:"#03a9f4",fill:"#808080",dash:"5 5"}),LineTempMorn:Ea({stroke:At.TEMP_DAY.color,fill:"#808080",dash:"5 5"}),LineTempDay:Ea({stroke:At.TEMP_DAY.color}),LineTempEve:Ea({stroke:At.TEMP_NIGHT.color,fill:"#808080",dash:"5 5"}),LineTempNight:Ea({stroke:At.TEMP_NIGHT.color})};var Ca=yt.useState,wa=yt.useCallback,xa=yt.useMemo,ba=yt.memo,Sa=Wo.CartesianGrid,Ta=Wo.Bar,ka=Wo.Line,Aa=Wo.YAxis,Oa=Wo.XAxis,Ia=Wo.ResponsiveContainer,La=Wo.Tooltip,Ra=Wo.Legend,Na=Wo.ComposedChart,Da={tempDay:!0,tempNight:!1,tempMorn:!1,tempEve:!1,tempMax:!1,tempMin:!1,rain:!1,speed:!1},Ma=[{day:"01 SU",tempDay:35},{day:"02 MO",tempDay:30},{day:"03 TU",tempDay:20},{day:"04 WE",tempDay:27},{day:"05 TH",tempDay:18},{day:"06 FR",tempDay:23},{day:"07 SA",tempDay:34}];const Pa=ba((function(){var e=Ca(Da),t=e[0],n=e[1],o=wa((function(e){n((function(t){return t[e]=!t[e],T()({},t)}))}),[]),a=(0,r.useSelector)((function(e){var t=We.recent(e);return t?We.listById(e,t):void 0})),i=xa((function(){return a?(void 0===(e=a)&&(e=[]),e.map((function(e){var t=e.dt,n=e.rain,r=void 0===n?0:n,o=e.speed,a=e.temp||{},i=a.day,l=void 0===i?null:i,s=a.night,c=void 0===s?null:s,u=a.morn,p=void 0===u?null:u,d=a.eve,m=void 0===d?null:d,f=a.max,h=void 0===f?null:f,v=a.min,y=void 0===v?null:v;return{day:lo.toShortDayOfWeek(t),tempDay:l,tempNight:c,tempMorn:p,tempEve:m,tempMax:h,tempMin:y,rain:r,speed:o}}))):Ma;var e}),[a]),l=xa((function(){return function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t={}),0===t.length)return e;var n=Object.keys(t);return e.map((function(e){var r=T()({},e);return n.forEach((function(e){t[e]||(r[e]=null)})),r}))}(i,t)}),[i,t]);return yt.createElement(Ia,{width:"100%",height:300},yt.createElement(Na,T()({data:l},_a.ComposedChart),yt.createElement(Oa,T()({dataKey:"day"},_a.XAxis)),yt.createElement(Aa,{label:{value:"°C"}}),yt.createElement(Aa,T()({yAxisId:1,dataKey:"rain",orientation:"right",label:"mm"},_a.YAxisRain)),yt.createElement(Aa,T()({hide:!t.speed,yAxisId:2,dataKey:"speed",orientation:"right",label:"m/s"},_a.YAxisSpeed)),yt.createElement(Sa,_a.CartesianGrid),yt.createElement(La,{offset:24,content:yt.createElement(ea,{data:i})}),yt.createElement(Ra,{content:yt.createElement(ya,{styles:Qo.crLegendStyles(t),onFilter:o})}),yt.createElement(Ta,{dataKey:"rain",yAxisId:1,barSize:20,fill:"#0922a5"}),yt.createElement(ka,T()({dataKey:"speed",yAxisId:2},_a.LineSpeed)),yt.createElement(ka,T()({dataKey:"tempMin"},_a.LineTempMin)),yt.createElement(ka,T()({dataKey:"tempMax"},_a.LineTempMax)),yt.createElement(ka,T()({dataKey:"tempEve"},_a.LineTempEve)),yt.createElement(ka,T()({dataKey:"tempMorn"},_a.LineTempMorn)),yt.createElement(ka,T()({dataKey:"tempNight"},_a.LineTempNight)),yt.createElement(ka,T()({dataKey:"tempDay"},_a.LineTempDay))))}),(function(){return!0}));var Ba=yt.Component,Ga="legend-cell",Ua={ROOT:{marginTop:"1rem"},ITEM:{display:"inline-block",marginRight:"1rem",paddingLeft:"4px",paddingRight:"4px",paddingBottom:"4px"}},Ka=function(e){return e?Ua.LABEL:T()({},Ua.LABEL,Qo.FILTERED)};const Ha=function(e){function t(){return e.apply(this,arguments)||this}return Bt()(t,e),t.prototype.render=function(){var e=this.props,t=e.filtered,n=e.onFilter,r=Ka(!t.temp),o=Ka(!t.pressure),a=Ka(!t.rain),i=Ka(!t.speed);return yt.createElement("div",{style:Ua.ROOT},yt.createElement("span",{className:Ga,style:Ua.ITEM,onClick:n.bind(null,"temp")},yt.createElement(na,Qo.CIRCLE_TEMP_NIGHT),yt.createElement("span",{style:r},"T")),yt.createElement("span",{className:Ga,style:Ua.ITEM,onClick:n.bind(null,"pressure")},yt.createElement(na,Qo.CIRCLE_PRESSURE),yt.createElement("span",{style:o},"Pressure")),yt.createElement("span",{className:Ga,style:Ua.ITEM,onClick:n.bind(null,"rain")},yt.createElement(na,Qo.CIRCLE_RAIN),yt.createElement("span",{style:a},"Rain")),yt.createElement("span",{className:Ga,style:Ua.ITEM,onClick:n.bind(null,"speed")},yt.createElement(na,Qo.CIRCLE_SPEED),yt.createElement("span",{style:i},"Speed")))},t}(Ba);const Wa=function(e){var t=e.caption,n=e.value;return null==n?null:yt.createElement("div",{style:Qo.ROW},yt.createElement("span",{style:Qo.CAPTION},t+":"),yt.createElement("span",{style:Qo.TEMP_MIN},n))};const Ya=function(e){var t=e.active,n=e.payload;if(!t)return null;var r=(n[0]||{}).payload||{},o=r.dt_text,a=r.temp,i=r.pressure,l=r.rain,s=r.speed;return yt.createElement(Zo,{caption:o},yt.createElement(Wa,{caption:"Temp",value:a}),yt.createElement(Wa,{caption:"Pressure",value:i}),yt.createElement(Wa,{caption:"Speed",value:s}),yt.createElement(Wa,{caption:"Rain",value:l}))};var Fa=yt.useState,Va=yt.useCallback,qa=yt.useMemo,za=yt.memo,ja=Wo.CartesianGrid,Xa=Wo.Line,Qa=Wo.Bar,Za=Wo.YAxis,Ja=Wo.XAxis,$a=Wo.ResponsiveContainer,ei=Wo.Legend,ti=Wo.ComposedChart,ni=Wo.Tooltip,ri=Array.isArray,oi={temp:!1,pressure:!0,rain:!0,speed:!0},ai=[{day:"01 08",temp:35},{day:"02 20",temp:30},{day:"03 08",temp:20},{day:"04 20",temp:27},{day:"05 08",temp:18},{day:"06 20",temp:23},{day:"07 08",temp:34}];const ii=za((function(){var e=Fa(oi),t=e[0],n=e[1],o=Va((function(e){n((function(t){return t[e]=!t[e],T()({},t)}))}),[]),a=(0,r.useSelector)((function(e){return Ye.forecast(e)})),i=qa((function(){return ri(a)?function(e){return e.map((function(e){var t=e.dt,n=e.main,r=e.wind,o=e.rain,a=n||{},i=a.temp,l=a.pressure,s=a.humidity,c=(r||{}).speed,u=void 0===c?null:c,p=(o||{})["3h"]||null,d=lo.toDayHour(t);return{day:d,dt_text:d+":00",temp:i,pressure:l,humidity:s,speed:u,rain:p}}))}(a):ai}),[a]);return yt.createElement($a,{width:"100%",height:300},yt.createElement(ti,T()({data:i},_a.HourlyChart),yt.createElement(Ja,T()({dataKey:"day"},_a.XAxis)),yt.createElement(Za,{yAxisId:1,orientation:"right",width:45,label:"°C",dataKey:"temp",hide:t.temp}),yt.createElement(Za,T()({yAxisId:2,orientation:"right",width:80,dataKey:"pressure",type:"number",domain:["dataMin","dataMax"],label:"hPa",hide:t.pressure},_a.YAxisPressure)),yt.createElement(Za,T()({yAxisId:3,orientation:"right",width:54,label:"mm",dataKey:"rain",hide:t.rain},_a.YAxisRain)),yt.createElement(Za,T()({yAxisId:4,orientation:"right",width:45,label:"m/s",dataKey:"speed",hide:t.speed},_a.YAxisSpeed)),yt.createElement(ja,_a.CartesianGrid),yt.createElement(ni,{offset:24,content:yt.createElement(Ya,{data:i})}),yt.createElement(ei,{content:yt.createElement(Ha,{filtered:t,onFilter:o})}),yt.createElement(Xa,T()({},_a.LineTempNight,{connectNulls:!0,yAxisId:1,dataKey:t.temp?"empty":"temp"})),yt.createElement(Xa,T()({},_a.LinePressure,{connectNulls:!0,strokeDasharray:"5 5",yAxisId:2,dataKey:t.pressure?"empty":"pressure"})),yt.createElement(Qa,{dataKey:t.rain?"empty":"rain",yAxisId:3,barSize:20,fill:"#0922a5"}),yt.createElement(Xa,T()({connectNulls:!0},_a.LineSpeed,{strokeDasharray:"5 5",yAxisId:4,dataKey:t.speed?"empty":"speed"}))))}),(function(){return!0}));const li=function(e){var t=e.active,n=e.payload;if(!t)return null;var r=(n[0]||{}).payload||{},o=r.day,a=r.uvi;return yt.createElement(Zo,{caption:o+":00"},yt.createElement(Wa,{caption:"UV index",value:a}))};var si=yt.useMemo,ci=Wo.CartesianGrid,ui=Wo.Line,pi=Wo.YAxis,di=Wo.XAxis,mi=Wo.ResponsiveContainer,fi=Wo.LineChart,hi=Wo.Tooltip;const vi=function(){var e=(0,r.useSelector)(Fe.forecast),t=si((function(){return(e||[]).map((function(e){var t=e.dt,n=e.uvi;return{day:lo.toDayHour(t),uvi:n}}))}),[e]);return yt.createElement(mi,{width:"100%",height:300},yt.createElement(fi,T()({data:t},_a.HourlyChart),yt.createElement(di,T()({dataKey:"day"},_a.XAxis)),yt.createElement(pi,{yAxisId:1,orientation:"right",width:45,dataKey:"uvi"}),yt.createElement(ci,_a.CartesianGrid),yt.createElement(hi,{offset:24,content:yt.createElement(li,{data:t})}),yt.createElement(ui,T()({},_a.LineTempNight,{connectNulls:!0,yAxisId:1,dataKey:"uvi"}))))};const yi={_themeName:void 0,_style:{},_createStyle:function(e){return{ROOT_DIV:T()({position:"fixed",top:"3rem",left:"0",bottom:"0",borderRight:"1px solid #999",transform:"translateX(-100%)",transition:"transform .3s",fill:e.BG_MARK.backgroundColor},e.BG,{width:665}),C_BG_MARK:e.BG_MARK.backgroundColor,C_BG_UNMARK:e.BG.backgroundColor}}};var Ei=yt.useRef,gi=yt.useCallback,_i=Ur.requestHourly,Ci=Ur.requestUvi,wi={TABS:{textAlign:"left"}};const xi=function(e){var t=e.id,n=e.theme,r=Ei(),o=gi((function(e,t){r.current.setItem(e)}),[]),a=gi((function(){r.current.close()}),[]),i=n.createStyle(yi);return yt.createElement("div",{id:t,style:i.ROOT_DIV},yt.createElement(Eo,{onUpdate:a,onClickItem:o}),yt.createElement(Lo,{ref:r,onClose:a}),yt.createElement(on,{key:"1",width:"100%",tabsStyle:wi.TABS},yt.createElement(ln,{title:"7 Days"},yt.createElement(Pa,null)),yt.createElement(ln,{title:"5 Days/3 Hours",onClick:_i},yt.createElement(ii,null)),yt.createElement(ln,{title:"UV index",onClick:Ci},yt.createElement(vi,null))))};var bi=n.n(undefined),Si=n(215),Ti=n.n(Si)().sanitize,ki=function(e,t,n,r){return void 0===e&&(e=[]),void 0===n&&(n=0),void 0===r&&(r="no data"),e&&e[n]&&e[n][t]||r},Ai=function(e){return'<svg xmlns="http://www.w3.org/2000/svg"\n       viewBox="0 0 17 18" width="100%" height="100%"\n       preserveAspectRatio="none" aria-labelledby="title"\n       class="icon__popup__vane"\n       style="transform:rotate('+e+'deg);position:relative;top:4px;"\n  >\n     <title id="title">Icon Wind Vane</title>\n     <path\n        d="M 10,0 L 8,0 8,11 4,11 9,18 14,11 10,11 10,0"\n     >\n  </svg>'};const Oi={fDivIcon:function(e){var t=e||{},n=t.weather,r=void 0===n?[]:n,o=t.main,a=t.wind,i=o||{},l=i.temp,s=void 0===l?"":l,c=i.pressure,u=void 0===c?"":c,p=a||{},d=p.deg,m=void 0===d?0:d,f=p.speed,h=void 0===f?"":f,v=ki(r,"icon");return Ti('<div style="position:relative;top:-45px;left:-25px;font-size: 15px;font-weight:bold;">\n       <img src=./img/'+v+'.png style="width:60px;height:60px;"></img>\n       <div style="position:absolute; top:5px; left: 50px; width: 90px; line-height: 1.2;">\n         <div style="color:#ff9800;">'+s+'&nbsp;℃</div>\n         <div style="color:#3f51b5;">'+u+"&nbsp;hPa</div>\n         <div>\n            "+Ai(m)+'\n            <span style="color:#3f51b5;">'+h+"m/s<span>\n         </div>\n       </div>\n     </div>")},fPopup:function(e,t){var n=e||{},r=n.id,o=n.name,a=void 0===o?"":o,i=n.sys,l=n.dt,s=n.wind,c=n.weather,u=n.main,p=n.visibility,d=void 0===p?"no data":p,m=(i||{}).country,f=void 0===m?"":m,h=ki(c,"description"),v=u||{},y=v.temp,E=void 0===y?"":y,g=v.pressure,_=void 0===g?"":g,C=s||{},w=C.deg,x=void 0===w?0:w,b=C.speed,S=void 0===b?"no data":b,T=ki(c,"icon"),k="",A="",O="";"number"==typeof r&&0!==r&&(k="marker__caption__not-empty",A="weather.fnFetchForecast("+r+")",O='<div class="marker__caption__city">'+a+":"+f+"</div>");var I=Ti(T),L=Ti(h),R=Ti(E),N=Ti(_),D=Ti(S),M=Ti(d),P=Ti(x);return'<div class="marker__caption '+k+'" onclick="'+A+'">\n           '+O+'\n           <div class="marker__caption__date">\n             '+lo.toMonthDayTime(l)+'\n           </div>\n        </div>\n        <p style="display:table;margin: 0 0;font-size: 15px; font-weight: bold;">\n          <img src=./img/'+I+'.png style="display:table-cell;width:50px;height:50px;"></img>\n          <span class="marker__description" style="display:table-cell;vertical-align:middle;">\n            '+L+'\n          </span>\n        </p>\n        <p style="margin: 0 0;margin-top: -8px;font-size: 15px; font-weight: bold;">\n          <span class="marker__label" title="Temperature">T:</span>\n          <span class="marker__value-odd" style="color:#ff9800;">\n             '+R+'&nbsp;C\n           </span>\n           <span class="marker__label left-5" title="Pressure">Pr:</span>\n           <span class="marker__value-odd" style="color:#3f51b5;">\n             '+N+'&nbsp;hPa\n           </span>\n        </p>\n        <p style="margin: 0 0;font-size: 15px; font-weight: bold;">\n          <span class="marker__label" title="Wind">W:</span>\n          '+Ai(P)+'\n          <span class="marker__value-odd" style="color:#3f51b5;">\n            '+lo.toDirection(P)+'\n          </span>\n          <span class="marker__value-odd" style="color:#3f51b5;">\n            '+D+'m/s\n          </span>\n        </p>\n        <p style="margin: 0 0;margin-top: 4px;font-size: 15px; font-weight: bold;">\n           <span class="marker__label" title="Clouds">Cl:</span>\n           <span class="marker__value-even" style="color:#3f51b5;">'+e.clouds.all+'%</span>\n           <span class="marker__label left-5" title="Humidity">H:</span>\n           <span class="marker__value-even" style="color:#3f51b5;">'+e.main.humidity+'%</span>\n           <span class="marker__label left-5">V:</span>\n           <span class="marker__value-even" style="color:#3f51b5;">\n             '+M+"\n            </span>\n        </p>"}};var Ii=bi()||window.L,Li={DF:"",WHITE:"popup--white",SAND:"popup--sand"},Ri=50,Ni=0,Di=2;const Mi={createMap:function(e,t){if(Ii){var n=Ii.map(e,{zoomControl:!0}).on("load",t).setView([Ri,Ni],Di);return n.zoomControl.setPosition("bottomright"),Ii.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{id:"addis",attribution:'&copy; <a  href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',maxZoom:18}).addTo(n),n}},addMarker:function(e,t,n){if(Ii){var r=Ii.divIcon({html:Oi.fDivIcon(e)}),o=(e||{}).coord||{},a=o.lat,i=o.lon;a&&i&&Ii.marker([a,i],{icon:r,title:e.name,alt:e.name}).bindPopup(Oi.fPopup(e),function(e){return{className:Li[e]||Li.DF}}(t)).addTo(n)}}};var Pi=yt.useState,Bi=yt.useRef,Gi=yt.useEffect,Ui=Ur.requestPlace,Ki={width:"100%",height:650,transition:"transform .3s, width .6s"},Hi="a",Wi="b",Yi="c";const Fi=function(e){var t=e.id,n=e.style,o=e.themeName,a=Bi(),i=Bi(o),l=Pi(Hi),s=l[0],c=l[1],u=(0,r.useSelector)(He.forecast);return i.current=o,Gi((function(){var e=Mi.createMap(t,(function(){return c(Wi)}));e?(a.current=e,a.current.on("dblclick",Pr((function(e){return Ui(e.latlng)}),5e3,{trailing:!1}))):c(Yi)}),[]),Gi((function(){u&&Mi.addMarker(u,i.current,a.current)}),[u]),yt.createElement("div",{style:T()({},Ki,n),id:t},s===Hi&&yt.createElement("span",null,"LeafletMap Loading..."),s===Yi&&yt.createElement("span",null,"LeafletMap Loading Has Failed"))};var Vi=n(413),qi=n.n(Vi);const zi={makeDragable:function(e){qi()(e).draggable({inertia:!0,onmove:this._dragMoveListener,onend:this._dragEndListener}).preventDefault(!1)},_dragMoveListener:function(e){var t=e.target,n=(parseFloat(t.getAttribute("data-x"))||0)+e.dx,r=(parseFloat(t.getAttribute("data-y"))||0)+e.dy;t.style.webkitTransform=t.style.transform="translate("+n+"px, "+r+"px)",t.setAttribute("data-x",n),t.setAttribute("data-y",r)},_dragEndListener:function(e){var t=e.target,n=parseFloat(t.getAttribute("data-x"))||0,r=parseFloat(t.getAttribute("data-y"))||0,o=Number(t.style.left.replace("px","")),a=Number(t.style.top.replace("px",""));t.style.left=o+n+"px",t.style.top=a+r+"px",t.style.webkitTransform=t.style.transform="",t.setAttribute("data-x",0),t.setAttribute("data-y",0)}};var ji=yt.useRef,Xi=yt.useCallback,Qi=yt.useEffect,Zi={BLOCK:{display:"block"},NONE:{display:"none"},SVG_CLOSE:{position:"absolute",top:16,right:6}};const Ji=function(e){var t=e.style,n=e.storeKey,o=e.children,a=ji(),i=(0,r.useSelector)((function(e){return e.layout[n]})),l=(0,r.useDispatch)(),s=Xi((function(){l(B(n))}),[l,n]);Qi((function(){zi.makeDragable(a.current)}),[]);var c=i?Zi.BLOCK:Zi.NONE,u=i?"show-popup":void 0;return yt.createElement("div",{ref:a,className:u,style:T()({},t,c)},yt.createElement(Wt,{style:Zi.SVG_CLOSE,onClose:s}),o)};const $i={_themeName:void 0,_style:{},_createStyle:function(e){return{ROOT_DIV:T()({},e.BG)}}};var el={CAPTION:{marginRight:40}},tl=function(){return yt.createElement("div",null,yt.createElement("span",null,"Forecast for place not found"))};const nl=function(e){var t=e.style,n=(0,r.useSelector)((function(e){var t=We.recent(e);return We.byId(e,t)})),o=hr($i),a=(n||{}).cod;return yt.createElement(Ji,{style:T()({},t,o.ROOT_DIV),storeKey:"isPopupForecast"},yt.createElement(ho,{forecast:n,captionStyle:el.CAPTION}),a&&""+a!="200"&&yt.createElement(tl,null))};var rl=yt.useRef,ol=yt.useEffect,al="map_id",il="left_push_menu",ll={HEADER:{width:"100%",height:"3rem",lineHeight:"3rem",borderBottom:"1px solid #999",cursor:"auto"},MAP:{width:"100%",height:"calc(100vh - 3rem)"},FLY_ROOT_DIV:{position:"absolute",top:30,left:50,padding:"10px 5px 5px 4px",backgroundColor:"#808080",border:"1px solid #999",borderRadius:5,boxShadow:"rgba(0, 0, 0, 0.2) 0px 0px 0px 12px",zIndex:500}},sl=Object.assign;const cl=function(){var e=rl(),t=rl(),n=(0,r.useSelector)((function(e){return e.layout.themeName})),o=(0,r.useSelector)((function(e){return e.layout.isPushMenu})),a=(0,r.useStore)();return ol((function(){e.current=document.getElementById(al),t.current=document.getElementById(il)}),[]),ol((function(){if(o){var n=t.current.getBoundingClientRect().width;sl(e.current.style,{transform:"translateX("+n+"px)",width:"calc(100vw - "+n+"px)"}),t.current.style.transform="translateX(0px)"}else sl(e.current.style,{transform:"translateX(0px)",width:"100vw"}),t.current.style.transform="translateX(-100%)"}),[o]),yt.createElement(Et.Provider,{value:Dt},yt.createElement("div",null,yt.createElement(mr,{store:a}),yt.createElement(zr,{style:ll.HEADER}),yt.createElement("div",null,yt.createElement(xi,{id:il,theme:Dt}),yt.createElement(Fi,{id:al,style:ll.MAP,themeName:n}),yt.createElement(nl,{style:ll.FLY_ROOT_DIV}))))};var ul=e||window.React;(0,(t||window.ReactDOM).render)(ul.createElement(r.Provider,{store:vt},ul.createElement(cl,null)),document.getElementById("app"))})()})();