{"version":3,"sources":["../../../src/components/containers/FlyPopup.jsx"],"names":["Component","React","CLASS_SHOW","STYLE","BLOCK","display","NONE","SVG_CLOSE","position","top","right","FlyPopup","props","_onStore","store","storeKey","getState","layout","isShow","state","setState","handleClose","dispatch","_refRootDiv","c","domRootDiv","componentDidMount","Interact","makeDragable","unsubsribe","subscribe","componetWillUnmount","render","children","rootStyle","_styleShow","_classShow","undefined"],"mappings":";;;;;;;;;;;AACA;;AAEA;;AACA;;AAEA;;AANA;IAQQA,S,GAAcC,iB,CAAdD,S;AAER,IAAME,UAAU,GAAG,YAAnB;AAEA,IAAMC,KAAK,GAAG;AACZC,EAAAA,KAAK,EAAG;AACNC,IAAAA,OAAO,EAAG;AADJ,GADI;AAIZC,EAAAA,IAAI,EAAG;AACLD,IAAAA,OAAO,EAAG;AADL,GAJK;AAOZE,EAAAA,SAAS,EAAG;AACVC,IAAAA,QAAQ,EAAE,UADA;AAEVC,IAAAA,GAAG,EAAE,MAFK;AAGVC,IAAAA,KAAK,EAAE;AAHG;AAPA,CAAd;;IAcMC,Q;;;;;AAEJ;;;;;;;AAQA,oBAAYC,KAAZ,EAAkB;AAAA;;AAChB,kCAAMA,KAAN;;AADgB,UAclBC,QAdkB,GAcP,YAAM;AAAA,wBACa,MAAKD,KADlB;AAAA,UACPE,KADO,eACPA,KADO;AAAA,UACAC,QADA,eACAA,QADA;AAAA,4BAEAD,KAAK,CAACE,QAAN,EAFA;AAAA,UAEXC,MAFW,mBAEXA,MAFW;AAAA,UAGXC,MAHW,GAGA,MAAKC,KAHL,CAGXD,MAHW;;AAIf,UAAID,MAAM,CAACF,QAAD,CAAN,KAAqBG,MAAzB,EAAgC;AAC9B,cAAKE,QAAL,CAAc;AAAEF,UAAAA,MAAM,EAAGD,MAAM,CAACF,QAAD;AAAjB,SAAd;AACD;AACF,KArBiB;;AAAA,UA0BlBM,WA1BkB,GA0BJ,YAAM;AAAA,yBACU,MAAKT,KADf;AAAA,UACVE,KADU,gBACVA,KADU;AAAA,UACHC,QADG,gBACHA,QADG;AAElBD,MAAAA,KAAK,CAACQ,QAAN,CAAe,2BAAaP,QAAb,CAAf;AACD,KA7BiB;;AAAA,UA+BlBQ,WA/BkB,GA+BJ,UAAAC,CAAC;AAAA,aAAI,MAAKC,UAAL,GAAkBD,CAAtB;AAAA,KA/BG;;AAAA,QAERV,MAFQ,GAEYF,KAFZ,CAERE,KAFQ;AAAA,QAEDC,SAFC,GAEYH,KAFZ,CAEDG,QAFC;;AAGhB,QAAMI,KAAK,GAAGL,MAAK,CAACE,QAAN,EAAd;;AACA,UAAKG,KAAL,GAAa;AACXD,MAAAA,MAAM,EAAGC,KAAK,CAACF,MAAN,CAAaF,SAAb;AADE,KAAb;AAJgB;AAOjB;;;;SAEDW,iB,GAAA,6BAAmB;AAChBC,yBAASC,YAAT,CAAsB,KAAKH,UAA3B;;AADgB,QAERX,KAFQ,GAEE,KAAKF,KAFP,CAERE,KAFQ;AAGhB,SAAKe,UAAL,GAAkBf,KAAK,CAACgB,SAAN,CAAgB,KAAKjB,QAArB,CAAlB;AACF,G;;SASDkB,mB,GAAA,+BAAqB;AACnB,SAAKF,UAAL;AACD,G;;SASDG,M,GAAA,kBAAQ;AAAA,uBAC0B,KAAKpB,KAD/B;AAAA,QACEqB,QADF,gBACEA,QADF;AAAA,QACYC,SADZ,gBACYA,SADZ;AAAA,QAEEhB,MAFF,GAEa,KAAKC,KAFlB,CAEED,MAFF;AAAA,QAGAiB,UAHA,GAGajB,MAAM,GACbf,KAAK,CAACC,KADO,GAEbD,KAAK,CAACG,IALZ;AAAA,QAMA8B,UANA,GAMalB,MAAM,GACbhB,UADa,GAEbmC,SARN;;AASN,WACE;AACK,MAAA,GAAG,EAAE,KAAKd,WADf;AAEK,MAAA,SAAS,EAAEa,UAFhB;AAGK,MAAA,KAAK,gCAAOF,SAAP,MAAqBC,UAArB;AAHV,OAKE,gCAAC,oBAAD;AACG,MAAA,KAAK,EAAEhC,KAAK,CAACI,SADhB;AAEG,MAAA,OAAO,EAAE,KAAKc;AAFjB,MALF,EASGY,QATH,CADF;AAaD,G;;;EAjEoBjC,S;;eAoERW,Q","sourcesContent":["//import React, { Component } from 'react';\r\nimport React from '../_react'\r\n\r\nimport Interact from '../../utils/Interact';\r\nimport SvgClose from '../zhn-atoms/SvgClose';\r\n\r\nimport { toggleLayout } from '../../flux/layout/actions';\r\n\r\nconst { Component } = React;\r\n\r\nconst CLASS_SHOW = 'show-popup';\r\n\r\nconst STYLE = {\r\n  BLOCK : {\r\n    display : 'block'\r\n  },\r\n  NONE : {\r\n    display : 'none'\r\n  },\r\n  SVG_CLOSE : {\r\n    position: 'absolute',\r\n    top: '16px',\r\n    right: '6px'\r\n  }\r\n}\r\n\r\nclass FlyPopup extends Component {\r\n\r\n  /*\r\n  static propTypes = {\r\n     rootStyle: PropTypes.object,\r\n     store: PropTypes.object,\r\n     storeKey: PropTypes.string\r\n  }\r\n  */\r\n\r\n  constructor(props){\r\n    super(props);\r\n    const { store, storeKey } = props;\r\n    const state = store.getState();\r\n    this.state = {\r\n      isShow : state.layout[storeKey]\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n     Interact.makeDragable(this.domRootDiv);\r\n     const { store } = this.props;\r\n     this.unsubsribe = store.subscribe(this._onStore)\r\n  }\r\n  _onStore = () => {\r\n    const { store, storeKey } = this.props\r\n    , { layout } = store.getState()\r\n    , { isShow } = this.state;\r\n    if (layout[storeKey] !== isShow){\r\n      this.setState({ isShow : layout[storeKey] })\r\n    }\r\n  }\r\n  componetWillUnmount(){\r\n    this.unsubsribe()\r\n  }\r\n\r\n  handleClose = () => {\r\n    const { store, storeKey } = this.props;\r\n    store.dispatch(toggleLayout(storeKey))\r\n  }\r\n\r\n  _refRootDiv = c => this.domRootDiv = c\r\n\r\n  render(){\r\n    const { children, rootStyle } = this.props\r\n        , { isShow } = this.state\r\n        , _styleShow = isShow\r\n              ? STYLE.BLOCK\r\n              : STYLE.NONE\r\n        , _classShow = isShow\r\n              ? CLASS_SHOW\r\n              : undefined;\r\n    return (\r\n      <div\r\n           ref={this._refRootDiv}\r\n           className={_classShow}\r\n           style={{ ...rootStyle, ..._styleShow }}\r\n      >\r\n        <SvgClose\r\n           style={STYLE.SVG_CLOSE}\r\n           onClose={this.handleClose}\r\n        />\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FlyPopup\r\n"],"file":"FlyPopup.js"}