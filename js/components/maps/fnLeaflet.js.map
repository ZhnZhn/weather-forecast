{"version":3,"sources":["../../../src/components/maps/fnLeaflet.js"],"names":["L","Leaflet","window","POPUP_CL","DF","WHITE","SAND","_crPopupOptions","themeName","className","LAT","LNG","ZOOM","fnLeaflet","createMap","id","onLoad","map","zoomControl","on","setView","setPosition","tileLayer","attribution","maxZoom","addTo","addMarker","w","icon","divIcon","html","marker","fDivIcon","coord","lat","lon","title","name","alt","bindPopup","fPopup"],"mappings":";;;;;;;AAAA;;AACA;;AAEA,IAAMA,CAAC,GAAGC,uBAAWC,MAAM,CAACF,CAA5B;AAEA,IAAMG,QAAQ,GAAG;AACfC,EAAAA,EAAE,EAAE,EADW;AAEfC,EAAAA,KAAK,EAAE,cAFQ;AAGfC,EAAAA,IAAI,EAAE;AAHS,CAAjB;;AAMA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,SAAS;AAAA,SAAK;AACpCC,IAAAA,SAAS,EAAEN,QAAQ,CAACK,SAAD,CAAR,IAAuBL,QAAQ,CAACC;AADP,GAAL;AAAA,CAAjC;;AAIA,IAAMA,EAAE,GAAG;AACTM,EAAAA,GAAG,EAAE,EADI;AAETC,EAAAA,GAAG,EAAE,CAFI;AAGTC,EAAAA,IAAI,EAAE;AAHG,CAAX;AAMA,IAAMC,SAAS,GAAG;AAChBC,EAAAA,SAAS,EAAG,mBAACC,EAAD,EAAKC,MAAL,EAAgB;AAC1B,QAAMC,GAAG,GAAGjB,CAAC,CACX;AADW,KAEViB,GAFS,CAELF,EAFK,EAED;AAAEG,MAAAA,WAAW,EAAE;AAAf,KAFC,EAGTC,EAHS,CAGN,MAHM,EAGEH,MAHF,EAITI,OAJS,CAID,CAAChB,EAAE,CAACM,GAAJ,EAASN,EAAE,CAACO,GAAZ,CAJC,EAIiBP,EAAE,CAACQ,IAJpB,CAAZ;AAKAK,IAAAA,GAAG,CAACC,WAAJ,CAAgBG,WAAhB,CAA4B,aAA5B;AACArB,IAAAA,CAAC,CAACsB,SAAF,CAAY,oDAAZ,EACY;AACEP,MAAAA,EAAE,EAAE,OADN;AAEEQ,MAAAA,WAAW,EAAE,4EAFf;AAGEC,MAAAA,OAAO,EAAE;AAHX,KADZ,EAMaC,KANb,CAMmBR,GANnB;AAOA,WAAOA,GAAP;AACD,GAhBe;AAkBhBS,EAAAA,SAAS,EAAG,mBAACC,CAAD,EAAOnB,SAAP,EAAkBS,GAAlB,EAA0B;AAAA,QAAzBU,CAAyB;AAAzBA,MAAAA,CAAyB,GAAvB,EAAuB;AAAA;;AACpC,QAAMC,IAAI,GAAG5B,CAAC,CAAC6B,OAAF,CAAU;AAAEC,MAAAA,IAAI,EAAEC,mBAAOC,QAAP,CAAgBL,CAAhB;AAAR,KAAV,CAAb;AADoC,aAEfA,CAFe;AAAA,sBAE5BM,KAF4B;AAAA,QAE5BA,KAF4B,yBAEtB,EAFsB;AAAA,QAG5BC,GAH4B,GAGfD,KAHe,CAG5BC,GAH4B;AAAA,QAGvBC,GAHuB,GAGfF,KAHe,CAGvBE,GAHuB;;AAIpC,QAAID,GAAG,IAAIC,GAAX,EAAe;AACbnC,MAAAA,CAAC,CAAC+B,MAAF,CAAS,CAACG,GAAD,EAAMC,GAAN,CAAT,EAAqB;AACnBP,QAAAA,IAAI,EAAEA,IADa;AAEnBQ,QAAAA,KAAK,EAAGT,CAAC,CAACU,IAFS;AAGnBC,QAAAA,GAAG,EAAGX,CAAC,CAACU;AAHW,OAArB,EAIGE,SAJH,CAKER,mBAAOS,MAAP,CAAcb,CAAd,CALF,EAMEpB,eAAe,CAACC,SAAD,CANjB,EAOEiB,KAPF,CAOQR,GAPR;AAQD;AACF;AAhCe,CAAlB;eAmCeJ,S","sourcesContent":["import Leaflet from 'leaflet';\r\nimport marker from '../../templates/marker';\r\n\r\nconst L = Leaflet || window.L;\r\n\r\nconst POPUP_CL = {\r\n  DF: '',\r\n  WHITE: 'popup--white',\r\n  SAND: 'popup--sand'\r\n};\r\n\r\nconst _crPopupOptions = themeName => ({\r\n  className: POPUP_CL[themeName] || POPUP_CL.DF\r\n});\r\n\r\nconst DF = {\r\n  LAT: 50,\r\n  LNG: 0,\r\n  ZOOM: 2,\r\n};\r\n\r\nconst fnLeaflet = {\r\n  createMap : (id, onLoad) => {\r\n    const map = L\r\n      //.map(id, { zoomControl: true, ...options })\r\n      .map(id, { zoomControl: true })\r\n      .on('load', onLoad)\r\n      .setView([DF.LAT, DF.LNG], DF.ZOOM);\r\n    map.zoomControl.setPosition('bottomright');\r\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\r\n                {\r\n                  id: 'addis',\r\n                  attribution: '&copy; <a  href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\r\n                  maxZoom: 18\r\n                 }\r\n               ).addTo(map);\r\n    return map;\r\n  },\r\n\r\n  addMarker : (w={}, themeName, map) => {    \r\n    const icon = L.divIcon({ html: marker.fDivIcon(w)});\r\n    const { coord={} } = w;\r\n    const { lat, lon } = coord;\r\n    if (lat && lon){\r\n      L.marker([lat, lon], {\r\n        icon: icon,\r\n        title : w.name,\r\n        alt : w.name,\r\n      }).bindPopup(\r\n        marker.fPopup(w),\r\n        _crPopupOptions(themeName)\r\n      ).addTo(map)\r\n    }\r\n  }\r\n}\r\n\r\nexport default fnLeaflet\r\n"],"file":"fnLeaflet.js"}