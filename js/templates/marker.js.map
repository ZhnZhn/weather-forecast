{"version":3,"sources":["../../src/templates/marker.js"],"names":["_fnCreateVane","deg","marker","fDivIcon","w","weather","main","wind","is","toObjLike","temp","pressure","speed","icon","toStr","fPopup","themeName","id","name","sys","msc","dt","visibility","country","description","_captionCl","_captionOnClick","_captionCityDiv","toMonthDayTime","toDirection","clouds","all","humidity"],"mappings":";;;;;;;AAAA;;AACA;;AAEA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,GAAD,EAAS;AAC7B,yPAI+BA,GAJ/B;AAWD,CAZD;;AAeA,IAAMC,MAAM,GAAG;AACbC,EAAAA,QAAQ,EAAG,kBAACC,CAAD,EAAU;AAAA,QAATA,CAAS;AAATA,MAAAA,CAAS,GAAP,EAAO;AAAA;;AAAA,aACgBA,CADhB;AAAA,wBACXC,OADW;AAAA,QACXA,OADW,2BACH,EADG;AAAA,QACCC,IADD,MACCA,IADD;AAAA,QACOC,IADP,MACOA,IADP;AAAA,wBAEUC,eAAGC,SAAH,CAAaH,IAAb,CAFV;AAAA,2CAEfI,IAFe;AAAA,QAEfA,IAFe,mCAEV,EAFU;AAAA,8CAENC,QAFM;AAAA,QAENA,QAFM,sCAEG,EAFH;AAAA,yBAGKH,eAAGC,SAAH,CAAaF,IAAb,CAHL;AAAA,4CAGfN,GAHe;AAAA,QAGfA,GAHe,mCAGX,CAHW;AAAA,8CAGRW,KAHQ;AAAA,QAGRA,KAHQ,qCAGF,EAHE;AAAA,QAIjBC,IAJiB,GAIVL,eAAGM,KAAH,CAAST,OAAT,EAAkB,MAAlB,EAA0B,CAA1B,EAA6B,SAA7B,CAJU;;AAMnB,sIAC0BQ,IAD1B,yMAGyCH,IAHzC,yEAIyCC,QAJzC,iEAMgBX,aAAa,CAACC,GAAD,CAN7B,2DAO6CW,KAP7C;AAWD,GAlBY;AAqBbG,EAAAA,MAAM,EAAG,gBAACX,CAAD,EAAOY,SAAP,EAAqB;AAAA,QAApBZ,CAAoB;AAApBA,MAAAA,CAAoB,GAAlB,EAAkB;AAAA;;AAAA,cAIxBA,CAJwB;AAAA,QAE1Ba,EAF0B,OAE1BA,EAF0B;AAAA,uBAEtBC,IAFsB;AAAA,QAEtBA,IAFsB,yBAEjB,EAFiB;AAAA,QAEbC,GAFa,OAEbA,GAFa;AAAA,QAELC,GAFK,OAERC,EAFQ;AAAA,QAEAd,IAFA,OAEAA,IAFA;AAAA,QAEMF,OAFN,OAEMA,OAFN;AAAA,QAG1BC,IAH0B,OAG1BA,IAH0B;AAAA,6BAGpBgB,UAHoB;AAAA,QAGpBA,UAHoB,+BAGT,SAHS;AAAA,yBAKTd,eAAGC,SAAH,CAAaU,GAAb,CALS;AAAA,+CAKxBI,OALwB;AAAA,QAKxBA,OALwB,sCAKhB,EALgB;AAAA,QAM1BC,WAN0B,GAMZhB,eAAGM,KAAH,CAAST,OAAT,EAAkB,aAAlB,CANY;AAAA,yBAOCG,eAAGC,SAAH,CAAaH,IAAb,CAPD;AAAA,6CAOxBI,IAPwB;AAAA,QAOxBA,IAPwB,oCAOnB,EAPmB;AAAA,+CAOfC,QAPe;AAAA,QAOfA,QAPe,sCAON,EAPM;AAAA,yBAQGH,eAAGC,SAAH,CAAaF,IAAb,CARH;AAAA,4CAQxBN,GARwB;AAAA,QAQxBA,GARwB,mCAQpB,CARoB;AAAA,8CAQjBW,KARiB;AAAA,QAQjBA,KARiB,qCAQX,SARW;AAAA,QAS1BC,IAT0B,GASnBL,eAAGM,KAAH,CAAST,OAAT,EAAkB,MAAlB,EAA0B,CAA1B,EAA6B,SAA7B,CATmB;;AAW5B,QAAIoB,UAAU,GAAC,EAAf;AAAA,QACIC,eAAe,GAAC,EADpB;AAAA,QAEIC,eAAe,GAAC,EAFpB;;AAGA,QAAI,OAAOV,EAAP,KAAc,QAAd,IAA0BA,EAAE,KAAK,CAArC,EAAwC;AACtCQ,MAAAA,UAAU,GAAG,4BAAb;AACAC,MAAAA,eAAe,gCAA8BT,EAA9B,MAAf;AACAU,MAAAA,eAAe,6CAAyCT,IAAzC,SAAiDK,OAAjD,WAAf;AACD;;AAED,6CAAsCE,UAAtC,qBAA8DC,eAA9D,4BACaC,eADb,iFAGeN,eAAGO,cAAH,CAAkBR,GAAlB,CAHf,2KAO2BP,IAP3B,kMAScW,WATd,wTAeed,IAff,yNAmBeC,QAnBf,4NAwBYX,aAAa,CAACC,GAAD,CAxBzB,qGA0BcoB,eAAGQ,WAAH,CAAe5B,GAAf,CA1Bd,4HA6BcW,KA7Bd,sSAkCqER,CAAC,CAAC0B,MAAF,CAASC,GAlC9E,+KAoCqE3B,CAAC,CAACE,IAAF,CAAO0B,QApC5E,+KAuCeV,UAvCf;AA0CD;AAnFY,CAAf;eAsFepB,M","sourcesContent":["import dt from '../utils/dt'\r\nimport is from '../utils/is';\r\n\r\nconst _fnCreateVane = (deg) => {\r\n  return `<svg xmlns=\"http://www.w3.org/2000/svg\"\r\n       viewBox=\"0 0 17 18\" width=\"100%\" height=\"100%\"\r\n       preserveAspectRatio=\"none\" aria-labelledby=\"title\"\r\n       class=\"icon__popup__vane\"\r\n       style=\"transform:rotate(${deg}deg);position:relative;top:4px;\"\r\n  >\r\n     <title id=\"title\">Icon Wind Vane</title>\r\n     <path\r\n        d=\"M 10,0 L 8,0 8,11 4,11 9,18 14,11 10,11 10,0\"\r\n     >\r\n  </svg>`;\r\n}\r\n\r\n\r\nconst marker = {\r\n  fDivIcon : (w={}) => {\r\n    const { weather=[], main, wind } = w\r\n    , { temp='', pressure='' } = is.toObjLike(main)\r\n    , { deg=0, speed='' } = is.toObjLike(wind)\r\n    , icon = is.toStr(weather, 'icon', 0, 'no-data');\r\n\r\n    return `<div style=\"position:relative;top:-45px;left:-25px;font-size: 15px;font-weight:bold;\">\r\n             <img src=./img/${icon}.png style=\"width:60px;height:60px;\"></img>\r\n             <div style=\"position:absolute; top:5px; left: 50px; width: 90px; line-height: 1.2;\">\r\n               <div style=\"color:#ff9800;\">${temp}&nbsp;â„ƒ</div>\r\n               <div style=\"color:#3f51b5;\">${pressure}&nbsp;hPa</div>\r\n               <div>\r\n                  ${_fnCreateVane(deg)}\r\n                  <span style=\"color:#3f51b5;\">${speed}m/s<span>\r\n               </div>\r\n             </div>\r\n            </div>`\r\n  },\r\n\r\n\r\n  fPopup : (w={}, themeName) => {\r\n    const {\r\n      id, name='', sys, dt:msc, wind, weather,\r\n      main, visibility='no data'\r\n    } = w\r\n    , { country='' } = is.toObjLike(sys)\r\n    , description = is.toStr(weather, 'description')\r\n    , { temp='', pressure='' } = is.toObjLike(main)\r\n    , { deg=0, speed='no data' } = is.toObjLike(wind)\r\n    , icon = is.toStr(weather, 'icon', 0, 'no-data');\r\n\r\n    let _captionCl=''\r\n      , _captionOnClick=''\r\n      , _captionCityDiv='';\r\n    if (typeof id === 'number' && id !== 0) {\r\n      _captionCl = 'marker__caption__not-empty'\r\n      _captionOnClick = `weather.fnFetchForecast(${id})`\r\n      _captionCityDiv = `<div class=\"marker__caption__city\">${name}:${country}</div>`\r\n    }\r\n\r\n    return `<div class=\"marker__caption ${_captionCl}\" onclick=\"${_captionOnClick}\">\r\n               ${_captionCityDiv}\r\n               <div class=\"marker__caption__date\">\r\n                 ${dt.toMonthDayTime(msc)}\r\n               </div>\r\n            </div>\r\n            <p style=\"display:table;margin: 0 0;font-size: 15px; font-weight: bold;\">\r\n              <img src=./img/${icon}.png style=\"display:table-cell;width:50px;height:50px;\"></img>\r\n              <span class=\"marker__description\" style=\"display:table-cell;vertical-align:middle;\">\r\n                ${description}\r\n              </span>\r\n            </p>\r\n            <p style=\"margin: 0 0;margin-top: -8px;font-size: 15px; font-weight: bold;\">\r\n              <span class=\"marker__label\" title=\"Temperature\">T:</span>\r\n              <span class=\"marker__value-odd\" style=\"color:#ff9800;\">\r\n                 ${temp}&nbsp;C\r\n               </span>\r\n               <span class=\"marker__label left-5\" title=\"Pressure\">Pr:</span>\r\n               <span class=\"marker__value-odd\" style=\"color:#3f51b5;\">\r\n                 ${pressure}&nbsp;hPa\r\n               </span>\r\n            </p>\r\n            <p style=\"margin: 0 0;font-size: 15px; font-weight: bold;\">\r\n              <span class=\"marker__label\" title=\"Wind\">W:</span>\r\n              ${_fnCreateVane(deg)}\r\n              <span class=\"marker__value-odd\" style=\"color:#3f51b5;\">\r\n                ${dt.toDirection(deg)}\r\n              </span>\r\n              <span class=\"marker__value-odd\" style=\"color:#3f51b5;\">\r\n                ${speed}m/s\r\n              </span>\r\n            </p>\r\n            <p style=\"margin: 0 0;margin-top: 4px;font-size: 15px; font-weight: bold;\">\r\n               <span class=\"marker__label\" title=\"Clouds\">Cl:</span>\r\n               <span class=\"marker__value-even\" style=\"color:#3f51b5;\">${w.clouds.all}%</span>\r\n               <span class=\"marker__label left-5\" title=\"Humidity\">H:</span>\r\n               <span class=\"marker__value-even\" style=\"color:#3f51b5;\">${w.main.humidity}%</span>\r\n               <span class=\"marker__label left-5\">V:</span>\r\n               <span class=\"marker__value-even\" style=\"color:#3f51b5;\">\r\n                 ${visibility}\r\n                </span>\r\n            </p>`;\r\n  }\r\n};\r\n\r\nexport default marker\r\n"],"file":"marker.js"}